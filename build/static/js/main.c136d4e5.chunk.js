(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){e.exports=a.p+"static/media/email.1337f63c.svg"},125:function(e,t,a){e.exports=a.p+"static/media/password.93f02a83.svg"},279:function(e,t,a){e.exports=a.p+"static/media/logout.54c6d733.svg"},280:function(e,t,a){e.exports=a.p+"static/media/member.26258da2.svg"},281:function(e,t,a){e.exports=a.p+"static/media/LOGO.57458336.svg"},283:function(e,t,a){e.exports=a.p+"static/media/phone.40728378.svg"},284:function(e,t,a){e.exports=a.p+"static/media/user.b6ccb63c.svg"},285:function(e,t,a){e.exports=a(571)},549:function(e,t,a){e.exports=a.p+"static/media/eastwood-page-under-construction.0e79ead4.png"},550:function(e,t,a){},551:function(e,t,a){},552:function(e,t,a){},556:function(e,t,a){},557:function(e,t,a){},563:function(e,t,a){},564:function(e,t,a){},565:function(e,t,a){},566:function(e,t,a){},567:function(e,t,a){},568:function(e,t,a){},569:function(e,t,a){},570:function(e,t,a){},571:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(80),l=a.n(r),i=a(14),o=a(36),s=a(275),u=a(54),m=a(83),d=a(12),p=(a(469),{authError:null}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("\u767b\u5165\u5931\u6557"),Object(d.a)({},e,{authError:"\u5e33\u865f\u6216\u5bc6\u78bc\u932f\u8aa4\uff0c\u8acb\u91cd\u65b0\u8f38\u5165\u3002"});case"LOGIN_SUCCESS":return console.log("\u767b\u5165\u6210\u529f"),Object(d.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("\u6210\u529f\u767b\u51fa"),e;case"SIGNUP_SUCCESS":return console.log("\u8a3b\u518a\u6210\u529f"),Object(d.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("\u8a3b\u518a\u5931\u6557"),Object(d.a)({},e,{authError:t.err.message});default:return e}return e},f={formdata:"",concerDataAll:"",changeFormData:"",renderMatchListData:"",searchInput:""},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_OPTION":return console.log("\u6709\u6293\u5230dataArray\u7684\u8cc7\u6599",t.dataArray,t.concertArray),Object(d.a)({},e,{formdata:t.dataArray,concerDataAll:t.concertArray});case"CREATE_EXCHANGE_FORM_DATA_IN_DATABASE":return console.log(t.changeFormData),console.log(typeof t.renderMatchListData),console.log(t.renderMatchListData),Object(d.a)({},e,{applyDocumentID:t.applyDocumentID,changeFormData:t.changeFormData,renderMatchListData:t.renderMatchListData,renderMatchListDataID:t.renderMatchListDataID});default:return e}},E={comingUpEventData:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_UPCOMING_EVENT":return console.log("\u6709\u6293\u5230\u5168\u90e8\u6f14\u5531\u6703\u7684\u8cc7\u6599!!!!",t.concertBasicListArray),Object(d.a)({},e,{comingUpEventData:t.concertBasicListArray});default:return e}},_={memberFormData:"",deleteApply:"",searchAgainData:"",renderMatchListData_search:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_USER_PROFILE":return console.log("\u6709\u6293\u5230\u7684\u8cc7\u6599",t.userApplyData),Object(d.a)({},e,{memberFormData:t.userApplyData});case"DELETE_USER_APPLY_DATA_IN_MEMBERPAGE":return Object(d.a)({},e,{memberFormData:t.userApplyData,deleteApply:t.deleteApply});case"SEARCH_AGAIN_BUTTON":return Object(d.a)({},e,{searchAgainData:t.searchAgainData,renderMatchListData_search:t.renderMatchListData_search});default:return e}},D={apply:"",DecideData:"",decideData:"",responseResult:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_APPLY_DATA_BOTH_USER":return console.log("\u6210\u529f\u52a0\u5165\u7533\u8acb\u55ae\u96c6\u5408\u7684\u8cc7\u6599",t.apply,t.DecideData),Object(d.a)({},e,{apply:t.apply,DecideData:t.DecideData});case"GET_USER_APPLICATION_DATA_WAIT_RESPONSE":return{decideData:t.decideData};case"RESPONSE_TO_THE_APPLICANTS":return Object(d.a)({},e,{responseResult:t.responseResult});default:return e}},N=Object(o.combineReducers)({auth:h,form:g,upComingEvent:b,memberDataBase:v,ticketChange:y,firestore:u.firestoreReducer,firebase:m.firebaseReducer}),C=a(10),O=a(277),A=a(81),S=a.n(A);a(546),a(547),a(548);S.a.initializeApp({apiKey:"AIzaSyBGY94EkRWbXegBcxBiP7tGYWp5aFF5QZo",authDomain:"fanconcert-af75c.firebaseapp.com",databaseURL:"https://fanconcert-af75c.firebaseio.com",projectId:"fanconcert-af75c",storageBucket:"fanconcert-af75c.appspot.com",messagingSenderId:"287058786354"});var j=S.a.storage(),k=a(278),I=a.n(k),T=a(4),x=a(5),P=a(7),w=a(6),F=a(8),M=a(40),R=a(21),U=a(9),L=a(82),B=function(e,t){return function(e,t,a){a.getFirebase;var n=(0,a.getFirestore)(),c=[],r=[];n.collection("AllConcertBasicData").get().then(function(e){e.forEach(function(e){var t=e.data();c.push(t)})}),n.collection("exo").get().then(function(e){e.forEach(function(e){var t=e.data();r.push(t)})}),n.collection("fayuching").get().then(function(e){e.forEach(function(e){var t=e.data();r.push(t)})}),n.collection("chencheer").get().then(function(e){e.forEach(function(e){var t=e.data();r.push(t)})}).then(function(){e({type:"CREATE_OPTION",dataArray:r,concertArray:c})}).catch(function(e){})}},G=function(e){return function(t,a,n){n.getFirebase;var c=(0,n.getFirestore)(),r=[];c.collection("exchange_form").add(Object(d.a)({},e,{createdAt:new Date})).then(function(a){var n=a.id,l=e.queryConcertID,i=e.exChangeSelectArea,o=e.exChangeSelectPrice,s=e.selectName,u=e.selectPrice,m=e.user_id;c.collection("exchange_form").where("queryConcertID","==","".concat(l)).where("selectName","==","".concat(i)).where("selectPrice","==","".concat(o)).where("exChangeSelectArea","==","".concat(s)).where("exChangeSelectPrice","==","".concat(u)).get().then(function(a){a.forEach(function(e){var t=e.id,a=e.data();e.data().user_id!=="".concat(m)&&(a.docID=t,r.push(a))}),t({type:"CREATE_EXCHANGE_FORM_DATA_IN_DATABASE",applyDocumentID:n,changeFormData:e,renderMatchListData:r}),0!==r.length?window.location.hash="/renderMatch":window.location.hash="/member_profile"})})}},q=(a(549),a(550),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(P.a)(this,Object(w.a)(t).call(this,e))).toggleChange=function(){a.setState({isChecked:!a.state.isChecked})},a.handleImageUpload=function(e){if(e.preventDefault(),e.target.files[0]){var t=e.target.files[0];j.ref("formUploadImages/".concat(t.name)).put(t).on("state_changed",function(e){},function(e){alert("\u4e0a\u50b3\u7684\u5716\u6a94\u8acb\u5c0f\u65bc2MB\uff0c\u8b1d\u8b1d\uff01")},function(){j.ref("formUploadImages").child(t.name).getDownloadURL().then(function(e){a.setState({url:e}),alert("\u5716\u7247\u5df2\u4e0a\u50b3\u5b8c\u7562\uff01")})})}},a.state={ConcertName:"",ConcertPlace:"",queryConcertID:"",selectName:"",selectPrice:"",exChangeSelectArea:"",exChangeSelectPrice:"",ticketNum:"",changeWay:"",phoneNumber:"",reminderTxt:"",priceSpread:"",pricePlusTag:"",url:"",user_name:"",user_id:a.props.auth.uid,email:a.props.auth.email,initialChangeState:0,open:!1,isChecked:!1},a.openModal=a.openModal.bind(Object(U.a)(Object(U.a)(a))),a.closeModal=a.closeModal.bind(Object(U.a)(Object(U.a)(a))),a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(e,t){this.props.changeFormAction(e,t)}},{key:"openModal",value:function(){this.setState({open:!0})}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"changeConcertName",value:function(e){var t=this;this.setState({ConcertName:e.target.value}),this.props.concerDataAll.map(function(a,n){return e.target.value===a.name&&(t.setState({ConcertPlace:a.place}),t.setState({queryConcertID:a.concert_id})),!1})}},{key:"changeConcertPlace",value:function(e){this.setState({ConcertPlace:e.target.value})}},{key:"changeName",value:function(e){var t=this;this.setState({selectName:e.target.value}),this.props.formdata.map(function(a,n){return e.target.value===a.name&&t.setState({selectPrice:a.price[0]}),!1})}},{key:"changePrice",value:function(e){this.setState({selectPrice:e.target.value},function(){var e=Number(this.state.selectPrice.replace(/\D/g,"")),t=Number(this.state.exChangeSelectPrice.replace(/\D/g,""));e>t?this.setState({priceSpread:e-t,pricePlusTag:"\u5c0d\u65b9\u9700\u8981\u88dc\u7d66\u60a8NT$"}):e<t?this.setState({priceSpread:t-e,pricePlusTag:"\u60a8\u9700\u8981\u88dc\u7d66\u5c0d\u65b9NT$"}):this.setState({priceSpread:"",pricePlusTag:"\u60a8\u4e0d\u9700\u8981\u88dc\u5dee\u984d"})})}},{key:"exChangeArea",value:function(e){var t=this;this.setState({exChangeSelectArea:e.target.value}),this.props.formdata.map(function(a,n){return e.target.value===a.name&&t.setState({exChangeSelectPrice:a.price[0]}),!1})}},{key:"exChangePrice",value:function(e){this.setState({exChangeSelectPrice:e.target.value},function(){alert("Hello");var e=Number(this.state.selectPrice.replace(/\D/g,"")),t=Number(this.state.exChangeSelectPrice.replace(/\D/g,""));e>t?this.setState({priceSpread:e-t,pricePlusTag:"\u5c0d\u65b9\u9700\u8981\u88dc\u7d66\u60a8NT$"}):e<t?this.setState({priceSpread:t-e,pricePlusTag:"\u60a8\u9700\u8981\u88dc\u7d66\u5c0d\u65b9NT$"}):this.setState({priceSpread:"",pricePlusTag:"\u60a8\u4e0d\u9700\u8981\u88dc\u5dee\u984d"})})}},{key:"handleChangeValue",value:function(e){var t;this.setState((t={},Object(R.a)(t,e.target.id,e.target.value),Object(R.a)(t,"phoneNumber",this.props.profile.phone_number),Object(R.a)(t,"user_name",this.props.profile.user_name),t))}},{key:"handleSubmit",value:function(e){e.preventDefault(),alert("\u8868\u55ae\u5df2\u9001\u51fa\uff0c\u611f\u8b1d\u60a8\u7684\u586b\u5beb\uff01"),this.props.createEXChangeFormData(this.state)}},{key:"render",value:function(){var e=this,t=[],a=[],n=this.props.concerDataAll;if(n&&0!==n.length)for(var r=0;r<n.length;r++)t.push(n[r].name),a.push(n[r].place);var l=t.map(function(e,t){return c.a.createElement("option",{key:t,value:e,index:t},e)}),i=a.map(function(a,n){return t.indexOf(e.state.ConcertName.toString())===n&&c.a.createElement("option",{key:n},a)}),o=[],s=[],u=this.props.formdata;if(u&&0!==u.length)for(var m=0;m<u.length;m++)u[m].concert_id===this.state.queryConcertID&&(o.push(u[m].name),s.push(u[m].price));var d=o.map(function(e,t){return c.a.createElement("option",{key:t,value:e,index:t},e)}),p=s.map(function(t,a){return o.indexOf(e.state.selectName.toString())===a&&t.map(function(e,t){return c.a.createElement("option",{key:t},e)})}),h=o.map(function(e,t){return c.a.createElement("option",{key:t,value:e,index:t},e)}),f=s.map(function(t,a){return o.indexOf(e.state.exChangeSelectArea.toString())===a&&t.map(function(e,t){return c.a.createElement("option",{key:t},e)})});return console.log(this.props.profile.user_name),c.a.createElement("div",null,c.a.createElement("div",{className:"change_btn",onClick:function(){return e.openModal()}},"\u6211\u8981\u4ea4\u63db ",c.a.createElement("i",{className:"fas fa-chevron-right"})),c.a.createElement(L.a,{open:this.state.open,closeOnDocumentClick:!0,onClose:function(){return e.closeModal()},contentStyle:{padding:0,border:"none",background:"rgba(0,0,0,0)",boxShadow:"none",fontSize:"20px"}},c.a.createElement("div",{className:"change_form_all"},c.a.createElement("p",{className:"form_title"},"TICKET EX-CHANGE FORM"),c.a.createElement("div",{className:"change_form"},c.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},c.a.createElement("p",null,this.props.name),c.a.createElement("div",{className:"data_block"},c.a.createElement("label",{htmlFor:"inputform_concertName",className:"inputform_concertName"},c.a.createElement("i",{className:"fas fa-microphone"})," \u6d3b\u52d5\u540d\u7a31"),c.a.createElement("select",{className:"concert_name_style",value:this.state.ConcertName,onChange:this.changeConcertName.bind(this)},c.a.createElement("option",{value:""},"\u8acb\u9078\u64c7\u6d3b\u52d5\u540d\u7a31"),l)),c.a.createElement("div",{className:"place_and_change"},c.a.createElement("div",{className:"hold_place_block"},c.a.createElement("label",{htmlFor:"hold_area"},c.a.createElement("i",{className:"fas fa-map-marker-alt"})," \u8209\u884c\u5730\u9ede"),c.a.createElement("select",{value:this.state.ConcertPlace,onChange:this.changeConcertPlace.bind(this)},c.a.createElement("option",{value:""},"\u8acb\u9078\u64c7"),i)),c.a.createElement("div",{className:"change_way_block"},c.a.createElement("label",{htmlFor:"change_way"},c.a.createElement("i",{className:"fas fa-undo-alt"})," \u4ea4\u63db\u65b9\u5f0f"),c.a.createElement("select",{value:this.state.changeWay,id:"changeWay",onChange:this.handleChangeValue.bind(this),required:!0},c.a.createElement("option",{value:""},"\u8acb\u9078\u64c7"),c.a.createElement("option",{value:"send_package"},"\u90f5\u5bc4"),c.a.createElement("option",{value:"face_to_face"},"\u9762\u4ea4"),c.a.createElement("option",{value:"others_way"},"\u5176\u4ed6")))),c.a.createElement("div",{className:"data_block"},c.a.createElement("label",{htmlFor:"hold_ticket_area"},"\u6301\u6709\u5340\u57df & \u7968\u50f9"),c.a.createElement("select",{value:this.state.selectName,onChange:this.changeName.bind(this),required:!0},c.a.createElement("option",{value:""},"\u8acb\u9078\u64c7\u5340\u57df"),d),c.a.createElement("select",{className:"price_style",value:this.state.selectPrice,onChange:this.changePrice.bind(this),required:!0},c.a.createElement("option",{value:""},"\u8acb\u9078\u64c7\u7968\u50f9"),p)),c.a.createElement("div",{className:"data_block"},c.a.createElement("label",{htmlFor:"change_area"},"\u4ea4\u63db\u5340\u57df & \u7968\u50f9"),c.a.createElement("select",{value:this.state.exChangeSelectArea,onChange:this.exChangeArea.bind(this),required:!0},c.a.createElement("option",{value:""},"\u8acb\u9078\u64c7\u5340\u57df"),h),c.a.createElement("select",{className:"price_style",value:this.state.exChangeSelectPrice,onChange:this.exChangePrice.bind(this),required:!0},c.a.createElement("option",{value:""},"\u8acb\u9078\u64c7\u7968\u50f9"),f)),c.a.createElement("div",{className:"data_block"},c.a.createElement("label",{htmlFor:"price_spread",className:"price_spread"},c.a.createElement("i",{className:"fas fa-comments-dollar"})," \u50f9\u5dee\uff5c",this.state.pricePlusTag+this.state.priceSpread)),c.a.createElement("div",{className:"data_block hide_contact",onChange:this.handleChangeValue.bind(this)},c.a.createElement("p",null,c.a.createElement("i",{className:"fas fa-address-card"})," \u806f\u7d61\u8cc7\u8a0a\uff5c"),c.a.createElement("p",null,this.props.profile.user_name,"\uff0f",c.a.createElement("span",null,this.props.profile.phone_number)),c.a.createElement("p",null,"\uff0f",this.state.email)),c.a.createElement("div",{className:"data_block"},c.a.createElement("label",{htmlFor:"ps_text"},c.a.createElement("i",{className:"fas fa-comment-dots"})," \u5099\u8a3b"),c.a.createElement("textarea",{value:this.state.reminderTxt,id:"reminderTxt",onChange:this.handleChangeValue.bind(this),required:!0,placeholder:"\u8aaa\u4e9b\u4ec0\u9ebc\u5427"})),c.a.createElement("label",{className:"upload_block"},c.a.createElement("input",{type:"file",className:"file_upload",url:this.state.url,id:"filepath",onChange:this.handleImageUpload.bind(this)}),c.a.createElement("div",{className:"select_file"},c.a.createElement("p",null,c.a.createElement("i",{className:"fa fa-download","aria-hidden":"true"})," \u4e0a\u50b3\u7968\u5238\u7167\u7247"),c.a.createElement("span",null,"\u4e0a\u50b3\u7684\u5716\u6a94\u8acb\u5c0f\u65bc2MB\uff0c\u8b1d\u8b1d\uff01"))),c.a.createElement("p",{className:"check_box_txt"},c.a.createElement("input",{type:"checkbox",className:"checkbox_style",checked:this.state.isChecked,onChange:this.toggleChange,required:!0}),"\u8acb\u518d\u6b21\u78ba\u8a8d\u586b\u5beb\u8cc7\u8a0a\uff0c\u78ba\u8a8d\u7121\u8aa4\u5f8c\u518d\u9001\u51fa\u3002"),c.a.createElement("button",{className:"ChangeFormSubmit"},"\u78ba\u8a8d\u9001\u51fa"))))))}}]),t}(c.a.Component));var W=Object(C.b)(function(e){return{formdata:e.form.formdata,concerDataAll:e.form.concerDataAll,auth:e.firebase.auth,profile:e.firebase.profile,renderMatchListDataID:e.form.renderMatchListDataID,renderMatchListData:e.form.renderMatchListData}},function(e){return{changeFormAction:function(){return e(B())},createEXChangeFormData:function(t){return e(G(t))}}})(q),Y=(a(551),function(e){return function(e,t,a){a.getFirebase;(0,a.getFirestore)().collection("AllConcertBasicData").get().then(function(e){console.log("AllConcertBasicData",e),e.forEach(function(e){e.data();console.log(e.data()),console.log(typeof e.data())})}).then(function(){}).catch(function(e){})}}),H=function(e){function t(e){return Object(T.a)(this,t),Object(P.a)(this,Object(w.a)(t).call(this,e))}return Object(F.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"searchbar"},c.a.createElement("input",{type:"text",placeholder:"\u60f3\u627e\u8ab0\u7684\u6f14\u5531\u6703\u9580\u7968\u5462\uff1f"}),c.a.createElement("i",{className:"fas fa-search searchIcon"})),c.a.createElement(W,null))}}]),t}(c.a.Component);var V=Object(C.b)(function(e){return{}},function(e){return{searchBarAction:function(){return e(Y())}}})(H),X=(a(552),a(553),function(e){return function(e,t,a){a.getFirebase;var n=(0,a.getFirestore)(),c=[];n.collection("AllConcertBasicData").get().then(function(e){e.forEach(function(e){var t=e.data();c.push(t)})}).then(function(){e({type:"CREATE_UPCOMING_EVENT",concertBasicListArray:c})}).catch(function(e){})}}),$=function(e){function t(e){return Object(T.a)(this,t),Object(P.a)(this,Object(w.a)(t).call(this,e))}return Object(F.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(e){this.props.createupComingEvent(e)}},{key:"render",value:function(){var e=this.props.comingUpEventData;console.log(e);var t=e&&e.map(function(e){return c.a.createElement("li",{className:"eventBlock",key:e.concert_id},c.a.createElement("img",{src:e.mainPic}),c.a.createElement("div",{className:"activity_details"},c.a.createElement("div",{className:"hold_date"},c.a.createElement("p",{className:"day"},"".concat(e.date).split("/")[2]),c.a.createElement("p",{className:"month_year"},e.month," ","".concat(e.date).split("/")[0])),c.a.createElement("div",{className:"activityTitle"},"".concat(e.name).toString().slice(0,22).trim().concat("...")),c.a.createElement("div",{className:"wrap_time_place"},c.a.createElement("p",{className:"time"},c.a.createElement("i",{className:"far fa-calendar-alt"})," ",e.time),c.a.createElement("p",{className:"place"},c.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",e.place))),c.a.createElement("div",{className:"details_btn"},"\u6d3b\u52d5\u8a73\u60c5 ",c.a.createElement("i",{className:"fas fa-chevron-right"})))});return c.a.createElement("div",{className:"upComing"},c.a.createElement("h3",{className:"upComingTitle"},"UPCOMING EVENTS"),c.a.createElement("ul",null,t))}}]),t}(c.a.Component);var z=Object(C.b)(function(e){return{comingUpEventData:e.upComingEvent.comingUpEventData}},function(e){return{createupComingEvent:function(){return e(X())}}})($),J=function(e){function t(e){return Object(T.a)(this,t),Object(P.a)(this,Object(w.a)(t).call(this,e))}return Object(F.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(e){}},{key:"render",value:function(){return c.a.createElement("div",{className:"all_apply_data"},c.a.createElement("h3",{className:""},"All Apply Data\u6e2c\u8a66"),c.a.createElement("ul",null))}}]),t}(c.a.Component),K=Object(C.b)()(J),Q=(a(556),function(e){function t(){return Object(T.a)(this,t),Object(P.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{className:"topContent"},c.a.createElement(V,null)),c.a.createElement(K,null),c.a.createElement(z,null)))}}]),t}(c.a.Component)),Z=(a(557),a(279)),ee=a.n(Z),te=a(280),ae=a.n(te),ne=a(281),ce=a.n(ne),re=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(P.a)(this,Object(w.a)(t).call(this,e))).toggleMenuActive=a.toggleMenuActive.bind(Object(U.a)(Object(U.a)(a))),a.state={active:!1},a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"toggleMenuActive",value:function(){var e=this.state.active;this.setState({active:!e})}},{key:"render",value:function(){return c.a.createElement("div",{className:"wrap_menuList"},c.a.createElement("div",{className:"menuList"},c.a.createElement(i.b,{to:"/"},c.a.createElement("div",{className:"logo_no_light"},c.a.createElement("img",{src:ce.a,alt:""}))),c.a.createElement("div",{className:"right_nav"},c.a.createElement(i.b,{to:"/member_profile",className:"member"},c.a.createElement("div",{className:"member_detail"},c.a.createElement("img",{src:ae.a,alt:""}),c.a.createElement("p",null,"\u6703\u54e1\u8cc7\u6599"))),c.a.createElement(i.b,{to:"/entry",className:"signout"},c.a.createElement("div",{className:"sign_out",onClick:function(){return S.a.auth().signOut()}},c.a.createElement("img",{src:ee.a,alt:""}),c.a.createElement("p",null,"\u767b\u51fa"))),c.a.createElement("a",{href:"#",className:this.state.active?"menu-trigger active":"menu-trigger",onClick:this.toggleMenuActive},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null)))))}}]),t}(c.a.Component),le=(a(563),function(e){function t(){return Object(T.a)(this,t),Object(P.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"footer_all"},c.a.createElement("ul",{className:"footer_ul"},c.a.createElement(i.b,{to:""},c.a.createElement("li",null,"\u95dc\u65bc\u6211\u5011")),c.a.createElement(i.b,{to:""},c.a.createElement("li",null,"\u6703\u54e1\u689d\u6b3e")),c.a.createElement(i.b,{to:""},c.a.createElement("li",null,"\u8cfc\u7968\u9808\u77e5")),c.a.createElement(i.b,{to:""},c.a.createElement("li",null,"\u5e38\u898b\u554f\u7b54")),c.a.createElement(i.b,{to:""},c.a.createElement("li",null,"\u806f\u7d61\u6211\u5011"))),c.a.createElement("p",null,"Copyright \xa9 2019 Find Ticket All rights reserved."))}}]),t}(c.a.Component)),ie=(a(564),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(P.a)(this,Object(w.a)(t).call(this,e))).state={intervalId:0,nowPositionY:!1},a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("scroll",function(){window.pageYOffset>800?e.setState({nowPositionY:!0}):e.setState({nowPositionY:!1})})}},{key:"scrollStep",value:function(){0===window.pageYOffset&&clearInterval(this.state.intervalId),window.scroll(0,window.pageYOffset-this.props.scrollStepInPx)}},{key:"scrollToTop",value:function(){var e=setInterval(this.scrollStep.bind(this),this.props.delayInMs);this.setState({intervalId:e})}},{key:"render",value:function(){var e=this;return this.state.nowPositionY?c.a.createElement("button",{className:"back_to_top_button",onClick:function(){e.scrollToTop()}},c.a.createElement("i",{className:"fas fa-chevron-up"}),c.a.createElement("p",null,"TOP")):null}}]),t}(c.a.Component)),oe=(a(565),a(124)),se=a.n(oe),ue=a(125),me=a.n(ue),de=a(283),pe=a.n(de),he=a(284),fe=a.n(he),ge=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(P.a)(this,Object(w.a)(t).call(this,e))).state={email:"",password:"",user_name:"",phone_number:""},a.handleSignUp=a.handleSignUp.bind(Object(U.a)(Object(U.a)(a))),a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"handleSignUp",value:function(e){e.preventDefault(),console.log(this.state),this.props.signUp(this.state)}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.authError;return a.id?c.a.createElement(M.a,{to:"/home"}):c.a.createElement("form",{className:"signup_form",onSubmit:this.handleSignUp},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"user_name",className:"user_title"},c.a.createElement("img",{src:fe.a,alt:""}),"\u59d3\u540d"),c.a.createElement("input",{id:"user_name",value:this.state.user_name,placeholder:"Name",type:"text",onChange:function(t){return e.setState({user_name:t.target.value})}})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"phone_number",className:"phone_title"},c.a.createElement("img",{src:pe.a,alt:""}),"\u96fb\u8a71"),c.a.createElement("input",{id:"phone_number",value:this.state.phone_number,placeholder:"Phone Number",type:"text",onChange:function(t){return e.setState({phone_number:t.target.value})}})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"email",className:"email_title"},c.a.createElement("img",{src:se.a,alt:""}),"\u4fe1\u7bb1"),c.a.createElement("input",{id:"email",value:this.state.email,placeholder:"E-mail",type:"text",onChange:function(t){return e.setState({email:t.target.value})}})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"password",className:"password_title"},c.a.createElement("img",{src:me.a,alt:""}),"\u5bc6\u78bc"),c.a.createElement("input",{id:"password",value:this.state.password,placeholder:"Password",type:"password",onChange:function(t){return e.setState({password:t.target.value})}})),c.a.createElement("button",null,"\u8a3b\u518a"),c.a.createElement("div",null,n?c.a.createElement("p",{className:"errorMsg"},n):null))}}]),t}(c.a.Component),Ee=Object(C.b)(function(e){return console.log(e),{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var c=(0,n.getFirebase)(),r=Object(u.getFirestore)();c.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return r.collection("users").doc(t.user.uid).set({email:e.email,user_name:e.user_name,phone_number:e.phone_number})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}(t))}}})(ge),be=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(P.a)(this,Object(w.a)(t).call(this,e))).state={email:"",password:""},a.handleLogin=a.handleLogin.bind(Object(U.a)(Object(U.a)(a))),a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"handleLogin",value:function(e){e.preventDefault(),console.log(this.state),this.props.signIn(this.state)}},{key:"render",value:function(){var e=this,t=this.props,a=t.authError;return t.auth.id?c.a.createElement(M.a,{to:"/home"}):c.a.createElement("form",{className:"login_form",onSubmit:this.handleLogin},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"email",className:"email_title"},c.a.createElement("img",{src:se.a,alt:""}),"\u4fe1\u7bb1"),c.a.createElement("input",{id:"email_login",value:this.state.email,placeholder:"E-mail",type:"text",onChange:function(t){return e.setState({email:t.target.value})}}),c.a.createElement("span",{className:"input-border"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"password",className:"password_title"},c.a.createElement("img",{src:me.a,alt:""}),"\u5bc6\u78bc"),c.a.createElement("input",{id:"password_login",value:this.state.password,placeholder:"Password",type:"password",onChange:function(t){return e.setState({password:t.target.value})}})),c.a.createElement("button",null,"\u767b\u5165"),c.a.createElement("div",{className:"some_reminder"},a?c.a.createElement("p",{className:"errorMsg"},a):null,c.a.createElement("p",{className:"ps_txt"},"Don't have an account? ",c.a.createElement(i.b,{to:""},"Sign up here."))))}}]),t}(c.a.Component),_e=Object(C.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(be),ve=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(P.a)(this,Object(w.a)(t).call(this,e))).onTabClick=a.onTabClick.bind(Object(U.a)(Object(U.a)(a))),a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"onTabClick",value:function(){this.props.handleClickTab(this.props.tabIndex)}},{key:"render",value:function(){var e=this.props,t=(e.isActive,e.label);return c.a.createElement("button",{className:"tab_template",onClick:this.onTabClick},t)}}]),t}(c.a.Component),De=function(e){var t=e.activeTabIndex,a=e.handleClickTab,n=t===e.tabIndex;return c.a.createElement("div",{className:"switch_button"},c.a.createElement(ve,{tabIndex:"0",label:"\u767b\u5165",isActive:n,handleClickTab:a}),c.a.createElement(ve,{tabIndex:"1",label:"\u8a3b\u518a",isActive:n,handleClickTab:a}))},ye=(a(566),function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(P.a)(this,Object(w.a)(t).call(this,e))).state={open:!1,activeTabIndex:0},a.openModal=a.openModal.bind(Object(U.a)(Object(U.a)(a))),a.closeModal=a.closeModal.bind(Object(U.a)(Object(U.a)(a))),a.handleClickTab=a.handleClickTab.bind(Object(U.a)(Object(U.a)(a))),a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"openModal",value:function(){this.setState({open:!0})}},{key:"closeModal",value:function(){this.setState({open:!1})}},{key:"handleClickTab",value:function(e){this.setState({activeTabIndex:e})}},{key:"render",value:function(){var e=this.state.activeTabIndex;return c.a.createElement("div",{className:"topBNContainer"},c.a.createElement("div",{className:"joinRightNow",onClick:this.openModal},c.a.createElement("p",null,"Joi",c.a.createElement("span",{className:"break_point"},"n")," No",c.a.createElement("span",{className:"break_point"},"w >"))),c.a.createElement(L.a,{open:this.state.open,closeOnDocumentClick:!0,onClose:this.closeModal},c.a.createElement("div",{className:"login_and_signup_wrap_popup"},c.a.createElement(De,{handleClickTab:this.handleClickTab,activeTabIndex:e}),0==e?c.a.createElement(_e,null):c.a.createElement(Ee,null))))}}]),t}(c.a.Component)),Ne=Object(C.b)(function(e){return{}})(ye),Ce=(a(567),function(e){function t(){return Object(T.a)(this,t),Object(P.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"logo_container"},c.a.createElement("div",{className:"logo"},c.a.createElement("b",null,c.a.createElement("i",{className:"fas fa-ticket-alt"}),"  F",c.a.createElement("span",null,"in"),"d",c.a.createElement("span",null," Tic"),"ket")),c.a.createElement("h3",{className:"viceTitle"},"\u52a0\u5165\u6703\u54e1\uff0c\u6709\u7968\u99ac\u4e0a\u901a\u77e5\u4f60\uff01"),c.a.createElement(Ne,null))}}]),t}(c.a.Component)),Oe=(a(568),function(e,t){return function(a,n,c){var r=c.getFirebase,l=c.getFirestore,i=(r(),l());if(e.applySearch_docID){var o=[],s=e.applySearch_userID,u=e.applySearch_docID,m=t.deciderDocID;i.collection("exchange_form").doc("".concat(u)).update({initialChangeState:1}),i.collection("ApplicationForm_context").doc("".concat(m)).get().then(function(n){n.exists?i.collection("ApplicationForm_context").doc("".concat(m)).update({apply:i.FieldValue.arrayUnion({Apply_userID:s,Apply_docID:u})}).then(function(){a({type:"CREATE_APPLY_DATA_BOTH_USER",apply:o,DecideData:t})}):i.collection("ApplicationForm_context").doc("".concat(m)).set(Object(d.a)({apply:"".concat(o.push(e))},t)).then(function(){a({type:"CREATE_APPLY_DATA_BOTH_USER",apply:o,DecideData:t})})})}else{var p=[],h=e.Apply_userID,f=e.Apply_docID,g=t.deciderDocID;i.collection("exchange_form").doc("".concat(f)).update({initialChangeState:1}),i.collection("ApplicationForm_context").doc("".concat(g)).get().then(function(n){n.exists?i.collection("ApplicationForm_context").doc("".concat(g)).update({apply:i.FieldValue.arrayUnion({Apply_userID:h,Apply_docID:f})}).then(function(){a({type:"CREATE_APPLY_DATA_BOTH_USER",apply:p,DecideData:t})}):(p.push(e),i.collection("ApplicationForm_context").doc("".concat(g)).set(Object(d.a)({apply:p},t)).then(function(){a({type:"CREATE_APPLY_DATA_BOTH_USER",apply:p,DecideData:t})}))})}}}),Ae=function(e){return function(e,t,a){var n=a.getFirebase,c=a.getFirestore,r=(n(),c()),l=t().firebase.auth.uid,i=[];console.log(l,"\u73fe\u5728\u7684\u4f7f\u7528\u8005ID"),r.collection("ApplicationForm_context").where("deciderUserID","==","".concat(l)).get().then(function(t){t.forEach(function(t){var a=t.id,n=t.data();r.collection("exchange_form").doc("".concat(a)).get().then(function(t){var c=t.data();c.docID=a,n.apply.map(function(t){r.collection("exchange_form").doc("".concat(t.Apply_docID)).get().then(function(t){if(void 0!==t.data()){var a=t.id,n=t.data();n.docID=a,i.push({data:c,apply:[n]}),e({type:"GET_USER_APPLICATION_DATA_WAIT_RESPONSE",decideData:i}),console.log(i)}})})})})})}},Se=function(e){return function(t,a,n){n.getFirebase;var c=(0,n.getFirestore)(),r=e.decideDocID,l=e.DocID;!0===e.acceptOrRefuse?(c.collection("exchange_form").doc("".concat(l)).update({initialChangeState:2}),c.collection("exchange_form").doc("".concat(r)).update({initialChangeState:2})):(c.collection("exchange_form").doc("".concat(l)).update({initialChangeState:3}),c.collection("exchange_form").doc("".concat(r)).update({initialChangeState:3})),t({type:"RESPONSE_TO_THE_APPLICANTS",responseResult:e})}},je=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(P.a)(this,Object(w.a)(t).call(this,e))).state={letButtonDisabled:!1,Apply_docID:"",Apply_userID:"",applySearch_docID:"",applySearch_userID:""},a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.setState({Apply_docID:this.props.applyDocumentID,Apply_userID:this.props.changeFormData.user_id,applySearch_docID:this.props.searchAgainData.docID,applySearch_userID:this.props.searchAgainData.userID})}},{key:"exChangeApplyBtn",value:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-docid"),a=e.currentTarget.getAttribute("data-userid");this.setState({letButtonDisabled:!0}),alert("\u5df2\u63d0\u51fa\u7533\u8acb\u4ea4\u63db\uff01\u8acb\u975c\u5019\u4f73\u97f3"),this.props.exChangeApplyBtn(this.state,{deciderDocID:t,deciderUserID:a})}},{key:"render",value:function(){var e=this;console.log(this.props.searchAgainData.userID,"LOOK AT ME");var t=this.props,a=t.renderMatchListData,n=t.renderMatchListData_search,r=a&&a.map(function(t,a){var n;return c.a.createElement("li",{className:"renderMatch_block",key:t.user_id},c.a.createElement("div",{className:"imgbox"},c.a.createElement("img",{src:t.url})),c.a.createElement("div",null,c.a.createElement("p",{className:"renderMatch_concert_name"},t.ConcertName),c.a.createElement("span",{className:"renderMatch_docID"},t.docID),c.a.createElement("p",{className:"renderMatch_change"},("send_package"===t.changeWay?"\u90f5\u5bc4":"face_to_face"===t.changeWay&&"\u9762\u4ea4")||"others_way"===t.changeWay&&"\u5176\u4ed6","\uff5c",(0===t.initialChangeState?"\u7b49\u5f85\u6709\u7de3\u4eba\u4ea4\u63db":1===t.initialChangeState&&"\u7b49\u5f85\u56de\u61c9")||2===t.initialChangeState&&"\u5df2\u7d50\u6848"||3===t.initialChangeState&&"\u62d2\u7d55")),c.a.createElement("div",null,c.a.createElement("p",{className:"match_change_ticket"},"\u4ea4\u63db\uff5c",t.exChangeSelectArea+" "+t.exChangeSelectPrice),c.a.createElement("p",{className:"match_hold_ticket"},"\u6301\u6709\uff5c",t.selectName+" "+t.selectPrice)),c.a.createElement("p",{className:"match_reminder"},c.a.createElement("i",{className:"fas fa-comment-dots"}),"\u3000",t.reminderTxt),c.a.createElement("div",{className:"bottom_buttons"},"    ",2===t.initialChangeState&&c.a.createElement("p",null,"Sorry\uff01\u5df2\u7d50\u6848\uff0c\u7121\u6cd5\u7533\u8acb\u4ea4\u63db")||2!==t.initialChangeState&&c.a.createElement("button",(n={"data-userid":t.user_id,"data-docid":t.docID,"data-initstate":t.initialChangeState},Object(R.a)(n,"data-docid",t.docID),Object(R.a)(n,"className","send_ExChange_Request_btn"),Object(R.a)(n,"disabled",e.state.letButtonDisabled),Object(R.a)(n,"onClick",e.exChangeApplyBtn.bind(e)),n),"\u767c\u9001\u4ea4\u63db\u8acb\u6c42")))}),l=n&&n.map(function(t,a){var n;return c.a.createElement("li",{className:"renderMatch_block",key:t.user_id},c.a.createElement("div",{className:"imgbox"},c.a.createElement("img",{src:t.url})),c.a.createElement("div",null,c.a.createElement("p",{className:"renderMatch_concert_name"},t.ConcertName),c.a.createElement("span",{className:"renderMatch_docID"},t.docID),c.a.createElement("p",{className:"renderMatch_change"},("send_package"===t.changeWay?"\u90f5\u5bc4":"face_to_face"===t.changeWay&&"\u9762\u4ea4")||"others_way"===t.changeWay&&"\u5176\u4ed6","\uff5c",(0===t.initialChangeState?"\u7b49\u5f85\u6709\u7de3\u4eba\u4ea4\u63db":1===t.initialChangeState&&"\u7b49\u5f85\u56de\u61c9")||2===t.initialChangeState&&"\u5df2\u7d50\u6848"||3===t.initialChangeState&&"\u62d2\u7d55")),c.a.createElement("div",null,c.a.createElement("p",{className:"match_change_ticket"},"\u4ea4\u63db\uff5c",t.exChangeSelectArea+" "+t.exChangeSelectPrice),c.a.createElement("p",{className:"match_hold_ticket"},"\u6301\u6709\uff5c",t.selectName+" "+t.selectPrice)),c.a.createElement("p",{className:"match_reminder"},c.a.createElement("i",{className:"fas fa-comment-dots"}),"\u3000",t.reminderTxt),c.a.createElement("div",{className:"bottom_buttons"},"    ",2===t.initialChangeState&&c.a.createElement("p",null,"Sorry\uff01\u5df2\u7d50\u6848\uff0c\u7121\u6cd5\u7533\u8acb\u4ea4\u63db")||2!==t.initialChangeState&&c.a.createElement("button",(n={"data-userid":t.user_id,"data-docid":t.docID,"data-initstate":t.initialChangeState},Object(R.a)(n,"data-docid",t.docID),Object(R.a)(n,"className","send_ExChange_Request_btn"),Object(R.a)(n,"disabled",e.state.letButtonDisabled),Object(R.a)(n,"onClick",e.exChangeApplyBtn.bind(e)),n),"\u767c\u9001\u4ea4\u63db\u8acb\u6c42")))});return a&&a?c.a.createElement("div",{className:"rendermatch_wrap"},c.a.createElement("ul",null,r)):n&&n?c.a.createElement("div",{className:"rendermatch_wrap"},c.a.createElement("ul",null,l)):void 0}}]),t}(c.a.Component);var ke=Object(C.b)(function(e){return{renderMatchListData:e.form.renderMatchListData,renderMatchListData_search:e.memberDataBase.renderMatchListData_search,applyDocumentID:e.form.applyDocumentID,changeFormData:e.form.changeFormData,searchAgainData:e.memberDataBase.searchAgainData}},function(e){return{exChangeApplyBtn:function(t,a){return e(Oe(t,a))}}})(je),Ie=(a(569),function(e){return function(e,t,a){var n=a.getFirebase,c=a.getFirestore,r=(n(),c()),l=t().firebase.auth.uid,i=[];r.collection("exchange_form").where("user_id","==","".concat(l)).get().then(function(e){e.forEach(function(e){var t=e.id,a=e.data();i.push({match_User_DocID:t,match_User_DocData:a})})}).then(function(){e({type:"CREATE_USER_PROFILE",userApplyData:i})}).catch(function(e){})}}),Te=function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("exchange_form").doc("".concat(e)).delete().then(function(){console.log("\u6587\u4ef6\u5df2\u7d93\u6210\u529f\u522a\u9664")}).then(function(){t({type:"DELETE_USER_APPLY_DATA_IN_MEMBERPAGE",deleteApply:e})})}},xe=function(e){return function(t,a,n){n.getFirebase;var c=n.getFirestore,r=(e.docID,e.exChangeSelectArea),l=e.exChangeSelectPrice,i=e.queryConcertID,o=e.selectName,s=e.selectPrice,u=e.userID,m=c(),d=[];m.collection("exchange_form").where("queryConcertID","==","".concat(i)).where("selectName","==","".concat(r)).where("selectPrice","==","".concat(l)).where("exChangeSelectArea","==","".concat(o)).where("exChangeSelectPrice","==","".concat(s)).get().then(function(a){a.forEach(function(e){var t=e.id,a=e.data();e.data().user_id!=="".concat(u)&&(a.docID=t,d.push(a))}),t({type:"SEARCH_AGAIN_BUTTON",renderMatchListData_search:d,searchAgainData:e}),0!==d.length?window.location.hash="/renderMatch":window.location.hash="/member_profile"})}},Pe=(a(570),function(e){function t(e){return Object(T.a)(this,t),Object(P.a)(this,Object(w.a)(t).call(this,e))}return Object(F.a)(t,e),Object(x.a)(t,[{key:"handleDelete",value:function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-docid");alert("\u7533\u8acb\u6587\u4ef6\u5df2\u522a\u9664"),this.props.deleteUserApplyData(t)}},{key:"handleSearch",value:function(e){e.preventDefault();var t={docID:e.currentTarget.getAttribute("data-docid"),userID:e.currentTarget.getAttribute("data-userid"),selectName:e.currentTarget.getAttribute("data-select-name"),selectPrice:e.currentTarget.getAttribute("data-select-price"),exChangeSelectArea:e.currentTarget.getAttribute("data-exchange-name"),exChangeSelectPrice:e.currentTarget.getAttribute("data-exchange-price"),queryConcertID:e.currentTarget.getAttribute("data-queryconcert")};this.props.searchDataAgainBtn(t)}},{key:"render",value:function(){var e=this,t=this.props.data;console.log(typeof t.memberFormData);var a=t.memberFormData&&t.memberFormData.map(function(t,a){var n=t.match_User_DocData,r=t.match_User_DocID,l=n.initialChangeState;l=0===l?"\u7b49\u5f85\u6709\u7de3\u4eba\u4ea4\u63db":1===l?"\u7b49\u5f85\u56de\u61c9":2===l?"\u5df2\u7d50\u6848":"\u62d2\u7d55";var i=n.changeWay;return i="send_package"===i?"\u90f5\u5bc4":"face_to_face"===i?"\u9762\u4ea4":"\u5176\u4ed6",c.a.createElement("li",{key:r,className:"user_apply_data_block"},c.a.createElement("div",{className:"apply_image"},c.a.createElement("img",{src:n.url})),c.a.createElement("div",{className:"concert_place_exchange_info"},c.a.createElement("h4",null,n.ConcertName),c.a.createElement("p",{className:"exchangeWay"},i,"\uff5c",l),c.a.createElement("p",{className:""},"\u4ea4\u63db ",n.exChangeSelectArea+" "+n.exChangeSelectPrice),c.a.createElement("p",{className:""},"\u6301\u6709 ",n.selectName+" "+n.selectPrice)),c.a.createElement("p",{className:"reminder_txt"},c.a.createElement("i",{className:"fas fa-comment-dots"})," ",n.reminderTxt),2!==n.initialChangeState&&c.a.createElement("div",{className:"bottom_buttons"},c.a.createElement("button",{className:"deleteThisApply",onClick:e.handleDelete.bind(e),"data-docid":r},c.a.createElement("i",{className:"fas fa-times"})," \u522a\u9664"),c.a.createElement("button",{className:"searchAgain",onClick:e.handleSearch.bind(e),"data-docid":r,"data-userid":n.user_id,"data-select-name":n.selectName,"data-select-price":n.selectPrice,"data-exchange-name":n.exChangeSelectArea,"data-exchange-price":n.exChangeSelectPrice,"data-queryconcert":n.queryConcertID},c.a.createElement("i",{className:"fas fa-search"})," \u641c\u5c0b"))||2===n.initialChangeState&&c.a.createElement("div",{className:"bottom_buttons"},c.a.createElement("p",null,"\u5df2\u7d50\u6848")))});return c.a.createElement("div",{className:"apply_data_all"},c.a.createElement("h3",{className:"profile_title"},"\u586b\u5beb\u4ea4\u63db\u7533\u8acb\u7d00\u9304"),c.a.createElement("div",{className:"border_decoration"}),c.a.createElement("div",{className:"member_apply_data_block"},c.a.createElement("ul",null,a)))}}]),t}(c.a.Component));var we=Object(C.b)(null,function(e){return{deleteUserApplyData:function(t){return e(Te(t))},searchDataAgainBtn:function(t){return e(xe(t))}}})(Pe),Fe=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(P.a)(this,Object(w.a)(t).call(this,e))).state={applyResponse:!1},a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){}},{key:"acceptApplyBtn",value:function(e){var t=this;e.preventDefault(),alert("\u5df2\u63a5\u53d7\u4ea4\u63db\u7533\u8acb\uff0c\u8acb\u81ea\u884c\u9023\u7d61\u5c0d\u65b9");var a=e.currentTarget.getAttribute("data-docid"),n=e.currentTarget.getAttribute("data-state"),c=e.currentTarget.getAttribute("data-user-name"),r=e.currentTarget.getAttribute("data-reminder-txt"),l=e.currentTarget.getAttribute("data-email"),i=e.currentTarget.getAttribute("data-decide-doc-id");this.setState({applyResponse:!0},function(){t.props.AgreeOrRefuseBtn({acceptOrRefuse:t.state.applyResponse,DocID:a,State:n,UserName:c,Reminder:r,Email:l,decideDocID:i})})}},{key:"refuseApplyBtn",value:function(e){var t=this;e.preventDefault(),alert("\u5df2\u62d2\u7d55\u4ea4\u63db\u7533\u8acb");var a=e.currentTarget.getAttribute("data-docid"),n=e.currentTarget.getAttribute("data-state"),c=e.currentTarget.getAttribute("data-user-name"),r=e.currentTarget.getAttribute("data-reminder-txt"),l=e.currentTarget.getAttribute("data-email"),i=e.currentTarget.getAttribute("data-decide-doc-id");this.setState({applyResponse:!1},function(){t.props.AgreeOrRefuseBtn({acceptOrRefuse:t.state.applyResponse,DocID:a,State:n,UserName:c,Reminder:r,Email:l,decideDocID:i})})}},{key:"render",value:function(){var e=this,t=this.props.data;console.log(t.ticketChange);var a=t.ticketChange.decideData,n=a&&a.map(function(t,a){console.log(t.data.ConcertName),console.log(t.apply);var n=t.data.initialChangeState;n=0===n?"\u7b49\u5f85\u6709\u7de3\u4eba\u4ea4\u63db":1===n?"\u7b49\u5f85\u56de\u61c9":2===n?"\u5df2\u7d50\u6848":"\u62d2\u7d55";var r=t.data.changeWay;return r="send_package"===r?"\u90f5\u5bc4":"face_to_face"===r?"\u9762\u4ea4":"\u5176\u4ed6",console.log(),c.a.createElement("div",{key:a+t.data.docID,className:"apply_block_decide"},c.a.createElement("div",{className:"be_applied_document"},c.a.createElement("div",{className:"apply_title"},c.a.createElement("p",null,c.a.createElement("i",{className:"fas fa-signature"})," \u6301\u6709\u7968\u5238",c.a.createElement("span",{className:"docid_small"},t.data.docID))),c.a.createElement("div",{className:"imgbox"},c.a.createElement("img",{src:t.data.url})),c.a.createElement("div",null,c.a.createElement("p",null,t.data.ConcertName),c.a.createElement("p",null,r,"\uff5c",n),c.a.createElement("p",null,t.data.selectName+" "+t.data.selectPrice))),t.apply&&t.apply.map(function(a,n){var r=a.initialChangeState;r=0===r?"\u7b49\u5f85\u6709\u7de3\u4eba\u4ea4\u63db":1===r?"\u7b49\u5f85\u56de\u61c9":2===r?"\u5df2\u7d50\u6848":"\u62d2\u7d55";var l=a.changeWay;return l="send_package"===l?"\u90f5\u5bc4":"face_to_face"===l?"\u9762\u4ea4":"\u5176\u4ed6",c.a.createElement("div",{className:"applicant_list",key:n+"apply"+a.docID},c.a.createElement("div",{className:"apply_title"},c.a.createElement("p",null,c.a.createElement("i",{className:"far fa-sticky-note"})," \u7533\u8acb\u4ea4\u63db\u7d30\u7bc0",c.a.createElement("span",{className:"docid_small"},a.docID))),c.a.createElement("div",{className:"imgbox"},c.a.createElement("img",{src:a.url})),c.a.createElement("div",{className:"info_block"},c.a.createElement("p",null,a.user_name," ",c.a.createElement("span",{className:"docid_small"},a.email)),c.a.createElement("p",null,l,"\uff5c",r),c.a.createElement("p",null,"\u6301\u6709",a.selectName+" "+a.selectPrice),c.a.createElement("p",null,c.a.createElement("i",{className:"fas fa-comment-dots"})," ",a.reminderTxt)),c.a.createElement("div",{className:"bottom_buttons"},c.a.createElement("button",{onClick:e.acceptApplyBtn.bind(e),"data-docid":a.docID,"data-decide-doc-id":t.data.docID,"data-state":a.initialChangeState,"data-user-name":a.user_name,"data-reminder-txt":a.reminderTxt,"data-email":a.email},c.a.createElement("i",{className:"fas fa-check"})," \u63a5\u53d7"),c.a.createElement("button",{onClick:e.refuseApplyBtn.bind(e),"data-docid":a.docID,"data-decide-doc-id":t.data.docID,"data-state":a.initialChangeState,"data-user-name":a.user_name,"data-reminder-txt":a.reminderTxt,"data-email":a.email},c.a.createElement("i",{className:"fas fa-times"})," \u62d2\u7d55")))}))});return c.a.createElement("div",null,c.a.createElement("h3",{className:"profile_title"},"\u5f85\u8655\u7406\u4ea4\u63db\u7533\u8acb"),c.a.createElement("div",{className:"border_decoration"}),c.a.createElement("div",null,n))}}]),t}(c.a.Component);var Me=Object(C.b)(null,function(e){return{AgreeOrRefuseBtn:function(t){return e(Se(t))}}})(Fe),Re=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(P.a)(this,Object(w.a)(t).call(this,e))).state={},a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(e,t){this.props.getAllApplyDataToSpecificUser(t),this.props.getUserApplyFormData(e)}},{key:"render",value:function(){return c.a.createElement("div",{className:"profile_basic"},c.a.createElement("h3",{className:"profile_title"},"\u6703\u54e1\u57fa\u672c\u8cc7\u8a0a"),c.a.createElement("div",{className:"border_decoration"}),c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"picture"},c.a.createElement("img",{className:"profile_picture"})),c.a.createElement("div",{className:"details"},c.a.createElement("p",null,"\u59d3\u540d\uff5c",this.props.profile.user_name,"\u3000",c.a.createElement("span",null,this.props.auth.uid)),c.a.createElement("p",null,"E-mail\uff5c",this.props.auth.email),c.a.createElement("p",null,"\u96fb\u8a71\u865f\u78bc\uff5c",this.props.profile.phone_number))),c.a.createElement(we,{data:this.props}),c.a.createElement(Me,{data:this.props}))}}]),t}(c.a.Component);var Ue=Object(C.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,memberFormData:e.memberDataBase.memberFormData,ticketChange:e.ticketChange}},function(e){return{getAllApplyDataToSpecificUser:function(t){return e(Ae(t))},getUserApplyFormData:function(t){return e(Ie(t))}}})(Re),Le=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(P.a)(this,Object(w.a)(t).call(this,e))).state={authenticated:!1,user:null},a}return Object(F.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.auth().onAuthStateChanged(function(t){t?e.setState({authenticated:!0,currentUser:t,loading:!1}):e.setState({authenticated:!1,currentUser:null,loading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.authenticated;e.entry;return c.a.createElement("div",null,c.a.createElement(M.b,{path:"/entry",render:function(){return t?c.a.createElement(M.a,{to:"/"}):c.a.createElement(Ce,null)}}),c.a.createElement(M.b,{exact:!0,path:"/",render:function(){return t?c.a.createElement(Q,null):c.a.createElement(M.a,{to:"/entry"})}}),c.a.createElement(M.b,{path:["/renderMatch","/member_profile","/"],render:function(){return t?c.a.createElement(re,null):null}}),c.a.createElement(M.d,null,c.a.createElement(M.b,{path:"/renderMatch",component:ke}),c.a.createElement(M.b,{path:"/member_profile",render:function(){return t?c.a.createElement(Ue,null):null}})),c.a.createElement(M.b,{path:["/renderMatch","/member_profile","/"],render:function(){return t?c.a.createElement(ie,{scrollStepInPx:"50",delayInMs:"16.66"}):null}}),c.a.createElement(M.b,{path:["/renderMatch","/member_profile","/"],render:function(){return t?c.a.createElement(le,null):null}}))}}]),t}(c.a.Component),Be=Object(o.createStore)(N,Object(s.composeWithDevTools)(Object(o.applyMiddleware)(O.a.withExtraArgument({getFirebase:m.getFirebase,getFirestore:u.getFirestore})),Object(o.applyMiddleware)(I.a),Object(u.reduxFirestore)(S.a),Object(m.reactReduxFirebase)(S.a,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));Be.firebaseAuthIsReady.then(function(){l.a.render(c.a.createElement(C.a,{store:Be},c.a.createElement(i.a,null,c.a.createElement(Le,null))),document.getElementById("root"))})}},[[285,1,2]]]);
//# sourceMappingURL=main.c136d4e5.chunk.js.map