{"version":3,"sources":["img/svg/logout.svg","img/svg/member.svg","img/svg/LOGO.svg","img/svg/phone.svg","img/svg/user.svg","store/reducers/authReducer.js","store/reducers/formReducer.js","store/reducers/upComingEventReducer.js","store/reducers/memberReducer.js","store/reducers/ticketChangeReducer.js","store/reducers/rootReducer.js","config/firebaseConfig.js","components/HomePage/ChangeFormPopUp.js","store/actions/ChangeFormAction.js","store/actions/SubmitFormAction.js","components/HomePage/SearchBar.js","store/actions/SearchBarAction.js","components/HomePage/upComingEvents.js","store/actions/upComingEventAction.js","components/HomePage/HomePageBoard.js","store/actions/getAllExchangeFormAction.js","components/HomePage/Home.js","components/LayoutElement/Menu.js","components/LayoutElement/Footer.js","components/LayoutElement/BackToTop.js","components/WebsiteDeclare/BuyTicketExplain.js","components/WebsiteDeclare/MemberShipRules.js","components/WebsiteDeclare/Faq.js","components/WebsiteDeclare/AboutUs.js","components/AuthRelate/SignUp.js","store/actions/authAction.js","components/AuthRelate/Login.js","components/AuthRelate/TabForSignUpAndLogin.js","components/AuthRelate/TabsAll.js","components/AuthRelate/LoginAndSignUpPopup.js","Logo.js","components/MatchRelate/RenderMatch.js","store/actions/sendRequestToTicketAction.js","components/MemberProfile/MemberProfileApplyData.js","store/actions/GetUserFormDataAction.js","components/MemberProfile/DealResponseDashBoard.js","components/MemberProfile/MemberProfile.js","App.js","index.js","img/svg/email.svg","img/svg/password.svg"],"names":["module","exports","initState","authError","authReducer","state","action","type","console","log","err","message","formdata","concerDataAll","changeFormData","renderMatchListData","searchInput","AllExchangeData","formReducer","dataArray","concertArray","applyDocumentID","renderMatchListDataID","AllExChangeListArray","comingUpEventData","upComingEventReducer","concertBasicListArray","memberFormData","deleteApply","searchAgainData","renderMatchListData_search","memberReducer","userApplyData","apply","DecideData","decideData","responseResult","ticketChangeReducer","rootReducer","combineReducers","auth","form","upComingEvent","memberDataBase","ticketChange","firestore","firestoreReducer","firebase","firebaseReducer","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","storage","ChangeFormPopUp","React","Component","constructor","props","super","toggleChange","this","setState","isChecked","handleImageUpload","e","preventDefault","target","files","image","ref","name","put","on","snapshot","error","alert","child","getDownloadURL","then","url","ConcertName","ConcertPlace","queryConcertID","selectName","selectPrice","exChangeSelectArea","exChangeSelectPrice","ticketNum","changeWay","phoneNumber","reminderTxt","priceSpread","pricePlusTag","user_name","user_id","uid","email","initialChangeState","open","openModal","bind","closeModal","componentDidMount","changeFormAction","changeConcertName","value","map","item","index","place","concert_id","changeConcertPlace","changeName","price","changePrice","currentTarget","selectPrice_hold","Number","replace","selectPrice_change","exChangeArea","exChangePrice","handleChangeValue","id","profile","phone_number","handleSubmit","createEXChangeFormData","render","concertAllBasicInfo_name","concertAllBasicInfo_place","concertDataBasic","length","i","push","concertName","key","concertPlace","indexOf","toString","dataAll","pricedataAll","concertData","names","prices","exChangeAreas","exChangePrices","className","onClick","closeOnDocumentClick","onClose","contentStyle","padding","border","background","boxShadow","fontSize","onSubmit","htmlFor","onChange","required","placeholder","aria-hidden","checked","connect","dispatch","getState","getFirebase","getFirestore","collection","get","querySnapshot","forEach","doc","dataAllConcert_form","data","dataEXO","datafayuching","datajj","datasharchingtung","fivefivesixsix","aimerdata","bpdata","gemdata","jasonmrazdata","lionkingdata","lucrowddata","maroon5data","oldboydata","parkbogumdata","roybigyodata","shargchaindata","shuruyundata","sunmidata","troyesivandata","datachencheer","catch","add","createdAt","Date","docRef","concertID","holdArea","holdPrice","dataUser","where","matchDocID","matchDocData","docID","window","location","hash","SearchBar","searchBarAction","UpComingEvents","createupComingEvent","items","src","mainPic","date","split","month","time","to","AllConcertHome","HomePageBoard","createAllExchangeData","exChangeStatus","exChangeWay","data-userid","data-docid","data-initstate","disabled","letButtonDisabled","AllExchangeInfo","Home","Menu","toggleMenuActive","active","currentState","logo","alt","member","signOut","logout","href","Footer","BackToTopButton","intervalId","nowPositionY","document","addEventListener","pageYOffset","scrollStep","clearInterval","scroll","scrollStepInPx","scrollToTop","setInterval","delayInMs","BuyTicketExplain","MemberShipRules","Faq","AboutUs","SignUp","password","handleSignUp","signUp","user","phone","newUser","createUserWithEmailAndPassword","resp","set","Login","handleLogin","signIn","signInAnonymously","creds","credentials","signInWithEmailAndPassword","TabForSignUpAndLogin","onTabClick","handleClickTab","tabIndex","label","isActive","TabsAll","activeTabIndex","LoginAndSignUpPopup","Logo","RenderMatch","Apply_docID","Apply_userID","applySearch_docID","applySearch_userID","userID","exChangeApplyBtn","deciderDocID","getAttribute","deciderUserID","DocumentItems","DocumentItems_Search","applyData","applyuserID","applydocID","update","docSnapshot","exists","FieldValue","arrayUnion","MemberProfileApplyData","handleDelete","deleteUserApplyData","handleSearch","searchDataAgainBtn","info","itemData","match_User_DocData","itemDocID","match_User_DocID","data-select-name","data-select-price","data-exchange-name","data-exchange-price","data-queryconcert","delete","DealResponseDashBoard","applyResponse","acceptApplyBtn","DocID","State","UserName","Reminder","Email","decideDocID","AgreeOrRefuseBtn","acceptOrRefuse","refuseApplyBtn","allData","listItems","listItem","exChangeStatus_applied","exChangeWay_applied","data-decide-doc-id","data-state","data-user-name","data-reminder-txt","data-email","MemberProfile","getAllApplyData","getAllApplyDataToSpecificUser","getUserApplyFormData","currentWho","matchApplyDocID","matchApplyDocData","undefined","applydocData","applyWho","App","authenticated","onAuthStateChanged","currentUser","loading","path","exact","component","store","createStore","composeWithDevTools","applyMiddleware","thunk","withExtraArgument","logger","reduxFirestore","reactReduxFirebase","useFirestoreForProfile","userProfile","attachAuthIsReady","firebaseAuthIsReady","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.ec0ca8f2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logout.54c6d733.svg\";","module.exports = __webpack_public_path__ + \"static/media/member.26258da2.svg\";","module.exports = __webpack_public_path__ + \"static/media/LOGO.57458336.svg\";","module.exports = __webpack_public_path__ + \"static/media/phone.40728378.svg\";","module.exports = __webpack_public_path__ + \"static/media/user.b6ccb63c.svg\";","import { auth } from \"firebase\";\r\n\r\nconst initState = {\r\n    authError:null,\r\n\r\n}\r\n\r\nconst authReducer = (state = initState,action) =>{\r\n    switch(action.type){\r\n        // 透過 action 傳回來的東西 reducer 處理\r\n        case 'LOGIN_ERROR':\r\n            console.log('登入失敗')\r\n            return {\r\n                ...state,\r\n                authError:'帳號或密碼錯誤，請重新輸入。'           \r\n            }\r\n        \r\n        case 'LOGIN_SUCCESS':\r\n            console.log('登入成功')\r\n            return{\r\n                ...state,\r\n                authError:null\r\n            }\r\n\r\n        // 登出\r\n        case 'SIGNOUT_SUCCESS':\r\n            console.log('成功登出');\r\n            return state;\r\n        // 註冊\r\n        case 'SIGNUP_SUCCESS':\r\n            console.log('註冊成功');\r\n            return{\r\n                ...state,\r\n                authError:null\r\n            }\r\n        \r\n        case 'SIGNUP_ERROR':\r\n            console.log('註冊失敗');\r\n            return{\r\n                ...state,\r\n                authError:action.err.message\r\n                // 我們希望他出現確切的錯誤訊息\r\n            }\r\n\r\n\r\n        default:\r\n        return state;\r\n\r\n    }\r\n     \r\n    return state;\r\n}\r\n\r\nexport default authReducer;","const initState = {\r\n    // 演唱會資料 下拉式選單\r\n    formdata:'',\r\n    concerDataAll:'',\r\n    changeFormData:'',\r\n    // 符合條件的data\r\n    renderMatchListData:'',\r\n    // 首頁的搜尋bar\r\n    searchInput:'',\r\n    // 首頁的全部資料\r\n    AllExchangeData:''\r\n}\r\n\r\n\r\nconst formReducer = ( state = initState , action ) =>{\r\n    switch(action.type){\r\n        // 可以加上很多case\r\n        case 'CREATE_OPTION':\r\n            console.log('有抓到dataArray的資料',action.dataArray,action.concertArray);\r\n            // action.dataArray是要傳遞的資料\r\n            return{\r\n                ...state,\r\n                // 複製 查一下...代表的語法\r\n                formdata:action.dataArray,\r\n                concerDataAll:action.concertArray\r\n            }\r\n\r\n        case 'CREATE_EXCHANGE_FORM_DATA_IN_DATABASE':\r\n            // 提交表單要傳遞的資料\r\n            console.log(action.changeFormData)\r\n            console.log(typeof(action.renderMatchListData))\r\n            console.log(action.renderMatchListData)\r\n\r\n            return{\r\n                ...state,\r\n                applyDocumentID:action.applyDocumentID,\r\n                changeFormData:action.changeFormData,\r\n                renderMatchListData:action.renderMatchListData,\r\n                renderMatchListDataID:action.renderMatchListDataID\r\n            }\r\n        case 'CREATE_All_EXCHANGE_DATA':\r\n            return{\r\n                ...state,\r\n                // 全部填寫表單的資料\r\n                AllExchangeData:action.AllExChangeListArray\r\n            }\r\n \r\n\r\n        default:\r\n            return state\r\n            \r\n\r\n     \r\n    }\r\n}\r\n\r\n\r\nexport default formReducer;","// 這個是要抓演唱會的基礎資料 render 到首頁\r\nconst initState = {\r\n    // 所有演唱會的基礎資料\r\n    comingUpEventData:''\r\n}\r\n\r\nconst upComingEventReducer = ( state = initState , action ) =>{\r\n    switch(action.type){\r\n        // 可以加上很多case\r\n        case 'CREATE_UPCOMING_EVENT':\r\n            console.log('有抓到全部演唱會的資料!!!!',action.concertBasicListArray);\r\n            // action.dataArray是要傳遞的資料\r\n            return{\r\n                ...state,\r\n                comingUpEventData:action.concertBasicListArray\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n    // 這邊是實際在操控state的地方\r\n}\r\n\r\n\r\nexport default upComingEventReducer;\r\n\r\n\r\n","const initState = {\r\n    memberFormData:'',\r\n    deleteApply:'',\r\n    searchAgainData:'',\r\n    renderMatchListData_search:''\r\n}\r\n\r\nconst memberReducer = ( state = initState , action ) =>{\r\n    switch(action.type){\r\n        // 抓到 USER 全部的相關資料       \r\n        case 'CREATE_USER_PROFILE':\r\n            console.log('有抓到的資料',action.userApplyData);\r\n            // action.dataArray是要傳遞的資料\r\n            return{\r\n                ...state,\r\n                memberFormData:action.userApplyData\r\n            }\r\n\r\n        case 'DELETE_USER_APPLY_DATA_IN_MEMBERPAGE':\r\n            // 刪除 memberpage 裡面的最開始填表的資料\r\n            return{\r\n                ...state,\r\n                memberFormData:action.userApplyData,\r\n                deleteApply:action.deleteApply\r\n                // 加這行就可以同步刪除\r\n            }\r\n        \r\n        case 'SEARCH_AGAIN_BUTTON':\r\n        // 再次搜索的功能\r\n            return{\r\n                ...state,\r\n                searchAgainData:action.searchAgainData,\r\n                renderMatchListData_search:action.renderMatchListData_search\r\n            }\r\n\r\n        default:\r\n            return state\r\n \r\n    }\r\n    // 這邊是實際在操控state的地方\r\n}\r\n\r\n\r\nexport default memberReducer;","// 所有跟票券交換的過程有關的資料處理\r\n// 包含紀錄紀錄票券的申請人 申請文件ID  收到申請方的ID 還有文件ID 然後加到新的集合\r\n\r\nconst initState = {\r\n    apply: '',\r\n    DecideData: '',\r\n    // 回應申請者的資料\r\n    decideData:'',\r\n    responseResult:'',\r\n}\r\n\r\nconst ticketChangeReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'CREATE_APPLY_DATA_BOTH_USER':\r\n            console.log('成功加入申請單集合的資料', action.apply, action.DecideData);\r\n            // action.dataArray是要傳遞的資料\r\n            return {\r\n                ...state,\r\n                apply: action.apply,\r\n                DecideData: action.DecideData\r\n            }\r\n\r\n        case 'GET_USER_APPLICATION_DATA_WAIT_RESPONSE':\r\n            // getAllApplyDataToSpecificUser 對應的 function\r\n            return {\r\n                // ...state,\r\n                decideData: action.decideData\r\n            }\r\n\r\n        case 'RESPONSE_TO_THE_APPLICANTS':\r\n            return {\r\n                ...state,\r\n                responseResult:action.responseResult\r\n            }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n    // 這邊是實際在操控state的地方\r\n}\r\n\r\n\r\nexport default ticketChangeReducer;\r\n\r\n// 這裡都是寫在組件\r\n// Component 裡面 import { connect } from 'react-redux'\r\n// import { firestoreConnect } from 'react-redux-firebase'\r\n// import { compose } from 'redux'\r\n// import { link } from 'react-router-dom'\r\n\r\n// connect is a function\r\n// connect 是用來連結組件跟存放state的store，溝通的工具\r\n// const mapStateToProps = (state)=>{\r\n//     return {\r\n//         projects:state.firestore.ordered.project\r\n//     }\r\n// }\r\n\r\n// export default compose(connect(mapStateToProps),firestoreConnect([{collection:'projects'}]))(ComponentName)\r\n// 因為它的用意本來就是要連結組件跟store\r\n// firestoreConnect([{collection:'projects'}]) \r\n// 這段是為了要連結firebase的資料庫 如果有更新就會變成同步\r\n\r\n// render(){\r\n//     const { projects } = this.props;　// 只是要宣告 = this.props\r\n//     return(\r\n//     )\r\n// }\r\n\r\n// 要做list的話，可以參考這個：\r\n// const ProjectList =({projects})=>{\r\n//     return(\r\n//         <div>\r\n//             {\r\n                // 前面的projects是偵測有沒有抓到state或資料 \r\n//                 projects&&projects.map(project=>{\r\n//                     return(\r\n                        // <link to={'/project/'+ project.id}>\r\n                        //   <div>...</div>\r\n                        // </link>\r\n//                     )\r\n//                 })\r\n//             }\r\n//         </div>\r\n//     )\r\n// }","// 這個通常是最後要合併所有reducer的檔案\r\nimport { combineReducers } from 'redux'\r\nimport { firestoreReducer } from 'redux-firestore'\r\nimport { firebaseReducer } from 'react-redux-firebase'\r\nimport authReducer from './authReducer'\r\nimport formReducer from './formReducer'\r\nimport upComingEventReducer from './upComingEventReducer'\r\nimport memberReducer from './memberReducer'\r\nimport ticketChangeReducer from './ticketChangeReducer'\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n// inside combineReducers() is an object\r\n// 這裡面放想要合併的reducer 可以接其他的\r\n    auth:authReducer,\r\n    form:formReducer,\r\n    upComingEvent:upComingEventReducer,\r\n    // 會員相關的\r\n    memberDataBase:memberReducer,\r\n    // 交換相關的\r\n    ticketChange:ticketChangeReducer,\r\n    firestore:firestoreReducer,\r\n    firebase:firebaseReducer\r\n});\r\n\r\nexport default rootReducer;\r\n\r\n\r\n\r\n// redux 就很像state的倉庫\r\n// store是老闆  reducer是生產線員工\r\n// provider是仲介商（只出現一次的仲介商）\r\n// component是客戶\r\n// state就是 產品","// import * as firebase from 'firebase/app'\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\nimport 'firebase/storage'\r\n\r\n\r\nvar config={\r\n    apiKey: \"AIzaSyBGY94EkRWbXegBcxBiP7tGYWp5aFF5QZo\",\r\n    authDomain: \"fanconcert-af75c.firebaseapp.com\",\r\n    databaseURL: \"https://fanconcert-af75c.firebaseio.com\",\r\n    projectId: \"fanconcert-af75c\",\r\n    storageBucket: \"fanconcert-af75c.appspot.com\",\r\n    messagingSenderId: \"287058786354\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n// firebase.firestore().settings({timestampsInSnapshots:true})\r\n\r\nconst storage = firebase.storage();\r\nexport {storage,firebase as default} ;","// 填表單組件\r\nimport React from 'react'\r\nimport Popup from 'reactjs-popup'\r\nimport { connect } from 'react-redux'\r\nimport { storage } from '../../config/firebaseConfig'\r\n\r\n// import action\r\nimport { changeFormAction } from '../../store/actions/ChangeFormAction'\r\nimport { createEXChangeFormData } from '../../store/actions/SubmitFormAction'\r\n\r\n\r\n// css\r\nimport './ChangeFormPopUp.css';\r\n\r\n// 可以const兩種不同的state 這樣抓到的資料就會不一樣\r\nclass ChangeFormPopUp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // 演唱會名稱與地點\r\n      ConcertName: '',\r\n      ConcertPlace: '',\r\n      // 選到的演唱會ID\r\n      queryConcertID: '',\r\n      // 持有的選取區域\r\n      selectName: '',\r\n      selectPrice: '',\r\n      // 交換的選取區域\r\n      exChangeSelectArea: '',\r\n      exChangeSelectPrice: '',\r\n      // 張數\r\n      ticketNum: '',\r\n      // 交換方式\r\n      changeWay: '',\r\n      // 電話\r\n      phoneNumber: '',\r\n      // 備註文字\r\n      reminderTxt: '',\r\n      // 檔案上傳\r\n      // 價差\r\n      priceSpread: '',\r\n      pricePlusTag: '',\r\n      // 圖片的網址\r\n      url: '',\r\n      // 這邊要再傳一個參數\r\n      user_name: '',\r\n      user_id: this.props.auth.uid,\r\n      email: this.props.auth.email,\r\n      // 表單初始的交換狀態state\r\n      // 0  初始 1 無回應 2 接受 3 拒絕 \r\n      initialChangeState: 0,\r\n      // 其他功能的state\r\n      open: false,\r\n      isChecked: false\r\n    };\r\n    this.openModal = this.openModal.bind(this)\r\n    this.closeModal = this.closeModal.bind(this)\r\n  }\r\n\r\n  componentDidMount(formdata, concerDataAll) {\r\n    this.props.changeFormAction(formdata, concerDataAll);\r\n    // 當我要在function裡面叫action的時候\r\n    // 這個是抓資料\r\n  }\r\n\r\n  openModal() {\r\n    this.setState({ open: true })\r\n  }\r\n\r\n  closeModal() {\r\n    this.setState({ open: false })\r\n  }\r\n\r\n\r\n  // 演唱會function\r\n  changeConcertName(e) {\r\n    this.setState({ ConcertName: e.target.value });\r\n    this.props.concerDataAll.map((item, index) => {\r\n      if (e.target.value === item.name) {\r\n        this.setState({ ConcertPlace: item.place });\r\n        this.setState({ queryConcertID: item.concert_id });\r\n      }\r\n      return false;\r\n      // true\r\n    });\r\n  }\r\n\r\n  changeConcertPlace(e) {\r\n    this.setState({ ConcertPlace: e.target.value });\r\n  }\r\n\r\n  // 持有票券區域function\r\n  changeName(e) {\r\n    this.setState({ selectName: e.target.value });\r\n    this.props.formdata.map((item, index) => {\r\n      if (e.target.value === item.name) {\r\n        // console.log(item.name,item.price[0])\r\n        this.setState({ selectPrice: item.price[0] });\r\n        // 非同步\r\n        // console.log(item.concert_id,this.state.open)\r\n      }\r\n      return false;\r\n      // true\r\n    });\r\n  }\r\n\r\n  changePrice(e) {\r\n    this.setState({ selectPrice: e.currentTarget.value },\r\n      function () {\r\n        let selectPrice_hold = Number((this.state.selectPrice).replace(/\\D/g, \"\"));\r\n        let selectPrice_change = Number((this.state.exChangeSelectPrice).replace(/\\D/g, \"\"));\r\n        // this.setState({priceSpread: selectPrice_hold-selectPrice_change})\r\n        if(selectPrice_hold!==null&&selectPrice_change!==null){\r\n        if (selectPrice_hold > selectPrice_change) {\r\n          this.setState({\r\n            priceSpread: selectPrice_hold - selectPrice_change,\r\n            pricePlusTag: '對方需要補給您NT$'\r\n          })\r\n        } else if (selectPrice_hold < selectPrice_change) {\r\n          this.setState({\r\n            priceSpread: selectPrice_change - selectPrice_hold,\r\n            pricePlusTag: '您需要補給對方NT$'\r\n          })\r\n        } else {\r\n          this.setState({ \r\n            priceSpread: '',\r\n            pricePlusTag: '您不需要補差額'\r\n          })\r\n        }\r\n      }\r\n    }\r\n    );\r\n  }\r\n\r\n  // 欲交換票券的區域function\r\n  exChangeArea(e) {\r\n    this.setState({ exChangeSelectArea: e.target.value });\r\n    this.props.formdata.map((item, index) => {\r\n      // console.log(item.name,index)\r\n      if (e.target.value === item.name) {\r\n        this.setState({ exChangeSelectPrice: item.price[0] });\r\n      }\r\n      return false;\r\n      // true\r\n    });\r\n  }\r\n\r\n  exChangePrice(e) {\r\n    console.log(e.currentTarget.value)\r\n    this.setState({ exChangeSelectPrice: e.currentTarget.value },\r\n      // 原本的寫法 e.target.value\r\n      function () {\r\n        let selectPrice_hold = Number((this.state.selectPrice).replace(/\\D/g, \"\"));\r\n        let selectPrice_change = Number((this.state.exChangeSelectPrice).replace(/\\D/g, \"\"));\r\n        // this.setState({priceSpread: selectPrice_hold-selectPrice_change})\r\n        if(selectPrice_hold!==null&&selectPrice_change!==null){\r\n          if (selectPrice_hold > selectPrice_change) {\r\n            this.setState({\r\n              priceSpread: selectPrice_hold - selectPrice_change,\r\n              pricePlusTag: '對方需要補給您NT$'\r\n            })\r\n          } else if (selectPrice_hold < selectPrice_change) {\r\n            this.setState({\r\n              priceSpread: selectPrice_change - selectPrice_hold,\r\n              pricePlusTag: '您需要補給對方NT$'\r\n            })\r\n          } else{\r\n            this.setState({ \r\n              priceSpread: '',\r\n              pricePlusTag: '您不需要補差額'\r\n            })\r\n          }\r\n        }\r\n\r\n      }\r\n      \r\n    )\r\n  }\r\n\r\n  // 其他附加資訊的onChange function\r\n  handleChangeValue(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value,\r\n      // 交換者的電話\r\n      phoneNumber: this.props.profile.phone_number,\r\n      user_name: this.props.profile.user_name\r\n    })\r\n  }\r\n\r\n\r\n  // 提交表單\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    // create提交表單資料的action\r\n    alert(\"表單已送出，感謝您的填寫！\");\r\n    this.props.createEXChangeFormData(this.state);\r\n  }\r\n\r\n  // checkbox\r\n  toggleChange = () => {\r\n    this.setState({\r\n      isChecked: !this.state.isChecked,\r\n    });\r\n  }\r\n\r\n  // imageUploader\r\n  handleImageUpload = (e) => {\r\n    e.preventDefault();\r\n    if (e.target.files[0]) {\r\n      const image = e.target.files[0];\r\n      const uploadTask = storage.ref(`formUploadImages/${image.name}`).put(image);\r\n      uploadTask.on('state_changed',\r\n        (snapshot) => {\r\n          // console.log(snapshot);\r\n        },\r\n        (error) => {\r\n          // console.log(error);\r\n          alert('上傳的圖檔請小於2MB，謝謝！')\r\n        },\r\n        () => {\r\n          storage.ref('formUploadImages').child(image.name).getDownloadURL().then(url => {\r\n            this.setState({ url });\r\n            // console.log(url);\r\n            alert(\"圖片已上傳完畢！\")\r\n          })\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const popUpStyle = {\r\n      padding: 0,\r\n      border: 'none',\r\n      background: 'rgba(0,0,0,0)',\r\n      boxShadow: 'none',\r\n      fontSize: '20px'\r\n    }\r\n\r\n    let concertAllBasicInfo_name = [];\r\n    let concertAllBasicInfo_place = [];\r\n\r\n    const concertDataBasic = this.props.concerDataAll;\r\n    // console.log(concertDataBasic.length)\r\n    // 這邊嘗試加上if條件句 看firebase的數據\r\n    if (concertDataBasic && concertDataBasic.length !== 0) {\r\n      for (let i = 0; i < concertDataBasic.length; i++) {\r\n        // console.log(concertDataBasic[i].concert_id,concertDataBasic[i].name,concertDataBasic[i].place);\r\n        concertAllBasicInfo_name.push(concertDataBasic[i].name);\r\n        concertAllBasicInfo_place.push(concertDataBasic[i].place);\r\n      }\r\n    }\r\n\r\n    // console.log(concertAllBasicInfo_name);\r\n    const concertName = concertAllBasicInfo_name.map((item, index) => {\r\n      return <option key={index} value={item} index={index}>{item}</option>;\r\n    });\r\n\r\n\r\n    const concertPlace = concertAllBasicInfo_place.map((item, index) => {\r\n      // console.log(item,index);\r\n      // console.log(concertAllBasicInfo_name.indexOf(this.state.ConcertName.toString()));\r\n      if (concertAllBasicInfo_name.indexOf(this.state.ConcertName.toString()) === index) {\r\n        return <option key={index}>{item}</option>\r\n      }\r\n      return false;\r\n      // true\r\n    });\r\n\r\n    // 區域與票價名稱\r\n    let dataAll = [];\r\n    let pricedataAll = []\r\n    const concertData = this.props.formdata;\r\n\r\n    if (concertData && concertData.length !== 0) {\r\n      for (let i = 0; i < concertData.length; i++) {\r\n        // console.log(concertData[i].concert_id,concertData[i].name);\r\n        if (concertData[i].concert_id === this.state.queryConcertID) {\r\n          dataAll.push(concertData[i].name);\r\n          pricedataAll.push(concertData[i].price);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    const names = dataAll.map((item, index) => {\r\n      return <option key={index} value={item} index={index}>{item}</option>;\r\n    });\r\n\r\n    // console.log(pricedataAll);\r\n    // console.log(dataAll,name);\r\n    // console.log(this.state.selectName);\r\n    // 選到的票區的index\r\n    // console.log(dataAll.indexOf(this.state.selectName.toString()))\r\n    const prices = pricedataAll.map((item, index) => {\r\n      // console.log(item,index)\r\n      if (dataAll.indexOf(this.state.selectName.toString()) === index) {\r\n        return item.map((item, index) => (\r\n          <option key={index}>{item}</option>\r\n        ));\r\n      }\r\n      // true\r\n      return false;\r\n    });\r\n\r\n    // 選到的票價（持有）\r\n    // console.log(this.state.selectPrice)\r\n\r\n    // 欲交換區域\r\n    const exChangeAreas = dataAll.map((item, index) => {\r\n      return <option key={index} value={item} index={index}>{item}</option>;\r\n    });\r\n\r\n    const exChangePrices = pricedataAll.map((item, index) => {\r\n      if (dataAll.indexOf(this.state.exChangeSelectArea.toString()) === index) {\r\n        return item.map((item, index) => (\r\n          <option key={index}>{item}</option>\r\n        ));\r\n      }\r\n      // true\r\n      return false;\r\n    });\r\n\r\n    // console.log(this.props.profile.user_name)\r\n    return (\r\n      <div>\r\n        <div className=\"change_btn\" onClick={() => this.openModal()}>我要交換<i className=\"fas fa-chevron-right\"></i></div>\r\n        <Popup\r\n          open={this.state.open}\r\n          closeOnDocumentClick\r\n          onClose={() => this.closeModal()}\r\n          contentStyle={popUpStyle}>\r\n          <div className=\"change_form_all\">\r\n            <p className=\"form_title\" >TICKET EXCHANGE FORM jbjhj</p>\r\n            <div className=\"change_form\">\r\n              <form onSubmit={this.handleSubmit.bind(this)}>\r\n                <p>{this.props.name}</p>\r\n                <div className=\"data_block\">\r\n                  <label htmlFor=\"inputform_concertName\" className=\"inputform_concertName\">\r\n                    <i className=\"fas fa-microphone\"></i> 活動名稱</label>\r\n                  <select className=\"concert_name_style\" value={this.state.ConcertName} onChange={this.changeConcertName.bind(this)} required>\r\n                    <option value=\"\">請選擇活動名稱</option>\r\n                    {concertName}\r\n                  </select>\r\n                </div>\r\n                <div className=\"place_and_change\">\r\n                  <div className=\"hold_place_block\">\r\n                    <label htmlFor=\"hold_area\">\r\n                      <i className=\"fas fa-map-marker-alt\"></i> 舉行地點</label>\r\n                    <select value={this.state.ConcertPlace} onChange={this.changeConcertPlace.bind(this)} required>\r\n                      <option value=\"\">請選擇</option>\r\n                      {concertPlace}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"change_way_block\">\r\n                    <label htmlFor=\"change_way\">\r\n                    <i className=\"fas fa-undo-alt\"></i> 交換方式</label>\r\n                    <select value={this.state.changeWay} id=\"changeWay\" onChange={this.handleChangeValue.bind(this)} required>\r\n                      <option value=\"\">請選擇</option>\r\n                      <option value=\"send_package\">郵寄</option>\r\n                      <option value=\"face_to_face\">面交</option>\r\n                      <option value=\"others_way\">其他</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"data_block\">\r\n                  <label htmlFor=\"hold_ticket_area\">持有區域 & 票價</label>\r\n                  <select value={this.state.selectName} onChange={this.changeName.bind(this)} required>\r\n                    <option value=\"\">請選擇區域</option>\r\n                    {names}\r\n                  </select>\r\n                  <select className=\"price_style\" value={this.state.selectPrice} onChange={this.changePrice.bind(this)} required>\r\n                    <option value=\"\">請選擇票價</option>\r\n                    {prices}\r\n                  </select>\r\n                </div>\r\n                <div className=\"data_block\">\r\n                  <label htmlFor=\"change_area\">交換區域 & 票價</label>\r\n                  <select value={this.state.exChangeSelectArea} onChange={this.exChangeArea.bind(this)} required>\r\n                    <option value=\"\">請選擇區域</option>\r\n                    {exChangeAreas}\r\n                  </select>\r\n                  <select  className=\"price_style\" value={this.state.exChangeSelectPrice} onChange={this.exChangePrice.bind(this)} required>\r\n                    <option value=\"\">請選擇票價</option>\r\n                    {exChangePrices}\r\n                  </select>\r\n                </div>\r\n                <div className=\"data_block\">\r\n                  <label htmlFor=\"price_spread\" className=\"price_spread\">\r\n                    <i className=\"fas fa-comments-dollar\"></i> 價差｜{this.state.pricePlusTag + this.state.priceSpread}</label>\r\n                </div>\r\n                <div className=\"data_block hide_contact\" onChange={this.handleChangeValue.bind(this)}>\r\n                  <p><i className=\"fas fa-address-card\"></i> 聯絡資訊｜</p>\r\n                  <p>{this.props.profile.user_name}／<span>{this.props.profile.phone_number}</span></p>\r\n                  <p>／{this.state.email}</p>\r\n                </div>\r\n                <div className=\"data_block\">\r\n                  <label htmlFor=\"ps_text\" className=\"ps_text\"><i className=\"fas fa-comment-dots\"></i> 備註</label>\r\n                  <textarea value={this.state.reminderTxt} id=\"reminderTxt\" onChange={this.handleChangeValue.bind(this)} required placeholder=\"有什麼想說的嗎？或是額外的需求…\"></textarea>\r\n                </div>\r\n                <label className=\"upload_block\">\r\n                  <input type=\"file\" className=\"file_upload\" url={this.state.url} id=\"filepath\" onChange={this.handleImageUpload.bind(this)} required/>\r\n                  <div className=\"select_file\">\r\n                    <p><i className=\"fa fa-download\" aria-hidden=\"true\"></i> 上傳票券照片</p>\r\n                    <span>上傳的圖檔請小於2MB，謝謝！</span>\r\n                  </div>\r\n\r\n                </label>\r\n                <p className=\"check_box_txt\">\r\n                  <input type=\"checkbox\" className=\"checkbox_style\" checked={this.state.isChecked} onChange={this.toggleChange} required />\r\n                  請再次確認填寫資訊，確認無誤後提交。\r\n                      </p>\r\n                <button className=\"ChangeFormSubmit\">確認送出</button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </Popup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    formdata: state.form.formdata,\r\n    concerDataAll: state.form.concerDataAll,\r\n    auth: state.firebase.auth,\r\n    profile: state.firebase.profile,\r\n    renderMatchListDataID: state.form.renderMatchListDataID,\r\n    renderMatchListData: state.form.renderMatchListData\r\n\r\n    // 這個要透過父層傳到子層\r\n  }\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return ({\r\n    changeFormAction: () => dispatch(changeFormAction()),\r\n    createEXChangeFormData: (changeFormData) => dispatch(createEXChangeFormData(changeFormData))\r\n  })\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps, mapDispatchToProps\r\n)(ChangeFormPopUp);\r\n\r\n\r\n","// 連動選單的資料\r\nimport { connect } from \"redux\";\r\n\r\nexport const changeFormAction = (formdata, concerDataAll) => {\r\n    // dispatch 是一個 method 調用 action to the reducer\r\n    // return 會有兩個參數\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        // {getFirebase,getFirestore} 這是為了要跟database連結\r\n        // make async call to database\r\n        const firestore = getFirestore()\r\n        // 對資料庫作非同步的呼叫，完成之後才會執行下一行程式碼，三個action都不同\r\n        let concertArray = [];\r\n        let dataArray = [];\r\n\r\n        // 演唱會名稱跟地區（目前先不管場次）\r\n        firestore.collection('AllConcertBasicData').get()\r\n            .then(querySnapshot => {\r\n                // console.log('AllConcertBasicData', querySnapshot)\r\n                querySnapshot.forEach(doc => {\r\n                    let dataAllConcert_form = doc.data();\r\n                    // console.log(doc.data())\r\n                    // console.log(typeof (doc.data()))\r\n                    concertArray.push(dataAllConcert_form)\r\n                    // dispatch({type:'CREATE_OPTION_2',datachencheer})                 \r\n                })\r\n            })\r\n        // ---------------------------------------------------------\r\n        // 演唱會的表單座位資料\r\n        // exo\r\n        firestore.collection('exo').get()\r\n            .then(querySnapshot => {\r\n                // console.log('exo', querySnapshot)\r\n                querySnapshot.forEach(doc => {\r\n                    let dataEXO = doc.data();\r\n                    // console.log(doc.data())\r\n                    dataArray.push(dataEXO)\r\n                })\r\n            })\r\n        // fayuching\r\n        firestore.collection('fayuching').get()\r\n            .then(querySnapshot => {\r\n                // console.log('fayuching', querySnapshot)\r\n                querySnapshot.forEach(doc => {\r\n                    let datafayuching = doc.data();\r\n                    // console.log(doc.data())\r\n                    dataArray.push(datafayuching)\r\n                    // dispatch({type:'CREATE_OPTION_2',datachencheer})                 \r\n                })\r\n            })\r\n        // jj\r\n        // 這邊暫時不抓資料\r\n        firestore.collection('jj').get()\r\n            .then(querySnapshot => {\r\n                // console.log('jj', querySnapshot)\r\n                querySnapshot.forEach(doc => {\r\n                    let datajj = doc.data();\r\n                    // console.log(doc.data())\r\n                    dataArray.push(datajj)\r\n                    // dispatch({type:'CREATE_OPTION_2',datachencheer})                 \r\n                })\r\n            })\r\n\r\n        // sharchingtung\r\n        firestore.collection('sharchingtung').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let datasharchingtung = doc.data();\r\n                    dataArray.push(datasharchingtung)\r\n                })\r\n            })\r\n\r\n        // 5566\r\n        firestore.collection('5566-taipeiArena').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let fivefivesixsix = doc.data();\r\n                    dataArray.push(fivefivesixsix)\r\n                })\r\n            })\r\n\r\n        // aimer\r\n        firestore.collection('aimer').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let aimerdata = doc.data();\r\n                    dataArray.push(aimerdata)\r\n                })\r\n            })\r\n\r\n        // blackpink\r\n        firestore.collection('blackpink-ntsuArena').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let bpdata = doc.data();\r\n                    dataArray.push(bpdata)\r\n                })\r\n            })\r\n\r\n        // gem-karena\r\n        firestore.collection('gem-karena').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let gemdata = doc.data();\r\n                    dataArray.push(gemdata)\r\n                })\r\n            })\r\n\r\n        // jasonmraz\r\n        firestore.collection('jasonmraz').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let jasonmrazdata = doc.data();\r\n                    dataArray.push(jasonmrazdata)\r\n                })\r\n            })\r\n\r\n\r\n        // lionking\r\n        firestore.collection('lionking').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let lionkingdata = doc.data();\r\n                    dataArray.push(lionkingdata)\r\n                })\r\n            })\r\n\r\n\r\n        // lucrowd\r\n        firestore.collection('lucrowd').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let lucrowddata = doc.data();\r\n                    dataArray.push(lucrowddata)\r\n                })\r\n            })\r\n\r\n        // maroon5-karena\r\n        firestore.collection('maroon5-karena').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let maroon5data = doc.data();\r\n                    dataArray.push(maroon5data)\r\n                })\r\n            })\r\n\r\n\r\n        // oldboy\r\n        firestore.collection('oldboy').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let oldboydata = doc.data();\r\n                    dataArray.push(oldboydata)\r\n                })\r\n            })\r\n\r\n\r\n        // parkbogum\r\n        firestore.collection('parkbogum').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let parkbogumdata = doc.data();\r\n                    dataArray.push(parkbogumdata)\r\n                })\r\n            })\r\n\r\n\r\n        // roybigyo\r\n        firestore.collection('roybigyo').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let roybigyodata = doc.data();\r\n                    dataArray.push(roybigyodata)\r\n                })\r\n            })\r\n\r\n        // shargchain_tower\r\n        firestore.collection('shargchain_tower').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let shargchaindata = doc.data();\r\n                    dataArray.push(shargchaindata)\r\n                })\r\n            })\r\n\r\n        // shuruyun\r\n        firestore.collection('shuruyun').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let shuruyundata = doc.data();\r\n                    dataArray.push(shuruyundata)\r\n                })\r\n            })\r\n\r\n\r\n        // sunmi\r\n        firestore.collection('sunmi').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let sunmidata = doc.data();\r\n                    dataArray.push(sunmidata)\r\n                })\r\n            })\r\n\r\n\r\n        // troyesivan\r\n        firestore.collection('troyesivan').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let troyesivandata = doc.data();\r\n                    dataArray.push(troyesivandata)\r\n                })\r\n            })\r\n\r\n\r\n\r\n        // chencheer\r\n        firestore.collection('chencheer').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let datachencheer = doc.data();\r\n                    dataArray.push(datachencheer)\r\n                })\r\n            }).then(() => {\r\n                console.log(dataArray)\r\n                dispatch({ type: 'CREATE_OPTION', dataArray, concertArray })\r\n            }).catch((err) => {\r\n                // dispatch({type:'CREATE_PROJECT_ERROR',err})\r\n            })\r\n    }\r\n}\r\n\r\n","export const createEXChangeFormData = (changeFormData) => {\r\n    // dispatch 是一個 method 調用 action to the reducer, return 會有兩個參數\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        // {getFirebase,getFirestore} 這是為了要跟database互動\r\n        // make async call to database 對資料庫作非同步的呼叫，完成之後才會執行下一行程式碼\r\n        const firestore = getFirestore();\r\n        const firebase =getFirebase();\r\n        // 這個是文件ID\r\n        let renderMatchListData = [];\r\n        // 宣告儲存要 render 資料的陣列\r\n        firestore.collection('exchange_form').add({\r\n            // 設定的collection名稱，add()裡面要放一個object 這裡面出現的會是單一的document\r\n            ...changeFormData,\r\n            createdAt: new Date()\r\n        }).then((docRef) => {\r\n            // 這份申請文件的ID\r\n            let applyDocumentID = docRef.id;\r\n            const { \r\n                queryConcertID: concertID, \r\n                exChangeSelectArea: exChangeArea, \r\n                exChangeSelectPrice: exChangePrice,\r\n                selectName:holdArea,\r\n                selectPrice:holdPrice,\r\n                user_id:dataUser            \r\n            } = changeFormData\r\n            // queryContcetID >>> concertID 這段可以這樣改寫\r\n            // let concertID = changeFormData.queryConcertID;\r\n\r\n            // 宣告儲存要 render 資料的陣列 orederby 處理最新的資料排序\r\n            // limit 可以控制資料量 大概就是排序 然後最新的100筆這樣\r\n            firestore.collection('exchange_form').where('queryConcertID', '==', `${concertID}`).where('selectName', '==', `${exChangeArea}`).where('selectPrice', '==', `${exChangePrice}`).where('exChangeSelectArea', '==', `${holdArea}`).where('exChangeSelectPrice', '==', `${holdPrice}`).get().then(querySnapshot => {\r\n                // console.log(querySnapshot.docs);\r\n                querySnapshot.forEach(doc => {\r\n                    let matchDocID = doc.id;\r\n                    let matchDocData = doc.data();\r\n                    if (doc.data().user_id !== `${dataUser}`) {\r\n                        matchDocData.docID = matchDocID;\r\n                        renderMatchListData.push(matchDocData);\r\n                    }\r\n                })\r\n                dispatch({\r\n                    type: 'CREATE_EXCHANGE_FORM_DATA_IN_DATABASE', applyDocumentID, changeFormData, renderMatchListData\r\n                })\r\n                if (renderMatchListData.length !== 0) {\r\n                    window.location.hash = '/renderMatch';\r\n                } else {\r\n                    window.location.hash = '/member_profile';\r\n                }\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport ChangeFormPopUp from './ChangeFormPopUp'\r\nimport './SearchBar.css';\r\n\r\nimport { connect } from 'react-redux'\r\nimport {searchBarAction} from '../../store/actions/SearchBarAction'\r\n\r\nclass SearchBar extends React.Component {\r\n\trender() {\t\t\r\n\t\treturn (\r\n            <div>\r\n\t\t\t\t<div className=\"searchbar\">\r\n                \t<input type=\"text\" placeholder=\"想找誰的演唱會門票呢？\"/>\r\n                \t<i className=\"fas fa-search searchIcon\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ChangeFormPopUp/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t//   formdata:state.auth.formdata\r\n\t}\r\n  }\r\n  \r\n  \r\n  function mapDispatchToProps(dispatch) {\r\n\treturn ({\r\n\t\tsearchBarAction: () => dispatch(searchBarAction())\r\n\t})\r\n  }\r\n  \r\n   export default connect(\r\n\tmapStateToProps,mapDispatchToProps\r\n   )(SearchBar);\r\n  \r\n  ","export const searchBarAction = (searchInput) =>{\r\n    return (dispatch, getState,{getFirebase,getFirestore}) => {\r\n        // {getFirebase,getFirestore} 這是為了要跟database連結\r\n        // make async call to database\r\n        const firestore = getFirestore()\r\n        // 對資料庫作非同步的呼叫，完成之後才會執行下一行程式碼，三個action都不同\r\n\r\n        // let dataArray =[];\r\n        // 搜尋bar演唱會的資料\r\n        firestore.collection('AllConcertBasicData').get()\r\n        .then(querySnapshot=>{\r\n            console.log('AllConcertBasicData',querySnapshot)\r\n            querySnapshot.forEach(doc=>{\r\n                console.log(doc.data())\r\n                console.log(typeof(doc.data()))\r\n                // dataArray.push(datasharchingtung)\r\n                // dispatch({type:'CREATE_OPTION_2',datachencheer})                 \r\n            })            \r\n        }).then(()=>{\r\n            // dispatch({type:'CREATE_CONCERT_NAME_PLACE',dataArray})\r\n        }).catch((err)=>{\r\n            // dispatch({type:'CREATE_PROJECT_ERROR',err})\r\n        })\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom';\r\n\r\n// css part\r\nimport './upComingEvents.css';\r\n\r\n// import action\r\nimport { createupComingEvent } from '../../store/actions/upComingEventAction'\r\n\r\n\r\n\r\nclass UpComingEvents extends React.Component {\r\n\r\n    componentDidMount(comingUpEventData) {\r\n        this.props.createupComingEvent(comingUpEventData);\r\n        // 當我要在function裡面叫action的時候      \r\n    }\r\n\r\n    render() {\r\n        const { comingUpEventData } = this.props;\r\n        const items = comingUpEventData && comingUpEventData.map((item) => ( <\r\n            li className = \"eventBlock\"\r\n            key = { item.concert_id } >\r\n            <\r\n            img src = { item.mainPic }\r\n            /> <\r\n            div className = \"activity_details\" >\r\n            <\r\n            div className = \"hold_date\" >\r\n\r\n            <\r\n            p className = \"day\" > { /* condition ? exprT : exprF */ } { `${item.date}`.split('/')[2] } <\r\n            /p> <\r\n            p className = \"month_year\" > { item.month } { `${item.date}`.split('/')[0] } < /p>\t\t\t\t\t\t\t\t <\r\n            /div> <\r\n            div className = \"activityTitle\" > { item.name } { /* {`${item.name}`.toString().slice(0,30).trim().concat('...')} */ } <\r\n            /div>\t\t\t\t\t\t <\r\n            div className = \"wrap_time_place\" >\r\n            <\r\n            p className = \"time\" > < i className = \"far fa-calendar-alt\" > < /i> {item.time}</p >\r\n            <\r\n            p className = \"place\" > < i className = \"fas fa-map-marker-alt\" > < /i> {item.place}</p >\r\n            <\r\n            /div> <\r\n            /div> <\r\n            div className = \"details_btn\" > < Link to = '' > 活動詳情 < i className = \"fas fa-chevron-right\" > < /i></Link > < /div> { /* 這裡現在沒有id 要把li拆出來 連結要連結到新的畫面 */ } <\r\n            /li>\r\n        ));\r\n\r\n        return ( <\r\n            div className = \"upComing\" >\r\n            <\r\n            h3 className = \"upComingTitle\" > 近期活動 < /h3> <\r\n            ul > { items } <\r\n            /ul> <\r\n            /div>\t\t\t\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        comingUpEventData: state.upComingEvent.comingUpEventData\r\n    }\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return ({\r\n        createupComingEvent: () => dispatch(createupComingEvent())\r\n    })\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps, mapDispatchToProps\r\n)(UpComingEvents);","// 抓所有演唱會的資料 render ，建立成 List\r\nexport const createupComingEvent = (comingUpEventData) =>{\r\n    return (dispatch, getState,{getFirebase,getFirestore}) => {\r\n        const firestore = getFirestore();\r\n        let concertBasicListArray = [];\r\n        firestore.collection('AllConcertBasicData').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let AllConcertHome = doc.data();\r\n                    concertBasicListArray.push(AllConcertHome);\r\n                    // console.log(concertBasicListArray)               \r\n                })\r\n            }).then(()=>{\r\n            dispatch({type:'CREATE_UPCOMING_EVENT',concertBasicListArray})\r\n        }).catch((err)=>{\r\n            // dispatch({type:'CREATE_PROJECT_ERROR',err})\r\n        })\r\n    }\r\n}","// 首頁的全部申請表單 這邊還沒做完\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\n//import moment from 'moment'\r\n// css part\r\nimport './HomaPageBoard.css'\r\n// import action\r\nimport { createAllExchangeData } from '../../store/actions/getAllExchangeFormAction'\r\n\r\nclass HomePageBoard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount(AllExchangeData) {\r\n        this.props.createAllExchangeData(AllExchangeData);\r\n    }\r\n\r\n    render() {\r\n        const AllExchangeData = this.props.AllExchangeData;\r\n        const items = AllExchangeData && AllExchangeData.map((item) => {\r\n            let exChangeStatus = item.initialChangeState;\r\n            if (exChangeStatus === 0) { exChangeStatus = '待交換' } else if (exChangeStatus === 1) {\r\n                exChangeStatus = '待回應'\r\n            } else if (exChangeStatus === 2) {\r\n                exChangeStatus = '已結案'\r\n            } else {\r\n                exChangeStatus = '拒絕'\r\n            }\r\n            let exChangeWay = item.changeWay;\r\n            if (exChangeWay === 'send_package') { exChangeWay = '郵寄' } else if (exChangeWay === 'face_to_face') {\r\n                exChangeWay = '面交'\r\n            } else {\r\n                exChangeWay = '其他'\r\n            }\r\n            return ( \r\n                <li className = \"allexchange_form_data\" key = { item.docID }>\r\n                    <div>\r\n                        <p className = \"status\" > { exChangeStatus } </p> \r\n                        <p> { item.ConcertName } </p> \r\n                    </div> \r\n                    <div className = \"ticket_block\">\r\n                        <p> { item.exChangeSelectArea } </p> \r\n                        <span> { item.exChangeSelectPrice } </span> \r\n                    </div> \r\n                    <div className = \"ticket_block\">\r\n                        <p> { item.selectName } </p> \r\n                        <span > { item.selectPrice } </span> \r\n                    </div> \r\n                    <div className = \"bottom_buttons\" > \r\n                    {\r\n                        item.initialChangeState === 2 ?   <p> Sorry！已結案，無法申請交換</p> :\r\n                        <button data-userid = { item.user_id }\r\n                        data-docid = { item.docID }\r\n                        data-initstate = { item.initialChangeState }\r\n                        data-docid = { item.docID }\r\n                        className = \"send_ExChange_Request_btn\"\r\n                        disabled = { this.state.letButtonDisabled }\r\n                        >\r\n                        細節 </button>\r\n                    } \r\n                    </div>  \r\n                </li>\r\n            )\r\n\r\n\r\n        });\r\n        return ( \r\n            <div className = \"homepage_exchange_block\">\r\n                <h3 className = \"upComingTitle\" > 全部交換票券清單 </h3>\r\n                    <div className = \"category_title\">\r\n                        <p> 名稱 </p> \r\n                        <p> 交換 </p> \r\n                        <p> 持有 </p> \r\n                        <p> 細節 </p> \r\n                    </div> \r\n                <ul className = \"exchange_block_details\" > { items } </ul> \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    console.log(state, '首頁的資料')\r\n    return {\r\n        AllExchangeData: state.form.AllExchangeData\r\n    }\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return ({\r\n        createAllExchangeData: () => dispatch(createAllExchangeData())\r\n    })\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps, mapDispatchToProps\r\n)(HomePageBoard);","// 抓到全部表單的資料 搭配formReducer\r\nexport const createAllExchangeData = (AllExchangeData) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        let AllExChangeListArray = [];\r\n        firestore.collection('exchange_form').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let AllExchangeInfo = doc.data();\r\n                    AllExChangeListArray.push(AllExchangeInfo);\r\n                    console.log(AllExChangeListArray)\r\n                })\r\n            }).then(() => {\r\n                dispatch({ type: 'CREATE_All_EXCHANGE_DATA', AllExChangeListArray })\r\n            }).catch((err) => {\r\n                // dispatch({type:'CREATE_PROJECT_ERROR',err})\r\n            })\r\n    }\r\n}","// 進去之後的首頁\r\nimport React from 'react';\r\n// 組件\r\n\r\nimport SearchBar from './SearchBar'\r\nimport UpComingEvents from './upComingEvents'\r\nimport HomePageBoard from './HomePageBoard'\r\n\r\n// css part\r\nimport '../HomePage/Home.css';\r\n\r\nclass Home extends React.Component {\r\n\trender() {\t\t\r\n\t\treturn (\r\n\r\n\t\t\t\r\n\t\t\t<div>\r\n\t\t\t\t\r\n\t\t\t\t<div>   \r\n\t\t\t\t\t<div className=\"topContent\">\r\n\t\t\t\t\t\t<SearchBar/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p>ccddvdvdv</p>\r\n\t\t\t\t\t<HomePageBoard/>\r\n\t\t\t\t\t<UpComingEvents/>\r\n\t\t\t\t</div>\r\n\t\t\t</div> \r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nexport default Home;","import React from 'react'\r\nimport firebase from \"../../config/firebaseConfig\";\r\nimport { Link} from 'react-router-dom';\r\n// 組件\r\n\r\n// css part\r\nimport './Menu.css';\r\nimport logout from '../../img/svg/logout.svg'\r\nimport member from '../../img/svg/member.svg'\r\nimport logo from '../../img/svg/LOGO.svg'\r\n\r\nclass Menu extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.toggleMenuActive=this.toggleMenuActive.bind(this);\r\n\t\tthis.state={\r\n\t\t\tactive:false\r\n\t\t}\r\n\t}\r\n\r\n\t// For Menu & mobile version menu\r\n\ttoggleMenuActive(){\r\n\t\tconst currentState = this.state.active;\r\n\t\tthis.setState({active:!currentState});\r\n\t}\r\n\r\n\trender() {\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"wrap_menuList\">\r\n\t\t\t\t<div className=\"menuList\">\r\n\t\t\t\t\t<Link to='/'>\r\n\t\t\t\t\t\t<div className=\"logo_no_light\">\r\n\t\t\t\t\t\t\t<img src={logo} alt=\"\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<div className=\"right_nav\">\r\n\t\t\t\t\t\t<Link to='/member_profile' className=\"member\"><div className=\"member_detail\"><img src={member} alt=\"\"/><p>會員</p></div></Link>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Link to=\"/entry\" className=\"signout\"><div className=\"sign_out\" onClick={ () => firebase.auth().signOut() }><img src={logout} alt=\"\"/><p>登出</p></div></Link>\r\n\t\t\t\t\t\t<a href=\"#\" className={this.state.active?'menu-trigger active':'menu-trigger'} onClick={this.toggleMenuActive}>\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\nexport default Menu;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n// 組件\r\n\r\n\r\n\r\nimport './Footer.css';\r\n\r\nclass Footer extends React.Component {\r\n\trender() {\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"footer_all\">    \r\n\t\t\t\t<ul className=\"footer_ul\">\r\n\t\t\t\t\t<Link to='aboutus'><li>關於我們</li></Link>\r\n\t\t\t\t\t<Link to='membershiprules'><li>會員條款</li></Link>\r\n\t\t\t\t\t<Link to='buyticketexplain'><li>購票須知</li></Link>\r\n\t\t\t\t\t<Link to='faq'><li>常見問答</li></Link>\r\n\t\t\t\t\t<Link to=''><li>聯絡我們</li></Link>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<p>Copyright © 2019 Find Ticket All rights reserved.</p>\r\n\t\t\t</div> \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Footer;","// Back to top button\r\nimport React from 'react'\r\n// css\r\nimport './BackToTop.css'\r\n\r\nclass BackToTopButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            intervalId: 0,\r\n            nowPositionY: false\r\n        }\r\n    }\r\n\r\n    // 處理render top按鈕的觸發條件\r\n    componentDidMount() {\r\n        document.addEventListener('scroll', () => {\r\n            if (window.pageYOffset > 800) {\r\n                this.setState({ nowPositionY: true })\r\n            } else {\r\n                this.setState({ nowPositionY: false })\r\n            }\r\n        })\r\n    }\r\n\r\n    scrollStep() {\r\n        // window.pageYOffset === scrollY意思一樣\r\n        if (window.pageYOffset === 0) {\r\n            clearInterval(this.state.intervalId);\r\n        }\r\n        window.scroll(0, window.pageYOffset - this.props.scrollStepInPx);\r\n    }\r\n    // 幾秒回到最上面 \r\n    scrollToTop() {\r\n        let intervalId = setInterval(this.scrollStep.bind(this), this.props.delayInMs);\r\n        this.setState({ intervalId: intervalId });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        if(this.state.nowPositionY){\r\n            return (\r\n                <button className=\"back_to_top_button\" onClick={() => {\r\n                    this.scrollToTop();\r\n                }}>\r\n                    <i className=\"fas fa-chevron-up\"></i>\r\n                    <p>TOP</p>\r\n                </button>\r\n            );\r\n        }else{\r\n            return null;\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n\r\nexport default BackToTopButton;\r\n","// footer 購票說明\r\nimport React from 'react'\r\n// 組件\r\n\r\n// css part\r\n\r\n\r\nclass BuyTicketExplain extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.toggleMenuActive=this.toggleMenuActive.bind(this);\r\n        this.state = {\r\n            // active:false\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"\">\r\n                欲購票者，請參考【拓元會員加入辦法】，需進行手機驗證，才可開始購票，未完成驗證者，恕無法購票，建議提早完成。\r\n每人限購4張，每筆訂單限購4張。(支援行動裝置購票)。購票時可選擇【電腦配位】加速購票流程。\r\n付款方式可選擇【ibon付款】或【ATM虛擬帳號付款】或【信用卡付款】，虛擬帳號需在一小時內結帳完畢。\r\n不論付款(刷卡、ATM、便利商店)時出現訊息為何，付款成功與否，請務必登入並到【訂單查詢】頁面，確認其【訂單狀態】，依訂單查詢顯示為主。\r\n【ibon付款】\r\n請至全台7-11門市內的ibon機台付款，請在訂單成立20分鐘後再至ibon機台付款(例：11:00完成訂票，請在11:20後再到ibon機台繳費)，需於訂單成立1小時內完成付款(例：11:00完成訂票，請在12:00前至ibon機台完成付款)。\r\n【ATM虛擬帳號付款】\r\n請依訂單顯示之『轉帳金額』＆『繳費截止期限』內完成付款，逾期繳費者此訂單取消不予保留。\r\n非國泰世華金融卡或國泰世華櫃員機需另付轉帳手續費$15元，轉帳時銀行會自動扣除跨行轉帳手續費$15元 (勿自行額外加在系統指示之轉帳金額中)。\r\n僅限於台灣金融機構開戶所核發之提款卡，包括郵局、農漁會信用合作社，並且已開通【非約定帳戶轉帳】功能皆可使用。\r\n請注意所使用之金融提款卡，轉帳交易未超過原發卡銀行所提供每日或每月之轉帳、繳費上限。\r\n實體ATM 與 web ATM 皆可轉帳，web ATM須搭配晶片讀卡機使用，請盡速向往來之金融機構開通相關功能。\r\n拓元系統顯示之【ATM虛擬帳號轉帳/繳費】銀行代號為 國泰世華(013)，虛擬帳號(16碼)請務必留意前四碼為2821或2700。\r\n【信用卡付款】\r\n信用卡僅限VISA、MasterCard、JCB（無法使用AE、大來、銀聯卡），購票前請先確認信用卡額度是否足夠，進入刷卡頁面後，請勿點選上一頁或是關閉刷卡頁面，避免刷卡失敗，刷卡資料送出前請檢查是否正確。\r\n訂單狀態說明：\r\n若顯示「訂單成立」，即表示刷卡成功。\r\n若顯示「刷卡失敗」，\r\n06/02 (日)當天上午11:00開賣之訂單，11:30(含)之前刷卡失敗之訂單會陸續轉為【ibon付款】，屆時請至【訂單查詢】中依照訂單顯示之資料，在指定時間內完成付款，逾期付款者此訂單取消不予保留，相關訊息請留意網站公告。\r\n06/02 (日)當天上午11:31(含)之後刷卡失敗之訂單，不會轉【ibon付款】，請重新購票。\r\n常見的異常訊息如下，但不論為何，請回【訂單查詢】，查看該筆訂單之【訂單狀態】：\r\na.回傳授權結果失敗！！請洽原交易商家確認此筆交易是否成功。\r\nb.商家交易資料有誤！！本筆訂單無法進行付款作業，請洽原交易商家。\r\n訂購者帳號中若有未完成付款或刷卡失敗的訂單，該帳號之購票額度需等待系統自動清除訂單後才會釋出，並請重新訂購。故售票日之後，如釋出較為前面座位之票券屬正常情形。\r\n付款完成之訂單代表已售出，表示台端同意支付本次交易的內容與價格，請至\"訂單查詢\"核對訂購內容，台端不得以任何理由拒付本次交易費用。(如需退票，請另依退票規則辦理。)\r\n有鑒於網路拍賣風氣盛行，有許多來路不明的票券在拍賣網站出售競標，但這些票券來源不明、真偽難辨，票務糾紛層出不窮，為確保您的權益，懇請勿於拍賣網站或是其他非正式授權售票之管道購票，如發生無法進場或其他損害個人權益之事宜，本售票系統恕不負責。\r\n\t\t\t</div>\r\n        );\r\n    }\r\n}\r\nexport default BuyTicketExplain;","//會員條款\r\nimport React from 'react'\r\nclass MemberShipRules extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.toggleMenuActive=this.toggleMenuActive.bind(this);\r\n        this.state = {\r\n            // active:false\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"\">\r\n                於「tixCraft拓元售票系統服務條款」之中所使用之用語、簡稱，定義如下：\r\n「本條款」：即指「tixCraft拓元售票系統服務條款」。\r\n「本公司」：即指拓元股份有限公司。\r\n「本系統」：本公司所營運之tixCraft拓元售票系統網站所有頁面，及本公司所開設、營運之電子郵件帳號、公式社交網站帳號。\r\n「使用者」：本系統之使用者。前述使用包含註冊會員帳號、透過本網站購入票券、商品、單純瀏覽、檢索資料、提出詢問等行為。\r\n「個人資料」：依個人資料保護法第2條第1項所定義之個人資料。\r\n第2條(認知與同意接受)\r\n\r\n本系統係依據本條款提供服務。當您以本系統會員帳號登入並使用本系統時，即表示您已閱讀、瞭解並同意接受服務條款之所有內容。\r\n本系統不接受未滿7歲之無行為能力人註冊會員。若您是7歲以上、未滿20歲之未成年人，應由您的法定代理人閱讀、暸解、並同意服務條款之所有內容，始得開始使用或繼續使用tixCraft拓元售票系統提供之服務。如您開始使用或繼續使用本系統，即推定您的法定代理人已閱讀、暸解、並同意服務條款之所有內容。\r\n本系統係受主辦單位委託處理票券事務之系統平台，各別節目資訊皆由主辦單位制定提供，若您對活動演出之演出內容、品質、延遲演出、改期及相關事宜有任何疑問，請您直接洽詢活動演出主辦單位，並請配合主辦單位所發之通知與規定辦理。\r\n第3條(本條款適用範圍)\r\n\r\n本系統所公布之「隱私權條款」、各節目頁面之內容(包含但不限於主辦單位資訊、銷售資訊、表演內容、付款方式、票券交付、退換票機制、票券毀損、滅失及遺失之進場機制、入場規範及消費爭議處理等事項)、其他規定、未來新增或修改之規定，皆為本條款之一部。\r\n如節目資訊之頁面內容或各演出場地，就該節目之票券交易有別於本條款之特別規定，應優先適用該特別規定。\r\n第4條(本條款之變更)\r\n\r\n本公司得因法令變更或未盡事宜隨時增減修改本條款之一部或全部，並得溯及適用於已成立但未終止、消滅之交易。\r\n前項之變更經公告於本系統或以其他方式通知使用者後即生通知之效力。使用者不得主張未受通知而不受本條款之拘束。\r\n第5條(通知)\r\n\r\n對使用者之必要事項通知，以本系統之網站公告為原則。如有必要，本公司得另以電話、電子郵件或其他適當方法聯絡使用者。\r\n前項通知如以網站公告方式為之，自公告日起發生通知效力；如以電子郵件方式為之，則以本公司向使用者發信之日為通知生效日，使用者應確認在本系統之電子郵件信箱為其經常使用者，並不因使用者未讀取信件、信件遭郵件網站系統商歸為垃圾郵件等事由，而生遲延之效果。\r\n第6條(會員資料之登錄)\r\n\r\n本系統每一使用者限制僅可申請一個會員帳號，此會員帳號需綁定『證件字號與手機號碼」，已使用之證件字號或手機號碼無法重複綁定其他帳號。每一會員帳號需完成驗證程序後方取得完整會員權利。\r\n使用者得隨時利用第三方服務之帳號登入tixCraft拓元售票系統網站之會員帳號，接收活動及優惠訊息、購買票券或其他方式利用本系統。\r\n如因使用者選用之第三方服務一時或永久停止服務、刪除或凍結使用者之第三方服務帳號之使用權限，將可能會連帶影響本系統之利用，所生之不便或損害使用者不得要求本公司為任何形式之補償或賠償。\r\n使用者填寫會員資料應遵守下列事項\r\n依本系統會員基本資料表之提示，提供會員本人正確、最新及完整的資料，且不得以他人名義註冊為會員。\r\n定期維持並更新會員資料，確保會員資料為正確、最新及完整狀態。\r\n冒用他人身分證字號或個人資料，恐有觸犯刑法第220條第2項、第216條、第210條之行使偽造準私文書罪及其他法令之虞，使用者於登錄會員資料時應瞭解不實登錄之法律責任，並保證提供之資料真實無虞。\r\n如使用者未按指定方式提供資料、所提供之資料不正確或與事實不符、或未即時更新資料，本公司得不經事先通知，隨時拒絕、或暫停對該使用者提供本系統服務之全部或一部。\r\n第7條(會員資料之變更)\r\n\r\n使用者所登錄之會員資料主要作為領取票券之身分依據、寄送票券或商品之收件資料之用，如會員資料有變更或錯誤，使用者應即時依本系統公告之修改方式儘速修正之。\r\n如會員資料有未即時修正之變更或錯誤，導致訂單發生錯誤、失敗或是影響後續進場及退換票等其他事宜之辦理，使用者不得要求本公司為任何形式之補償或賠償。\r\n第8條(利用環境)\r\n\r\n使用者使用本系統前應自行準備必要的通訊設備及網際網路連線服務，並維持管理其可利用性，一切網際網路連線所生之通訊費、連線費由使用者自行負擔。\r\n因線路壅塞或通訊設備運算緩慢、當機等類似情事發生，致訂單重複送出、訂單成立之通知遲延到達或訂購失敗等結果，對於使用者或第三人所生之損害，本公司不負損害賠償責任。\r\n第9條(禁止事項)\r\n\r\n使用者承諾絕不為任何非法目的或以任何非法方式使用本系統，並承諾遵守中華民國法規及一切使用網際網路之國際規約、習慣，且不利用本系統從事侵害他人權益或違法之行為，包括但不限於：\r\n對於本公司或第三人之商標權、專利、著作權、或其他智慧財產權之侵害行為。\r\n對於本公司或第三人之毀謗、侮辱或類似之妨礙名譽、信用之違法行為。\r\n利用本系統為詐欺、以不正方法由收費設備、自動付款設備取得他人之物等侵害本公司或第三人財產權之違法行為。\r\n使用非法程式或手段侵入、攻擊本系統，或其他類似之妨礙電腦使用之違法行為。\r\n冒用他人身分證字號或個人資料登錄，或其他類似之偽造文書之違法行為。\r\n利用、透過本系統為性交易、宗教、政治、選舉宣傳等與本系統使用目的無關之使用。\r\n未得本公司同意，利用本系統為營利行為或使其看似與本系統有關之營利行為。\r\n違反法令或公序良俗之一切行為。\r\n其他本公司判定不當之使用。\r\n使用者違反前項禁止事項時，本公司得禁止或限制使用者使用本系統之權利。若因此致本公司受有損害，本公司得就所受損害請求賠償。\r\n第10條(智慧財產權及肖像權)\r\n\r\n本系統所使用之軟體或程式、網站上所有內容（包括但不限於著作、圖片、檔案、資訊、資料、網站架構、網站畫面的安排、網頁設計、會員內容），均由本系統或其他權利人依法擁有其智慧財產權（包括但不限於商標權、專利權、著作權、營業秘密與專有技術）。非經本公司或權利所有者之同意，使用者不得逕自使用、修改、重製、公開播送、公開傳輸、公開演出、改作、散布、發行、公開發表、進行還原工程、解編或反向組譯。\r\n本公司對於使用者經由本系統連結至其他網站而下載的軟體或資料，不負任何擔保責任。\r\n使用者如因智慧財產及肖像權權利問題與權利所有者間涉訟，應自行承擔法律責任，與本公司無涉。\r\n第11條(服務之中斷、中止)\r\n\r\n於發生下列情形之一時，本公司得停止、中斷提供服務：\r\n本系統設置之電子通訊設備進行必要之保養及施工，致無法提供服務時。\r\n本系統使用之電子通訊服務或設備發生突發性之故障、停止，致無法提供服務時。\r\n由於天災等不可抗力或其他不可歸責於本公司之因素，致無法提供服務時。\r\n其他因本公司判斷有中斷、中止服務必要之情事。\r\n若因本系統服務中斷、中止，對於使用者或第三人造成之不便或損害，本公司不負損害賠償責任。\r\n第12條(票券購買)\r\n\r\n使用者依本系統步驟購買票券之訂單，交易狀態出現「訂單成立」之確認畫面時，買賣契約即已成立，使用者不得以任何理由要求取消訂單，僅得依退票規則處理。\r\n於發售期間內，若本系統可售票券數量已全數售盡，本公司得隨時終止該節目場次之售票程序，此後如有退票釋出或主辦單位追加公演及座席之狀況，本公司得不另行公告重啟售票程序。\r\n票券付款方式，使用者僅得就各該節目指定之方式選擇之。使用者若選擇信用卡付款方式，於刷卡完成時，本系統即同時向發卡銀行請求支付本筆訂單費用；若選擇ATM轉帳或超商付款時，使用者須於訂單顯示之「繳款期限」內完成付款。除本系統設定之自動轉換付款方式，使用者一旦選定付款方式後即不得要求變更。\r\n使用者如欲購買特殊折扣優惠之票種，請詳閱本系統指示後操作。訂購清單中之合計金額，即為使用者當次購票需支付之總金額，一經送出結帳，恕無法再行折扣。\r\n票券取票方式，使用者僅得就各該節目指定之方式選擇之。現場取票之取票者資料及郵寄取票之收件者資料綁定為訂購會員資料。為防盜用帳號及詐騙行為，訂購會員資料係以該訂單送出當下之會員資料為準，恕不提供事後姓名、電話或地址之變更申請服務。\r\n於使用者發生下列情形之一時，本公司有權拒絕售出票券，或解除之買賣契約：\r\n未於本系統公告之期限內完成規定之手續時。\r\n未遵守主辦單位於本系統內指定之購票方式時。\r\n未在系統指定期限內付款或付款金額錯誤時。\r\n異常大量交易時。\r\n以不正行為妨礙正常售票時。\r\n有其他違反本條款之情事時。\r\n本系統所售出之娛樂票券字號均經主管機關發函核准使用，並依法向演出所在地之稅捐處報繳娛樂稅，故票面金額不須開立統一發票，僅開立屬於「服務費」金額之發票。\r\n第13條(個人資料處理)\r\n\r\n使用者於本系統所提供之個人資料(包括但不限於信用卡卡號等資訊)，本公司將依個人資料保護法相關法令及本公司之「隱私權政策」妥善保護。\r\n第14條(使用者數據)\r\n\r\n本系統為提供更完善之服務，可能對使用者進行問卷調查、資訊收集、分析等動作。其中已無從直接或間接識別該特定個人之資訊，已非屬個人資料保護法所稱之個人資料，本公司得用於新聞發表、問卷結果公布、行銷活動或其他營運所需之用途，亦得提供委託本系統處理售票事務之活動主辦單位。\r\n第15條(資訊安全)\r\n\r\n為防止使用者訂購票券、付款時個人資料及金融資訊受惡意第三人竊取、妨害或其他不正使用，本系統全面使用SSL加密技術傳輸電子數據，以保護使用者個人資料之安全。\r\n第16條(電子報、電子郵件通知等)\r\n\r\n就本系統所提供之服務、優惠、所銷售票券、商品等相關情報之電子報或電子郵件等訊息通知，使用者得選擇是否同意訂閱，亦得隨時取消訂閱。\r\n第17條(免責事項)\r\n\r\n使用者使用本系統時，應秉持一定之注意義務，妥善保管自己之帳號密碼，不得將帳號密碼洩露或提供給第三人知悉或使用，並詳讀所有條款及注意事項；以同一個帳號使用本系統所進行的所有購買行為，視為該會員帳號本人的行為，應由該使用者依法負責。\r\n未成年人購買高價票券應事先取得法定代理人之同意，如未成年人使用者使用本系統購買票券，即推定其法定代理人已同意該次交易，其後因使用者自身因素所生消費糾紛，本公司不負任何法律責任。\r\n本公司就本系統內活動資訊、服務之提供、遲延、變更、中斷、中止、停止、廢除或其他就本系統之利用，而致使用者或第三人受有損害，除可歸責於本公司之故意、重大過失外，本公司不負擔任何責任。\r\n除各該活動主辦單位、協力單位、贊助廠商之官方媒體外，若其他演出活動資訊揭載、分享網站等第三方媒體可直接連結至本系統，亦不表示該第三方媒體與本系統有任何關係，本系統亦不保證第三方媒體上資訊之正確性及安全性。使用者因使用第三方媒體獲取資訊、購買票券所生之糾紛，概與本公司無涉。\r\n各別節目資訊皆由主辦單位制定提供，本公司對活動演出之演出內容、文宣所稱之品質等真實性不負審查責任；延遲演出、改期及相關事宜亦由活動主辦單位負責，本公司不負遲延責任。\r\n本系統不保證能全數滿足利用者就場次、張數、座位等之購票期望；入場後利用者如對所購票券座位有任何疑義，除可歸責於本公司之故意、重大過失外，概與本公司無涉。\r\n本公司不保證於拍賣網站、電子佈告欄、論壇、二手票券網站上所出售之票券真偽及價格，使用者利用非本系統購入票券所生之糾紛，概與本公司無涉。\r\n第18條(紛爭)\r\n\r\n若使用者因使用本系統致第三人受有損害，或使用者間因使用本系統而生糾紛，應由當事者間自行協調或循法律管道排解，概與本公司無涉。\r\n第19條(語言版本)\r\n\r\n本條款之中文版與其他語言版本間若有疑義、矛盾、不符之處，皆以中文版之文字為準。\r\n第20條(協議優先)\r\n\r\n使用者與本公司間若因本系統服務產生紛爭時，雙方應先秉持誠意協商，共同努力解決。\r\n第21條(準據法及管轄)\r\n\r\n本條款之解釋與適用，以及與本條款有關的爭議，均應依照中華民國法律予以處理，並以台灣台北地方法院為第一審管轄法院。\r\n■本會員服務條款最近一次修改時間：2018 年 05 月 02 日。\r\n\r\n■本會員服務條款公告頒布時間：2017 年 09 月 07 日。\r\n\t\t\t</div>\r\n        );\r\n    }\r\n}\r\nexport default MemberShipRules;\r\n\r\n\r\n\r\n// 第1條(定義)\r\n\r\n","// 常見問題\r\n\r\n// footer 購票說明\r\nimport React from 'react'\r\n// 組件\r\n\r\n// css part\r\n\r\n\r\nclass Faq extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.toggleMenuActive=this.toggleMenuActive.bind(this);\r\n        this.state = {\r\n            // active:false\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"\">\r\n                {/* 現在這邊全部都是假資料 */}\r\n                如何加入會員？\r\n可以用手機購票嗎？\r\n如何付款？\r\n可以在便利商店機台購票嗎？\r\n節目開賣前點選『立即購票』會看到時間倒數，但是倒數的時間不會變動？\r\n選到座位後，會因為別人比我先完成付款而搶不到座位嗎？\r\n什麼是電腦配位？\r\n電腦配位方式是隨機選位嗎？\r\n我想買2張票，但選擇電腦配位後，要選擇購票張數卻看到「已無連續 2 張的張數」？\r\n同一個節目有2天不同的場次，可以同時購買2場票嗎？\r\n一筆訂單最多可買幾張票？\r\n選到座位還沒付款，但突然不想買了，該怎麼辦？\r\n已經選到座位了，但還沒選擇付款方式，卻不小心按到別的畫面，該怎麼辦？\r\n為什麼現在網站上可買到的座位(序號)比我開賣當天買到的座位(序號)還前面？\r\n線上刷卡可以使用的卡別有哪些？\r\n我住在國外，請問可以在網站上刷卡嗎？\r\n可以用Debit Card在網站刷卡嗎？\r\n刷卡頁面是否有限制多久要完成？\r\n線上刷卡頁面，有跳出其它訊息該怎麼辦，請問訂單是否成立？\r\n什麼是虛擬帳號付款？\r\n虛擬帳號付款有繳費期限嗎？\r\n虛擬帳號要如何付款？\r\n虛擬帳號付款如何查詢是否轉帳成功？\r\n為什麼不能進行非約定帳戶轉帳？\r\n虛擬帳號付款時要選擇 轉帳? 繳費？金額超過3萬元要怎麼付款?\r\n\t\t\t</div>\r\n        );\r\n    }\r\n}\r\nexport default Faq;","// 關於我們\r\nimport React from 'react'\r\n// 組件\r\n\r\n// css part\r\n\r\n\r\nclass AboutUs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.toggleMenuActive=this.toggleMenuActive.bind(this);\r\n        this.state = {\r\n            // active:false\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"\">\r\n                關於我們...........................................................................................................................................\r\n\t\t\t</div>\r\n        );\r\n    }\r\n}\r\nexport default AboutUs;","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport { signUp } from '../../store/actions/authAction'\r\nimport email from '../../img/svg/email.svg'\r\nimport password from '../../img/svg/password.svg'\r\nimport phone from '../../img/svg/phone.svg'\r\nimport user from '../../img/svg/user.svg'\r\n\r\n// 組件\r\n\r\nclass SignUp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      user_name: '',\r\n      phone_number: ''\r\n    };\r\n    this.handleSignUp = this.handleSignUp.bind(this);\r\n  }\r\n\r\n  handleSignUp(e) {\r\n    e.preventDefault();\r\n    console.log(this.state);\r\n    this.props.signUp(this.state);\r\n  }\r\n\r\n  render() {\r\n    const { auth, authError } = this.props;\r\n    if (auth.id) return <Redirect to='/home' />\r\n    return (\r\n      <form className=\"signup_form\" onSubmit={this.handleSignUp}>\r\n        <div>\r\n          <label htmlFor=\"user_name\" className=\"user_title\"><img src={user} alt=\"\" />姓名</label>\r\n          <input id=\"user_name\" value={this.state.user_name} placeholder=\"Name\" type=\"text\" onChange={(e) => this.setState({ user_name: e.target.value })} required/>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"phone_number\" className=\"phone_title\"><img src={phone} alt=\"\" />電話</label>\r\n          <input id=\"phone_number\" value={this.state.phone_number} placeholder=\"Phone Number\" type=\"text\" onChange={(e) => this.setState({ phone_number: e.target.value })} required/>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"email\" className=\"email_title\"><img src={email} alt=\"\" />信箱</label>\r\n          <input id=\"email\" value={this.state.email} placeholder=\"E-mail\" type=\"text\" onChange={(e) => this.setState({ email: e.target.value })} required/>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\" className=\"password_title\"><img src={password} alt=\"\" />密碼</label>\r\n          <input id=\"password\" value={this.state.password} placeholder=\"Password\" type=\"password\" onChange={(e) => this.setState({ password: e.target.value })} required/>\r\n        </div>\r\n        <button>註冊</button>\r\n        <div>{authError ? <p className=\"errorMsg\">{authError}</p> : null}</div>\r\n      </form>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signUp: (newUser) => dispatch(signUp(newUser))\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(state)\r\n  // 這邊可以看到firebase的預設功能\r\n  return {\r\n    auth: state.firebase.auth,\r\n    authError: state.auth.authError\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp)\r\n","import { getFirestore } from \"redux-firestore\";\r\n\r\nexport const signIn = (credentials) => {\r\n    // 因為有 thunk 我們可以停止 dispatch 的過程\r\n    // 並且 return 一個 function\r\n    return (dispatch, getState, { getFirebase }) => {\r\n        const firebase = getFirebase();\r\n        firebase.auth().signInWithEmailAndPassword(\r\n            credentials.email,\r\n            credentials.password\r\n        ).then(() => {\r\n                dispatch({ type: 'LOGIN_SUCCESS' })\r\n            }).catch((err) => {\r\n                // 如果登入失敗的話\r\n                dispatch({ type: 'LOGIN_ERROR', err })\r\n            })\r\n\r\n    }\r\n}\r\n\r\n\r\n// 登出\r\nexport const signOut = () => {\r\n    return (dispatch, getState, { getFirebase }) => {\r\n        const firebase = getFirebase();\r\n        // 因為是登出 所以不需要給參數\r\n        firebase.auth().signOut().then(() => {\r\n            dispatch({ type: 'SIGNOUT_SUCCESS' })\r\n        }\r\n\r\n        )\r\n    }\r\n}\r\n\r\n// 註冊\r\nexport const signUp = (newUser) => {\r\n    return (dispatch, getState, { getFirebase }) => {\r\n        const firebase = getFirebase();\r\n        const firestore = getFirestore();\r\n        firebase.auth().createUserWithEmailAndPassword(\r\n            newUser.email,\r\n            newUser.password\r\n        ).then((resp) => {\r\n            // 就有一個叫做users的資料會存起來\r\n            return firestore.collection('users').doc(resp.user.uid).set(\r\n                {\r\n                    // 我想要替使用者增加的'額外'屬性\r\n                    email: newUser.email,\r\n                    user_name: newUser.user_name,\r\n                    phone_number: newUser.phone_number\r\n                    // 這邊的document = uid\r\n                }\r\n            )\r\n        }).then(() => {\r\n            dispatch({ type: 'SIGNUP_SUCCESS' })\r\n        }).catch(err => {\r\n            dispatch({ type: 'SIGNUP_ERROR', err })\r\n        })\r\n\r\n    }\r\n}","import React from 'react';\r\nimport * as firebase from 'firebase/app';\r\nimport { Link } from 'react-router-dom'\r\n// 組件\r\n\r\nimport { connect } from 'react-redux'\r\n// 影片做的\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n// actions\r\nimport { signIn } from '../../store/actions/authAction'\r\n\r\nimport email from '../../img/svg/email.svg'\r\nimport password from '../../img/svg/password.svg'\r\n\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { email: '', password: ''};\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n  }\r\n\r\n  handleLogin(e) {\r\n    e.preventDefault();\r\n    console.log(this.state);\r\n    this.props.signIn(this.state);\r\n    // action 才抓到資料\r\n  }\r\n\r\n\r\n  render() {\r\n    const { authError, auth } = this.props;\r\n    if (auth.id) return <Redirect to='/home' />\r\n    return (\r\n      <form className=\"login_form\"\r\n      // onSubmit={this.handleLogin} 這邊是原本的寫法\r\n      >\r\n        <div>\r\n          <label htmlFor=\"email\" className=\"email_title\"><img src={email} alt=\"\" />信箱</label>\r\n          <input id=\"email_login\" value={this.state.email} placeholder=\"E-mail\" type=\"text\" onChange={(e) => this.setState({ email: e.target.value })} />\r\n          <span className=\"input-border\"></span>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\" className=\"password_title\"><img src={password} alt=\"\" />密碼</label>\r\n          <input id=\"password_login\" value={this.state.password} placeholder=\"Password\" type=\"password\" onChange={(e) => this.setState({ password: e.target.value })} />\r\n        </div>\r\n        <button onClick={this.handleLogin}>登入</button>\r\n        <button\r\n          onClick={() => {\r\n            firebase.auth().signInAnonymously();\r\n          }}\r\n        >\r\n          匿名登入\r\n        </button>\r\n        <div className=\"some_reminder\">\r\n          {authError ? <p className=\"errorMsg\">{authError}</p> : null}\r\n          <p className=\"ps_txt\">Don't have an account? <Link to=\"\">Sign up here.</Link></p>\r\n        </div>\r\n      </form>\r\n\r\n    );\r\n  }\r\n};\r\n\r\n// mapDispatchToProps 是一個函數\r\n// 它可以傳入 dispatch, ownProps\r\n// 定義 UI 組件如何發出 action\r\n// 實際上就是要調用 dispatch 這個方法\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signIn: (creds) => dispatch(signIn(creds))\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    authError: state.auth.authError,\r\n    auth: state.firebase.auth\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\r\n// export default withRouter(Login);\r\n// 這個是原本的","// TabForSignUpAndLogin 這個為了登入註冊的切換 tab 按鈕\r\nimport React from 'react';\r\n\r\n// 父層 LoginAndSignUpPopup >> 父層 TabsAll >> TabForSignUpAndLogin\r\n\r\nclass TabForSignUpAndLogin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onTabClick = this.onTabClick.bind(this);\r\n  }\r\n\r\n  onTabClick(){\r\n      this.props.handleClickTab(this.props.tabIndex);\r\n  }\r\n  \r\n\r\n  render() {\r\n    const { isActive,label } = this.props;\r\n    return (\r\n        <button className=\"tab_template\" onClick={this.onTabClick}>\r\n            {label}\r\n        </button>         \r\n    );\r\n  }\r\n};\r\n\r\nexport default TabForSignUpAndLogin;","import React from 'react';\r\n// 父層 LoginAndSignUpPopup >> 父層 TabsAll >> TabForSignUpAndLogin\r\n// 組件\r\nimport TabForSignUpAndLogin from './TabForSignUpAndLogin'\r\n\r\n\r\n\r\nconst TabsAll = ({ activeTabIndex, handleClickTab,tabIndex }) => {\r\n    const isActive = activeTabIndex === tabIndex;\r\n    return(\r\n    <div className=\"switch_button\">\r\n        <TabForSignUpAndLogin\r\n            tabIndex=\"0\" label=\"登入\"\r\n            isActive={isActive}\r\n            handleClickTab={handleClickTab} />\r\n        <TabForSignUpAndLogin\r\n            tabIndex=\"1\" label=\"註冊\"\r\n            isActive={isActive}\r\n            handleClickTab={handleClickTab} />\r\n    </div>)\r\n}\r\n\r\nexport default TabsAll;","import React from 'react'\r\nimport Popup from 'reactjs-popup'\r\nimport { link } from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport SignUp from './SignUp'\r\nimport Login from './Login'\r\nimport TabsAll from './TabsAll'\r\n\r\nimport './LoginAndSignUpPopup.css'\r\n\r\n\r\nclass LoginAndSignUpPopup extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      open: false,\r\n      activeTabIndex: 0\r\n    }\r\n    this.openModal = this.openModal.bind(this)\r\n    this.closeModal = this.closeModal.bind(this)\r\n    this.handleClickTab = this.handleClickTab.bind(this)\r\n  }\r\n  openModal() {\r\n    this.setState({ open: true })\r\n  }\r\n  closeModal() {\r\n    this.setState({ open: false })\r\n  }\r\n\r\n  // 最上層 view 的 click 控制事件\r\n  handleClickTab(tabIndex) {\r\n    this.setState({\r\n      activeTabIndex: tabIndex\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { activeTabIndex } = this.state;\r\n    return (\r\n      <div className=\"topBNContainer\">\r\n        <div className=\"joinRightNow\" onClick={this.openModal}>\r\n          <p>Joi<span className=\"break_point\">n</span> No<span className=\"break_point\">w ></span></p>\r\n        </div>\r\n        <Popup\r\n          open={this.state.open}\r\n          closeOnDocumentClick\r\n          onClose={this.closeModal}\r\n\r\n        >\r\n          <div className=\"login_and_signup_wrap_popup\">\r\n            <TabsAll handleClickTab={this.handleClickTab} activeTabIndex={activeTabIndex} />\r\n            {activeTabIndex==0 ? (\r\n               <Login />\r\n            ) : (\r\n              <SignUp />\r\n              )}\r\n          </div>\r\n        </Popup>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {}\r\n}\r\n\r\n\r\n// 這個是 redux 的 connect\r\nexport default connect(mapStateToProps)(LoginAndSignUpPopup);","import React from 'react'\r\nimport LoginAndSignUpPopup from './components/AuthRelate/LoginAndSignUpPopup'\r\n\r\n// css part\r\nimport './Logo.css';\r\n// import ConcertBg from '../img/Concert_bg.jpg'\r\nclass Logo extends React.Component {\r\n\trender() {\t\t\r\n\t\treturn (\r\n            <div className=\"logo_container\">\r\n\t\t\t\t<div className=\"logo\">\r\n\t\t\t\t\t<b><i className=\"fas fa-ticket-alt\"></i>  F<span>in</span>d<span> Tic</span>ket</b>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h3 className=\"viceTitle\">加入會員，有票馬上通知你！</h3>\r\n\t\t\t\t<LoginAndSignUpPopup/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Logo;","// 把符合搜索條件的資料 render 出來\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\n// css part\r\nimport './RenderMatch.css'\r\n\r\n// import action\r\nimport { exChangeApplyBtn } from '../../store/actions/sendRequestToTicketAction'\r\n\r\n\r\nclass RenderMatch extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t// 讓申請者只能點一次\r\n\t\t\tletButtonDisabled: false,\r\n\t\t\t// 填寫表單的人的文件資料\r\n\t\t\tApply_docID: '',\r\n\t\t\tApply_userID: '',\r\n\t\t\t// 這是另外一個要傳遞的資料\r\n\t\t\tapplySearch_docID:'',\r\n\t\t\tapplySearch_userID:''\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// 我這邊應該會有一個action 放在這裡的是用來抓資料的\r\n\t\t// 確保所有的資料都會抓到\r\n\t\tthis.setState({\r\n\t\t\tApply_docID: this.props.applyDocumentID,\r\n\t\t\tApply_userID: this.props.changeFormData.user_id,\r\n\t\t\tapplySearch_docID:this.props.searchAgainData.docID,\r\n\t\t\tapplySearch_userID:this.props.searchAgainData.userID\r\n\t\t})\r\n\t}\r\n\r\n\r\n\t// 點到render出來之後的結果的交換按鈕\r\n\texChangeApplyBtn(e) {\r\n\t\te.preventDefault();\r\n\t\tlet deciderDocID = e.currentTarget.getAttribute(\"data-docid\");\r\n\t\tlet deciderUserID = e.currentTarget.getAttribute(\"data-userid\");\r\n\t\tthis.setState({\r\n\t\t\t// 讓使用者不能按  我這邊有處理嗎 \r\n\t\t\tletButtonDisabled: true\r\n\t\t});\r\n\t\talert('已提出申請交換！請靜候佳音');\r\n\t\t// console.log(e.currentTarget.getAttribute(\"data-initstate\"));\r\n\t\t// 送出去的資料\r\n\t\tthis.props.exChangeApplyBtn(this.state, { deciderDocID: deciderDocID, deciderUserID: deciderUserID });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(this.props.searchAgainData.userID, 'LOOK AT ME')\r\n\t\tconst { renderMatchListData, renderMatchListData_search } = this.props;\r\n\r\n\t\t// renderMatchListData\r\n\t\tconst DocumentItems = renderMatchListData && renderMatchListData.map((item, index) => (\r\n\t\t\t<li className=\"renderMatch_block\" key={item.user_id}>\r\n\t\t\t\t<div className=\"imgbox\">\r\n\t\t\t\t\t<img src={item.url} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"renderMatch_concert_name\">{item.ConcertName}</p>\r\n\t\t\t\t\t<span className='renderMatch_docID'>{item.docID}</span>\r\n\t\t\t\t\t<p className=\"renderMatch_change\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titem.changeWay === 'send_package' && '郵寄' || item.changeWay === 'face_to_face' && '面交' || item.changeWay === 'others_way' && '其他'\r\n\t\t\t\t\t\t}｜{\r\n\t\t\t\t\t\t\titem.initialChangeState === 0 && '待交換' || item.initialChangeState === 1 && '待回應' || item.initialChangeState === 2 && '已結案' || item.initialChangeState === 3 && '拒絕'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"match_change_ticket\">交換｜{item.exChangeSelectArea + ' ' + item.exChangeSelectPrice}</p>\r\n\t\t\t\t\t<p className=\"match_hold_ticket\">持有｜{item.selectName + ' ' + item.selectPrice}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className=\"match_reminder\"><i className=\"fas fa-comment-dots\"></i>　{item.reminderTxt}</p>\r\n\t\t\t\t<div className=\"bottom_buttons\">\t\t\t\t{\r\n\t\t\t\t\titem.initialChangeState === 2 && <p>Sorry！已結案，無法申請交換</p> || item.initialChangeState !== 2 &&\r\n\t\t\t\t\t<button data-userid={item.user_id} data-docid={item.docID} data-initstate={item.initialChangeState} data-docid={item.docID} className=\"send_ExChange_Request_btn\" disabled={this.state.letButtonDisabled} onClick={this.exChangeApplyBtn.bind(this)}>發送交換請求</button>\r\n\t\t\t\t}</div>\r\n\t\t\t</li>\r\n\t\t)\r\n\t\t)\r\n\r\n\r\n\t\t// 改成 renderMatchListData_search\r\n\t\tconst DocumentItems_Search = renderMatchListData_search && renderMatchListData_search.map((item, index) => (\r\n\t\t\t<li className=\"renderMatch_block\" key={item.user_id}>\r\n\t\t\t\t<div className=\"imgbox\">\r\n\t\t\t\t\t<img src={item.url} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"renderMatch_concert_name\">{item.ConcertName}</p>\r\n\t\t\t\t\t<span className='renderMatch_docID'>{item.docID}</span>\r\n\t\t\t\t\t<p className=\"renderMatch_change\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titem.changeWay === 'send_package' && '郵寄' || item.changeWay === 'face_to_face' && '面交' || item.changeWay === 'others_way' && '其他'\r\n\t\t\t\t\t\t}｜{\r\n\t\t\t\t\t\t\titem.initialChangeState === 0 && '待交換' || item.initialChangeState === 1 && '待回應' || item.initialChangeState === 2 && '已結案' || item.initialChangeState === 3 && '拒絕'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"match_change_ticket\">交換｜{item.exChangeSelectArea + ' ' + item.exChangeSelectPrice}</p>\r\n\t\t\t\t\t<p className=\"match_hold_ticket\">持有｜{item.selectName + ' ' + item.selectPrice}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className=\"match_reminder\"><i className=\"fas fa-comment-dots\"></i>　{item.reminderTxt}</p>\r\n\t\t\t\t<div className=\"bottom_buttons\">\t\t\t\t{\r\n\t\t\t\t\titem.initialChangeState === 2 && <p>Sorry！已結案，無法申請交換</p> || item.initialChangeState !== 2 &&\r\n\t\t\t\t\t<button data-userid={item.user_id} data-docid={item.docID} data-initstate={item.initialChangeState} data-docid={item.docID} className=\"send_ExChange_Request_btn\" disabled={this.state.letButtonDisabled} onClick={this.exChangeApplyBtn.bind(this)}>發送交換請求</button>\r\n\t\t\t\t}</div>\r\n\t\t\t</li>\r\n\t\t)\r\n\t\t)\r\n\r\n\r\n\t\tif (renderMatchListData && renderMatchListData) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"rendermatch_wrap\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{DocumentItems}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (renderMatchListData_search && renderMatchListData_search) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"rendermatch_wrap\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{DocumentItems_Search}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\t// console.log(state); console看資料有沒有送出來\r\n\treturn {\r\n\t\trenderMatchListData: state.form.renderMatchListData,\r\n\t\t// 再次搜索的抓到的資料\r\n\t\trenderMatchListData_search: state.memberDataBase.renderMatchListData_search,\r\n\t\t// 下面這個是要提出交換申請的人\r\n\t\tapplyDocumentID: state.form.applyDocumentID,\r\n\t\tchangeFormData: state.form.changeFormData,\r\n\t\tsearchAgainData:state.memberDataBase.searchAgainData\r\n\t}\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn ({\r\n\t\t// 傳出去的資料是要加到申請單的那個集合裡面\r\n\t\texChangeApplyBtn: (applyData, DecideData) => dispatch(exChangeApplyBtn(applyData, DecideData))\r\n\t})\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RenderMatch);","// 在會員頁面上點選申請交換Action\r\n// exChangeApplyBtn 填完表單 > 搜索 > render表單的交換按鈕\r\n// 抓到彼此的 UID (user_id) + DOC ID + 該文件的交換狀態 initialChangeState\r\n// 傳到 firestore (因為確定都是存在的 所以不用判斷是否存在)\r\n// 因為每一張票都會有申請人 票券DOC ID = 集合裡面的DOC ID\r\n// 裡面放陣列抓到提出申請的人的ID 還有 DOC ID \r\n\r\nexport const exChangeApplyBtn = (applyData, DecideData) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        // const firebase = getFirebase();\r\n        const firestore = getFirestore();\r\n        if (applyData.applySearch_docID) {\r\n            let apply = [];\r\n            let applyuserID = applyData.applySearch_userID;\r\n            let applydocID = applyData.applySearch_docID;\r\n            let deciderDocID = DecideData.deciderDocID;\r\n            // 申請的文件，把狀態改成 1\r\n            firestore.collection('exchange_form').doc(`${applydocID}`).update({ initialChangeState: 1 })\r\n            firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).get().then(docSnapshot => {\r\n                // 先試試看擺在這裡\r\n                if (docSnapshot.exists) {\r\n                    firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).update({\r\n                        apply: firestore.FieldValue.arrayUnion({ Apply_userID: applyuserID, Apply_docID: applydocID })\r\n                    }).then(() => {\r\n                        dispatch({ type: 'CREATE_APPLY_DATA_BOTH_USER', apply, DecideData })\r\n                    })\r\n                } else {\r\n                    // apply.push(applyData)\r\n                    firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).set({\r\n                        apply: `${apply.push(applyData)}`,\r\n                        ...DecideData\r\n                    }).then(() => {\r\n                        dispatch({ type: 'CREATE_APPLY_DATA_BOTH_USER', apply, DecideData })\r\n                    })\r\n\r\n                }\r\n            })\r\n        } else {\r\n            let apply = [];\r\n            let applyuserID = applyData.Apply_userID;\r\n            let applydocID = applyData.Apply_docID;\r\n            let deciderDocID = DecideData.deciderDocID;\r\n            firestore.collection('exchange_form').doc(`${applydocID}`).update({ initialChangeState: 1 })\r\n                // 如果 ApplicationForm_context 裡面的 找的到對應的 doc 就update array [] \r\n            firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).get().then(docSnapshot => {\r\n                if (docSnapshot.exists) {\r\n                    firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).update({\r\n                        apply: firestore.FieldValue.arrayUnion({ Apply_userID: applyuserID, Apply_docID: applydocID })\r\n                    }).then(() => {\r\n                        dispatch({ type: 'CREATE_APPLY_DATA_BOTH_USER', apply, DecideData })\r\n                    })\r\n                } else {\r\n                    apply.push(applyData);\r\n                    firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).set({\r\n                        apply,\r\n                        ...DecideData\r\n                    }).then(() => {\r\n                        dispatch({ type: 'CREATE_APPLY_DATA_BOTH_USER', apply, DecideData })\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n// 收到申請的那方會看到的所有資料-----------------------------------------------------------------\r\nexport const getAllApplyDataToSpecificUser = (getAllApplyData) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        //const firebase = getFirebase();\r\n        const firestore = getFirestore();\r\n        const currentWho = getState().firebase.auth.uid;\r\n        // 全部的資訊\r\n        //let applyArray = [];\r\n        let decideData = [];\r\n\r\n        console.log(currentWho, '現在的使用者ID');\r\n        // 現在的使用者是誰\r\n\r\n        firestore.collection('ApplicationForm_context').where('deciderUserID', '==', `${currentWho}`).get().then(\r\n            querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let matchApplyDocID = doc.id;\r\n                    let matchApplyDocData = doc.data();\r\n                    console.log(matchApplyDocID)\r\n                    firestore.collection('exchange_form').doc(`${matchApplyDocID}`).get().then(\r\n                        querySnapshot => {\r\n                            let data = querySnapshot.data();\r\n                            data.docID = matchApplyDocID;\r\n                            matchApplyDocData.apply.map((items) => {\r\n                                firestore.collection('exchange_form').doc(`${items.Apply_docID}`).get().then(\r\n                                    querySnapshot => {\r\n                                        if (querySnapshot.data() !== undefined) {\r\n                                            let applydocID = querySnapshot.id;\r\n                                            let applydocData = querySnapshot.data();\r\n                                            applydocData.docID = applydocID;\r\n                                            decideData.push({ data, apply: [applydocData] })\r\n                                            dispatch({ type: 'GET_USER_APPLICATION_DATA_WAIT_RESPONSE', decideData })\r\n                                            console.log(decideData)\r\n                                        }\r\n                                    }\r\n                                )\r\n                            })\r\n\r\n                        }\r\n                    )\r\n                })\r\n\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\n\r\n// 接受或拒絕的按鈕-----------------------------------------------------------------\r\n// 一次可以更改全部的狀態,只要按鈕被按了就要觸發\r\nexport const AgreeOrRefuseBtn = (responseResult) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        // console.log(responseResult, '回傳的資料');\r\n        // console.log(responseResult.decideDocID, '要決定的那個文件ID');\r\n        // console.log(responseResult.DocID, '被接受或拒絕的文件ID');\r\n        // console.log(responseResult.Email, '被接受或拒絕的email');\r\n        // console.log(responseResult.State, '被接受或拒絕的文件資料狀態');\r\n        // console.log(responseResult.acceptOrRefuse, 'F 拒絕 T 同意');\r\n        // console.log(responseResult.Reminder, '被接受或拒絕的提示文字');\r\n        // console.log(responseResult.UserName, '被接受或拒絕的名字');\r\n\r\n        let decideDocID = responseResult.decideDocID;\r\n        let DocID = responseResult.DocID;\r\n        let result = responseResult.acceptOrRefuse;\r\n\r\n        if (result === true) {\r\n            firestore.collection('exchange_form').doc(`${DocID}`).update({ initialChangeState: 2 })\r\n            firestore.collection('exchange_form').doc(`${decideDocID}`).update({ initialChangeState: 2 })\r\n        } else {\r\n            firestore.collection('exchange_form').doc(`${DocID}`).update({ initialChangeState: 3 })\r\n            firestore.collection('exchange_form').doc(`${decideDocID}`).update({ initialChangeState: 3 })\r\n        }\r\n        dispatch({ type: 'RESPONSE_TO_THE_APPLICANTS', responseResult })\r\n    }\r\n}","// 會員曾經填寫過的資料\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\n// 組件\r\n\r\n// action\r\nimport { deleteUserApplyData } from '../../store/actions/GetUserFormDataAction'\r\nimport { searchDataAgainBtn } from '../../store/actions/GetUserFormDataAction'\r\n\r\n// css part\r\nimport './MemberProfileApplyData.css'\r\n\r\nclass MemberProfileApplyData extends React.Component {\r\n    // 刪除交換文件的功能\r\n    handleDelete(e) {\r\n        e.preventDefault();\r\n        let deleteApply = e.currentTarget.getAttribute(\"data-docid\");\r\n        alert('申請文件已刪除');\r\n        this.props.deleteUserApplyData(deleteApply);\r\n    }\r\n\r\n    // 重新搜索的功能\r\n    handleSearch(e) {\r\n        e.preventDefault();\r\n        // 把資料提交回去\r\n        let docID = e.currentTarget.getAttribute(\"data-docid\");\r\n        let userID = e.currentTarget.getAttribute(\"data-userid\");\r\n        let selectName = e.currentTarget.getAttribute(\"data-select-name\");\r\n        let selectPrice = e.currentTarget.getAttribute(\"data-select-price\");\r\n        let exChangeSelectArea = e.currentTarget.getAttribute(\"data-exchange-name\");\r\n        let exChangeSelectPrice = e.currentTarget.getAttribute(\"data-exchange-price\");\r\n        let queryConcertID = e.currentTarget.getAttribute(\"data-queryconcert\");\r\n\r\n        let searchAgainData = { docID: docID, userID: userID, selectName: selectName, selectPrice: selectPrice, exChangeSelectArea: exChangeSelectArea, exChangeSelectPrice: exChangeSelectPrice, queryConcertID: queryConcertID }\r\n        this.props.searchDataAgainBtn(searchAgainData);\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        // 可以抓到父層的資料 在父層插入的子組件要記得寫data={this.props} const宣告必寫\r\n        const { data } = this.props;\r\n        console.log(typeof (data.memberFormData));\r\n        const info = data.memberFormData && data.memberFormData.map((item, index) => {\r\n            let itemData = item.match_User_DocData;\r\n            let itemDocID = item.match_User_DocID;\r\n            // 交換狀態的資料顯示 \r\n            let exChangeStatus = itemData.initialChangeState;\r\n            if (exChangeStatus === 0) { exChangeStatus = '待交換' }\r\n            else if (exChangeStatus === 1) {\r\n                exChangeStatus = '待回應'\r\n            } else if (exChangeStatus === 2) {\r\n                exChangeStatus = '已結案'\r\n            } else {\r\n                exChangeStatus = '拒絕'\r\n            }\r\n            let exChangeWay = itemData.changeWay;\r\n            if (exChangeWay === 'send_package') { exChangeWay = '郵寄' }\r\n            else if (exChangeWay === 'face_to_face') {\r\n                exChangeWay = '面交'\r\n            } else {\r\n                exChangeWay = '其他'\r\n            }\r\n\r\n            return (\r\n                <li key={itemDocID} className=\"user_apply_data_block\">\r\n                    <div className=\"apply_image\">\r\n                        <img src={itemData.url} alt=\"image\"/>\r\n                    </div>\r\n                    <div className=\"concert_place_exchange_info\">\r\n                        <h4>{itemData.ConcertName}</h4>\r\n                        <p className=\"exchangeWay\">\r\n                            {exChangeWay}｜{exChangeStatus}\r\n                        </p>\r\n                        <p className=\"\">交換 {itemData.exChangeSelectArea + ' ' + itemData.exChangeSelectPrice}</p>\r\n                        <p className=\"\">持有 {itemData.selectName + ' ' + itemData.selectPrice}</p>\r\n                    </div>\r\n                    <p className=\"reminder_txt\">\r\n                        <i className=\"fas fa-comment-dots\"></i> {itemData.reminderTxt}\r\n                    </p>\r\n                    {\r\n                        itemData.initialChangeState !== 2 &&\r\n                        <div className=\"bottom_buttons\">\r\n                            <button className=\"deleteThisApply\"\r\n                                onClick={this.handleDelete.bind(this)}\r\n                                data-docid={itemDocID}>\r\n                                <i className=\"fas fa-times\"></i> 刪除\r\n                            </button>\r\n                            <button className=\"searchAgain\"\r\n                                onClick={this.handleSearch.bind(this)}\r\n                                data-docid={itemDocID}\r\n                                data-userid={itemData.user_id}\r\n                                data-select-name={itemData.selectName}\r\n                                data-select-price={itemData.selectPrice}\r\n                                data-exchange-name={itemData.exChangeSelectArea}\r\n                                data-exchange-price={itemData.exChangeSelectPrice}\r\n                                data-queryconcert={itemData.queryConcertID}\r\n                            >\r\n                                <i className=\"fas fa-search\"></i> 搜尋\r\n                            </button>\r\n                        </div>\r\n                        || itemData.initialChangeState === 2 &&\r\n                        <div className=\"bottom_buttons\">\r\n                            <p>已結案</p>\r\n                        </div>\r\n                    }\r\n                </li>\r\n            )\r\n        })\r\n        return (\r\n            <div className=\"apply_data_all\">\r\n                <h3 className=\"profile_title\">填寫交換申請紀錄</h3>\r\n                <div className=\"border_decoration\"></div>\r\n                <div className=\"member_apply_data_block\">\r\n                    <ul>\r\n                        {info}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return ({\r\n        deleteUserApplyData: (deleteApply) => dispatch(deleteUserApplyData(deleteApply)), searchDataAgainBtn: (searchAgainData) => dispatch(searchDataAgainBtn(searchAgainData))\r\n    })\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    mapDispatchToProps)(MemberProfileApplyData);\r\n\r\n","// 抓使用者填的表單資料 in 會員頁面 memberReducer\r\n// exchange_form 所以要抓這個集合的 符合相對應的會員ID\r\nexport const getUserApplyFormData = (memberFormData) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firebase = getFirebase();\r\n        const firestore = getFirestore();\r\n        const applyWho = getState().firebase.auth.uid;\r\n        // console.log(`${applyWho}`, '目前的會員，要查詢該會員的申請紀錄');\r\n        let userApplyData = [];\r\n        // 使用者填寫過的交換需求表單\r\n        firestore.collection('exchange_form').where('user_id', '==', `${applyWho}`).get().then(querySnapshot => {\r\n            // console.log(querySnapshot.docs);\r\n            querySnapshot.forEach(doc => {\r\n                let match_User_DocID = doc.id;\r\n                let match_User_DocData = doc.data();\r\n                userApplyData.push({ match_User_DocID, match_User_DocData });\r\n            })\r\n        }).then(() => {\r\n            dispatch({ type: 'CREATE_USER_PROFILE', userApplyData })\r\n        }).catch((err) => {\r\n            // dispatch({type:'CREATE_PROJECT_ERROR',err})\r\n        })\r\n    }\r\n}\r\n\r\n\r\n// 會員頁面刪除申請交換的功能 MemberProfileApplyData的刪除功能\r\nexport const deleteUserApplyData = (deleteApply) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        // 找到對應資料之後 刪除document\r\n        firestore.collection('exchange_form').doc(`${deleteApply}`).delete().then(() => {\r\n            console.log(\"文件已經成功刪除\");\r\n        }).then(() => {\r\n            dispatch({ type: 'DELETE_USER_APPLY_DATA_IN_MEMBERPAGE', deleteApply });\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n// 會員頁面再次搜索功能\r\nexport const searchDataAgainBtn = (searchAgainData) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        // 這個是搜尋對應的\r\n        const {\r\n            docID: docID,\r\n            exChangeSelectArea: exChangeSelectArea,\r\n            exChangeSelectPrice: exChangeSelectPrice,\r\n            queryConcertID: queryConcertID,\r\n            selectName: selectName,\r\n            selectPrice: selectPrice,\r\n            userID: userID\r\n        } = searchAgainData;\r\n        const firestore = getFirestore();\r\n        // 這邊重複地宣告\r\n        let renderMatchListData_search = [];\r\n        firestore.collection('exchange_form').where('queryConcertID', '==', `${queryConcertID}`).where('selectName', '==', `${exChangeSelectArea}`).where('selectPrice', '==', `${exChangeSelectPrice}`).where('exChangeSelectArea', '==', `${selectName}`).where('exChangeSelectPrice', '==', `${selectPrice}`).get().then(\r\n            querySnapshot => {\r\n                // console.log(querySnapshot.docs);\r\n                querySnapshot.forEach(\r\n                    doc => {\r\n                        // 有重複的宣告\r\n                        let matchDocID = doc.id;\r\n                        let matchDocData = doc.data();\r\n                        if (doc.data().user_id !== `${userID}`) {\r\n                            matchDocData.docID = matchDocID;\r\n                            renderMatchListData_search.push(matchDocData);\r\n                        }\r\n                    }\r\n                )\r\n                dispatch({\r\n                    type: 'SEARCH_AGAIN_BUTTON',\r\n                    renderMatchListData_search, searchAgainData\r\n                })\r\n                if (renderMatchListData_search.length !== 0) {\r\n                    window.location.hash = '/renderMatch';\r\n                } else {\r\n                    window.location.hash = '/member_profile';\r\n                }\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\n","// 接受或拒絕的那個組件\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\n// import action\r\nimport { AgreeOrRefuseBtn } from '../../store/actions/sendRequestToTicketAction'\r\n// css\r\n\r\n// 可以const兩種不同的state 這樣抓到的資料就會不一樣\r\nclass DealResponseDashBoard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // 回應的結果是 true / false\r\n            applyResponse: false\r\n        };\r\n\r\n    }\r\n   \r\n    // 同意按鈕\r\n    acceptApplyBtn(e) {\r\n        e.preventDefault();\r\n        alert('已接受交換申請，請自行連絡對方');\r\n        let DocID = e.currentTarget.getAttribute(\"data-docid\");\r\n        let State = e.currentTarget.getAttribute(\"data-state\");\r\n        let UserName = e.currentTarget.getAttribute(\"data-user-name\");\r\n        let Reminder = e.currentTarget.getAttribute(\"data-reminder-txt\");\r\n        let Email = e.currentTarget.getAttribute(\"data-email\");\r\n        let decideDocID = e.currentTarget.getAttribute(\"data-decide-doc-id\");\r\n        this.setState({\r\n            applyResponse: true\r\n        }, (() => {\r\n            this.props.AgreeOrRefuseBtn(\r\n                {\r\n                    acceptOrRefuse: this.state.applyResponse,\r\n                    DocID: DocID,\r\n                    State: State,\r\n                    UserName: UserName,\r\n                    Reminder: Reminder,\r\n                    Email: Email,\r\n                    decideDocID: decideDocID\r\n                }\r\n            )\r\n        })\r\n        );\r\n\r\n    }\r\n\r\n\r\n    // 拒絕交換的按鈕\r\n    refuseApplyBtn(e) {\r\n        e.preventDefault();\r\n        alert('已拒絕交換申請');\r\n        let DocID = e.currentTarget.getAttribute(\"data-docid\");\r\n        let State = e.currentTarget.getAttribute(\"data-state\");\r\n        let UserName = e.currentTarget.getAttribute(\"data-user-name\");\r\n        let Reminder = e.currentTarget.getAttribute(\"data-reminder-txt\");\r\n        let Email = e.currentTarget.getAttribute(\"data-email\");\r\n        let decideDocID = e.currentTarget.getAttribute(\"data-decide-doc-id\");\r\n        this.setState({\r\n            applyResponse: false\r\n        }, (() => {\r\n            this.props.AgreeOrRefuseBtn(\r\n                {\r\n                    acceptOrRefuse: this.state.applyResponse,\r\n                    DocID: DocID,\r\n                    State: State,\r\n                    UserName: UserName,\r\n                    Reminder: Reminder,\r\n                    Email: Email,\r\n                    decideDocID: decideDocID\r\n                }\r\n            )\r\n        })\r\n        );\r\n\r\n    }\r\n\r\n    render() {\r\n        const { data } = this.props;\r\n        console.log(data.ticketChange)\r\n        let allData = data.ticketChange.decideData;\r\n        let listItems = allData && allData.map((listItem, index) => {\r\n            console.log(listItem.data.ConcertName)\r\n            console.log(listItem.apply)\r\n\r\n            // 交換狀態的資料顯示\r\n            let exChangeStatus = listItem.data.initialChangeState;\r\n\r\n            if (exChangeStatus === 0) { exChangeStatus = '待交換' }\r\n            else if (exChangeStatus === 1) {\r\n                exChangeStatus = '待回應'\r\n            } else if (exChangeStatus === 2) {\r\n                exChangeStatus = '已結案'\r\n            } else {\r\n                exChangeStatus = '拒絕'\r\n            }\r\n\r\n            // 交換方式要轉換成中文\r\n            let exChangeWay = listItem.data.changeWay;\r\n            if (exChangeWay === 'send_package') { exChangeWay = '郵寄' }\r\n            else if (exChangeWay === 'face_to_face') {\r\n                exChangeWay = '面交'\r\n            } else {\r\n                exChangeWay = '其他'\r\n            }\r\n            console.log()\r\n            return (\r\n                <div key={index + listItem.data.docID} className=\"apply_block_decide\">\r\n                    <div className=\"be_applied_document\">\r\n                        <div className=\"apply_title\"><p>\r\n                            <i className=\"fas fa-signature\"></i> 持有票券\r\n                            <span className=\"docid_small\">{listItem.data.docID}</span>\r\n                        </p></div>\r\n                        <div className=\"imgbox\">\r\n                            <img src={listItem.data.url} />\r\n                            \r\n                        </div>\r\n                        <div>\r\n                            <p>{listItem.data.ConcertName}</p>\r\n                            <p>{exChangeWay}｜{exChangeStatus}</p>\r\n                            <p>{listItem.data.selectName + ' ' + listItem.data.selectPrice}</p>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    {listItem.apply&&listItem.apply.map((item, index) => {\r\n                        let exChangeStatus_applied = item.initialChangeState;\r\n                        if (exChangeStatus_applied === 0) { exChangeStatus_applied = '待交換' }\r\n                        else if (exChangeStatus_applied === 1) {\r\n                            exChangeStatus_applied = '待回應'\r\n                        } else if (exChangeStatus_applied === 2) {\r\n                            exChangeStatus_applied = '已結案'\r\n                        } else {\r\n                            exChangeStatus_applied = '拒絕'\r\n                        }\r\n\r\n                        // 交換方式要轉換成中文\r\n                        let exChangeWay_applied = item.changeWay;\r\n                        if (exChangeWay_applied === 'send_package') { exChangeWay_applied = '郵寄' }\r\n                        else if (exChangeWay_applied === 'face_to_face') {\r\n                            exChangeWay_applied = '面交'\r\n                        } else {\r\n                            exChangeWay_applied = '其他'\r\n                        }\r\n\r\n                        return (\r\n                            <div className=\"applicant_list\" key={index+'apply'+item.docID}>\r\n                                <div className=\"apply_title\">\r\n                                    <p>\r\n                                        <i className=\"far fa-sticky-note\"></i> 申請交換細節\r\n                                        <span className=\"docid_small\">{item.docID}</span>\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"imgbox\">\r\n                                    <img src={item.url} />\r\n                                </div>\r\n                                <div className=\"info_block\">\r\n                                    <p>{item.user_name} <span className=\"docid_small\">{item.email}</span></p>\r\n                                    <p>{exChangeWay_applied}｜{exChangeStatus_applied}</p>\r\n                                    <p>持有{item.selectName + ' ' + item.selectPrice}</p>\r\n                                    <p><i className=\"fas fa-comment-dots\"></i> {item.reminderTxt}</p>\r\n                                </div>\r\n                                \r\n                                <div className=\"bottom_buttons\">\r\n                                    <button\r\n                                        onClick={this.acceptApplyBtn.bind(this)}\r\n                                        data-docid={item.docID}\r\n                                        data-decide-doc-id={listItem.data.docID}\r\n                                        data-state={item.initialChangeState}\r\n                                        data-user-name={item.user_name}\r\n                                        data-reminder-txt={item.reminderTxt}\r\n                                        data-email={item.email}>\r\n                                        <i className=\"fas fa-check\"></i> 接受\r\n                                        </button>\r\n                                    <button\r\n                                        onClick={this.refuseApplyBtn.bind(this)}\r\n                                        data-docid={item.docID}\r\n                                        data-decide-doc-id={listItem.data.docID}\r\n                                        data-state={item.initialChangeState}\r\n                                        data-user-name={item.user_name}\r\n                                        data-reminder-txt={item.reminderTxt}\r\n                                        data-email={item.email}>\r\n                                        <i className=\"fas fa-times\"></i> 拒絕\r\n                                        </button>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    )}\r\n\r\n                </div>\r\n            )\r\n        })\r\n\r\n        return (\r\n\r\n            <div>\r\n                <h3 className=\"profile_title\">待處理交換申請</h3>\r\n                <div className=\"border_decoration\"></div>\r\n                <div>\r\n                    {listItems}\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return ({\r\n        AgreeOrRefuseBtn: (responseResult) => dispatch(AgreeOrRefuseBtn(responseResult))\r\n    })\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    mapDispatchToProps)(DealResponseDashBoard);","// 會員頁面 基礎資料\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport '../MemberProfile/MemberProfile.css'\r\n\r\n// import action\r\nimport { getUserApplyFormData } from '../../store/actions/GetUserFormDataAction'\r\nimport { getAllApplyDataToSpecificUser } from '../../store/actions/sendRequestToTicketAction'\r\n\r\n// 組件\r\n\r\n// 會員的填寫資料組件\r\nimport MemberProfileApplyData from './MemberProfileApplyData'\r\n\r\nimport DealResponseDashBoard from './DealResponseDashBoard'\r\n\r\n// 會員的交換申請紀錄組件\r\n\r\n// css part\r\nclass MemberProfile extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t// active:false\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount(memberFormData, getAllApplyData) {\r\n\t\tthis.props.getAllApplyDataToSpecificUser(getAllApplyData);\r\n\t\tthis.props.getUserApplyFormData(memberFormData);\r\n\t\t// 在function裡面叫action的時候\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\t// console.log(this.props.renderFulldocData[0])\r\n\t\t// console.log(this.props.renderFulldocData[1])\r\n\t\t// 第二筆資料真的是抓不到耶\r\n\r\n\t\treturn (\r\n\t\t\t// 會員資訊\r\n\t\t\t<div className=\"profile_basic\">\r\n\t\t\t\t<h3 className=\"profile_title\">會員基本資訊</h3>\r\n\t\t\t\t<div className=\"border_decoration\"></div>\r\n\t\t\t\t<div className=\"profile\">\r\n\t\t\t\t\t<div className=\"picture\">\r\n\t\t\t\t\t\t<img className=\"profile_picture\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"details\">\r\n\t\t\t\t\t\t<p>姓名｜{this.props.profile.user_name}　<span>{this.props.auth.uid}</span></p>\r\n\t\t\t\t\t\t<p>E-mail｜{this.props.auth.email}</p>\r\n\t\t\t\t\t\t<p>電話號碼｜{this.props.profile.phone_number}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<MemberProfileApplyData data={this.props} />\r\n\t\t\t\t<DealResponseDashBoard data={this.props} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\t// console.log(state.ticketChange.renderFulldocData[0])\r\n\t// console.log(state.ticketChange.renderFulldocData[1])\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tprofile: state.firebase.profile,\r\n\t\tmemberFormData: state.memberDataBase.memberFormData,\r\n\t\tticketChange: state.ticketChange,\r\n\t\t// 不要這樣寫↓\r\n\t\t// ticketChange: state.ticketChange.matchApplyDocData,\r\n\t\t// renderFulldocData: state.ticketChange.renderFulldocData,\r\n\t\t// decideFulldocData: state.ticketChange.decideFulldocData\r\n\t}\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn ({\r\n\t\tgetAllApplyDataToSpecificUser: (getAllApplyData) => dispatch(getAllApplyDataToSpecificUser(getAllApplyData)),\r\n\t\tgetUserApplyFormData: (memberFormData) => dispatch(getUserApplyFormData(memberFormData))\r\n\r\n\t})\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps, mapDispatchToProps\r\n)(MemberProfile);\r\n\r\n\r\n","import React from 'react'\r\nimport { Route, Redirect, Switch} from \"react-router-dom\";\r\nimport firebase from \"./config/firebaseConfig\";\r\n\r\n// 組件們\r\n\r\nimport Home from './components/HomePage/Home'\r\nimport Menu from './components/LayoutElement/Menu'\r\nimport Footer from './components/LayoutElement/Footer'\r\nimport BackToTop from './components/LayoutElement/BackToTop'\r\nimport BuyTicketExplain from '../src/components/WebsiteDeclare/BuyTicketExplain'\r\nimport MemberShipRules from '../src/components/WebsiteDeclare/MemberShipRules'\r\nimport Faq from '../src/components/WebsiteDeclare/Faq'\r\nimport AboutUs from '../src/components/WebsiteDeclare/AboutUs'\r\n\r\n// css part\r\nimport './style.css';\r\nimport Logo from './Logo';\r\nimport RenderMatch from './components/MatchRelate/RenderMatch';\r\nimport MemberProfile from './components/MemberProfile/MemberProfile';\r\n\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tauthenticated: false,\r\n\t\t\tuser: null\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tfirebase.auth().onAuthStateChanged(user => {\r\n\t\t\tif (user) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tauthenticated: true,\r\n\t\t\t\t\tcurrentUser: user,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tauthenticated: false,\r\n\t\t\t\t\tcurrentUser: null,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst { authenticated} = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t\r\n\t\t\t\t<Route path=\"/entry\" render={() => !authenticated ? (<Logo />) : (<Redirect to=\"/\" />)} />\r\n\t\t\t\t<Route exact path=\"/\" render={() => authenticated ? (<Home />) : (<Redirect to=\"/entry\" />)} />\r\n\t\t\t\t<Route path={['/renderMatch', '/member_profile','/']} render={() => !authenticated ? null : (<Menu/>)}  />\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/aboutus\" component={AboutUs} />\r\n\t\t\t\t\t<Route path=\"/faq\" component={Faq} />\r\n\t\t\t\t\t<Route path=\"/membershiprules\" component={MemberShipRules} />\r\n\t\t\t\t\t<Route path=\"/buyticketexplain\" component={BuyTicketExplain} />\r\n\t\t\t\t\t<Route path=\"/renderMatch\" component={RenderMatch} />\r\n\t\t\t\t\t<Route path=\"/member_profile\" render={() => authenticated ? (<MemberProfile />) : null} />\r\n\t\t\t\t</Switch>\r\n\t\t\t\t<Route path={['/renderMatch', '/member_profile','/']} render={() => !authenticated ? null : (<BackToTop scrollStepInPx=\"50\" delayInMs=\"16.66\" />)}  />\r\n\t\t\t\t<Route path={['/renderMatch', '/member_profile','/']} render={() => !authenticated ? null : (<Footer/>)}  />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n//reducers集線器\r\nimport rootReducer from '../src/store/reducers/rootReducer'\r\n// this is the binding layer 可以幫助我們綁定redux\r\nimport { Provider } from 'react-redux'\r\nimport thunk from 'redux-thunk'\r\nimport { reduxFirestore, getFirestore } from 'redux-firestore'\r\nimport { reactReduxFirebase, getFirebase } from 'react-redux-firebase'\r\nimport firebase from './config/firebaseConfig'\r\n// 這邊的firebase可以理解成綁定的firebase project\r\n\r\n\r\nimport logger from 'redux-logger';\r\n\r\n\r\n\r\n// 組件\r\nimport App from './App';\r\n\r\n// 這是import react thunk 這邊還可以放其他的middleware\r\nconst store = createStore(rootReducer,\r\n    composeWithDevTools(\r\n        applyMiddleware(thunk.withExtraArgument({getFirebase,getFirestore})),\r\n        applyMiddleware(logger),\r\n        reduxFirestore(firebase),\r\n        reactReduxFirebase(firebase,\r\n            {useFirestoreForProfile:true,\r\n                userProfile:'users',\r\n                attachAuthIsReady:true}\r\n            )\r\n        // 偵測登入的狀態\r\n    ));\r\n\r\n\r\n\r\n\r\n// inside the function need to put a route reducer.\r\n// 還是可以有不同的reducer\r\n\r\n// withExtraArgument 他可以讓我們在action\r\n// return (dispatch, getState, 'another parameter must be an object')  這段code裡面多一個參數\r\n\r\n// 用這行包住的話 就是會等到狀態 ready 才開始 render \r\n\r\nstore.firebaseAuthIsReady.then(() => { // state is ready here\r\n    ReactDOM.render(<Provider store={store}><HashRouter><App /></HashRouter></Provider>, document.getElementById(\"root\"));\r\n})","module.exports = __webpack_public_path__ + \"static/media/email.1337f63c.svg\";","module.exports = __webpack_public_path__ + \"static/media/password.93f02a83.svg\";"],"sourceRoot":""}