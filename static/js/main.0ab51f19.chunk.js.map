{"version":3,"sources":["img/svg/email.svg","img/svg/password.svg","img/svg/logout.svg","img/svg/member.svg","img/svg/LOGO.svg","img/svg/phone.svg","img/svg/user.svg","img/eastwood-page-under-construction.png","store/reducers/authReducer.js","store/reducers/formReducer.js","store/reducers/upComingEventReducer.js","store/reducers/memberReducer.js","store/reducers/ticketChangeReducer.js","store/reducers/rootReducer.js","config/firebaseConfig.js","store/actions/ChangeFormAction.js","store/actions/SubmitFormAction.js","ChangeFormPopUp.js","store/actions/SearchBarAction.js","SearchBar.js","store/actions/upComingEventAction.js","upComingEvents.js","HomePageBoard.js","Home.js","Menu.js","Footer.js","BackToTop.js","SignUp.js","store/actions/authAction.js","Login.js","TabForSignUpAndLogin.js","TabsAll.js","LoginAndSignUpPopup.js","Logo.js","store/actions/sendRequestToTicketAction.js","RenderMatch.js","store/actions/GetUserFormDataAction.js","MemberProfileApplyData.js","DealResponseDashBoard.js","MemberProfile.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","initState","authError","authReducer","state","arguments","length","undefined","action","type","console","log","Object","objectSpread","err","message","formdata","concerDataAll","changeFormData","renderMatchListData","searchInput","formReducer","dataArray","concertArray","applyDocumentID","renderMatchListDataID","comingUpEventData","upComingEventReducer","concertBasicListArray","memberFormData","deleteApply","searchAgainData","renderMatchListData_search","memberReducer","userApplyData","apply","DecideData","decideData","responseResult","ticketChangeReducer","rootReducer","combineReducers","auth","form","upComingEvent","memberDataBase","ticketChange","firestore","firestoreReducer","firebase","firebaseReducer","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","storage","changeFormAction","dispatch","getState","_ref","getFirebase","getFirestore","collection","get","then","querySnapshot","forEach","doc","dataAllConcert_form","data","push","dataEXO","datafayuching","datachencheer","catch","createEXChangeFormData","add","createdAt","Date","docRef","id","concertID","queryConcertID","exChangeArea","exChangeSelectArea","exChangePrice","exChangeSelectPrice","holdArea","selectName","holdPrice","selectPrice","dataUser","user_id","where","concat","matchDocID","matchDocData","docID","window","location","hash","ChangeFormPopUp","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggleChange","setState","isChecked","handleImageUpload","e","preventDefault","target","files","image","ref","name","put","on","snapshot","error","alert","child","getDownloadURL","url","ConcertName","ConcertPlace","ticketNum","changeWay","phoneNumber","reminderTxt","priceSpread","pricePlusTag","user_name","uid","email","initialChangeState","open","openModal","bind","assertThisInitialized","closeModal","_this2","value","map","item","index","place","concert_id","_this3","price","selectPrice_hold","Number","replace","selectPrice_change","_this4","_this$setState","defineProperty","profile","phone_number","_this5","concertAllBasicInfo_name","concertAllBasicInfo_place","concertDataBasic","i","concertName","react_default","a","createElement","key","concertPlace","indexOf","toString","dataAll","pricedataAll","concertData","names","prices","exChangeAreas","exChangePrices","className","onClick","reactjs_popup_es","closeOnDocumentClick","onClose","contentStyle","padding","border","background","boxShadow","fontSize","onSubmit","handleSubmit","htmlFor","onChange","changeConcertName","changeConcertPlace","handleChangeValue","required","changeName","changePrice","placeholder","aria-hidden","checked","React","Component","connect","searchBarAction","SearchBar","src_ChangeFormPopUp_0","createupComingEvent","AllConcertHome","UpComingEvents","items","src","mainPic","date","split","month","slice","trim","time","HomePageBoard","Home","src_SearchBar_0","src_HomePageBoard","src_upComingEvents","Menu","toggleMenuActive","active","currentState","react_router_dom","to","logo","alt","member","signOut","logout","href","Footer","BackToTopButton","intervalId","nowPositionY","document","addEventListener","pageYOffset","clearInterval","scroll","scrollStepInPx","setInterval","scrollStep","delayInMs","scrollToTop","SignUp","password","handleSignUp","signUp","_this$props","react_router","user","phone","newUser","_ref3","createUserWithEmailAndPassword","resp","set","Login","handleLogin","signIn","creds","credentials","signInWithEmailAndPassword","TabForSignUpAndLogin","onTabClick","handleClickTab","tabIndex","label","isActive","TabsAll","activeTabIndex","src_TabForSignUpAndLogin","LoginAndSignUpPopup","src_TabsAll","src_Login","src_SignUp","Logo","src_LoginAndSignUpPopup_0","exChangeApplyBtn","applyData","applySearch_docID","applyuserID","applySearch_userID","applydocID","deciderDocID","update","docSnapshot","exists","FieldValue","arrayUnion","Apply_userID","Apply_docID","getAllApplyDataToSpecificUser","getAllApplyData","_ref2","currentWho","matchApplyDocID","matchApplyDocData","applydocData","AgreeOrRefuseBtn","decideDocID","DocID","acceptOrRefuse","RenderMatch","letButtonDisabled","userID","currentTarget","getAttribute","deciderUserID","DocumentItems","_React$createElement","data-userid","data-docid","data-initstate","DocumentItems_Search","_React$createElement2","getUserApplyFormData","applyWho","match_User_DocID","match_User_DocData","deleteUserApplyData","delete","searchDataAgainBtn","MemberProfileApplyData","info","itemData","itemDocID","exChangeStatus","exChangeWay","handleDelete","handleSearch","data-select-name","data-select-price","data-exchange-name","data-exchange-price","data-queryconcert","DealResponseDashBoard","applyResponse","State","UserName","Reminder","Email","allData","listItems","listItem","exChangeStatus_applied","exChangeWay_applied","acceptApplyBtn","data-decide-doc-id","data-state","data-user-name","data-reminder-txt","data-email","refuseApplyBtn","MemberProfile","src_MemberProfileApplyData_0","src_DealResponseDashBoard","App","authenticated","onAuthStateChanged","currentUser","loading","_this$state","entry","path","render","src_Logo_0","exact","src_Home_0","src_Menu_0","component","src_MemberProfile_0","src_BackToTop","src_Footer_0","store","createStore","composeWithDevTools","applyMiddleware","thunk","withExtraArgument","logger","reduxFirestore","reactReduxFirebase","useFirestoreForProfile","userProfile","attachAuthIsReady","firebaseAuthIsReady","ReactDOM","react_redux_es","src_App","getElementById"],"mappings":"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","file":"static/js/main.0ab51f19.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/email.1337f63c.svg\";","module.exports = __webpack_public_path__ + \"static/media/password.93f02a83.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout.54c6d733.svg\";","module.exports = __webpack_public_path__ + \"static/media/member.26258da2.svg\";","module.exports = __webpack_public_path__ + \"static/media/LOGO.57458336.svg\";","module.exports = __webpack_public_path__ + \"static/media/phone.40728378.svg\";","module.exports = __webpack_public_path__ + \"static/media/user.b6ccb63c.svg\";","module.exports = __webpack_public_path__ + \"static/media/eastwood-page-under-construction.0e79ead4.png\";","import { auth } from \"firebase\";\r\n\r\nconst initState = {\r\n    authError:null,\r\n\r\n}\r\n\r\nconst authReducer = (state = initState,action) =>{\r\n    switch(action.type){\r\n        // 透過 action 傳回來的東西 reducer 處理\r\n        case 'LOGIN_ERROR':\r\n            console.log('登入失敗')\r\n            return {\r\n                ...state,\r\n                authError:'帳號或密碼錯誤，請重新輸入。'           \r\n            }\r\n        \r\n        case 'LOGIN_SUCCESS':\r\n            console.log('登入成功')\r\n            return{\r\n                ...state,\r\n                authError:null\r\n            }\r\n\r\n        // 登出\r\n        case 'SIGNOUT_SUCCESS':\r\n            console.log('成功登出');\r\n            return state;\r\n        // 註冊\r\n        case 'SIGNUP_SUCCESS':\r\n            console.log('註冊成功');\r\n            return{\r\n                ...state,\r\n                authError:null\r\n            }\r\n        \r\n        case 'SIGNUP_ERROR':\r\n            console.log('註冊失敗');\r\n            return{\r\n                ...state,\r\n                authError:action.err.message\r\n                // 我們希望他出現確切的錯誤訊息\r\n            }\r\n\r\n\r\n        default:\r\n        return state;\r\n\r\n    }\r\n     \r\n    return state;\r\n}\r\n\r\nexport default authReducer;","const initState = {\r\n    // 演唱會資料 下拉式選單\r\n    formdata:'',\r\n    concerDataAll:'',\r\n    changeFormData:'',\r\n    // 符合條件的data\r\n    renderMatchListData:'',\r\n    // 首頁的搜尋bar\r\n    searchInput:'',\r\n}\r\n\r\n\r\nconst formReducer = ( state = initState , action ) =>{\r\n    switch(action.type){\r\n        // 可以加上很多case\r\n        case 'CREATE_OPTION':\r\n            console.log('有抓到dataArray的資料',action.dataArray,action.concertArray);\r\n            // action.dataArray是要傳遞的資料\r\n            return{\r\n                ...state,\r\n                // 複製 查一下...代表的語法\r\n                formdata:action.dataArray,\r\n                concerDataAll:action.concertArray\r\n            }\r\n\r\n        case 'CREATE_EXCHANGE_FORM_DATA_IN_DATABASE':\r\n            // 提交表單要傳遞的資料\r\n            console.log(action.changeFormData)\r\n            console.log(typeof(action.renderMatchListData))\r\n            console.log(action.renderMatchListData)\r\n\r\n            return{\r\n                ...state,\r\n                applyDocumentID:action.applyDocumentID,\r\n                changeFormData:action.changeFormData,\r\n                renderMatchListData:action.renderMatchListData,\r\n                renderMatchListDataID:action.renderMatchListDataID\r\n            }\r\n\r\n            // 另一種方法就是把這個拆成兩個action\r\n \r\n\r\n        default:\r\n            return state\r\n            \r\n\r\n     \r\n    }\r\n    // switch statement是什麼\r\n    // 這邊是實際在操控state的地方\r\n}\r\n\r\n\r\nexport default formReducer;\r\n\r\n\r\n// 這裡都是寫在組件\r\n// Component 裡面 import { connect } from 'react-redux'\r\n// import { firestoreConnect } from 'react-redux-firebase'\r\n// import { compose } from 'redux'\r\n// import { link } from 'react-router-dom'\r\n\r\n// connect is a function\r\n// connect 是用來連結組件跟存放state的store，溝通的工具\r\n// const mapStateToProps = (state)=>{\r\n//     return {\r\n//         projects:state.firestore.ordered.project\r\n//     }\r\n// }\r\n\r\n// export default compose(connect(mapStateToProps),firestoreConnect([{collection:'projects'}]))(ComponentName)\r\n// 因為它的用意本來就是要連結組件跟store\r\n// firestoreConnect([{collection:'projects'}]) \r\n// 這段是為了要連結firebase的資料庫 如果有更新就會變成同步\r\n\r\n// render(){\r\n//     const { projects } = this.props;　// 只是要宣告 = this.props\r\n//     return(\r\n//     )\r\n// }\r\n\r\n// 要做list的話，可以參考這個：\r\n// const ProjectList =({projects})=>{\r\n//     return(\r\n//         <div>\r\n//             {\r\n                // 前面的projects是偵測有沒有抓到state或資料 \r\n//                 projects&&projects.map(project=>{\r\n//                     return(\r\n                        // <link to={'/project/'+ project.id}>\r\n                        //   <div>...</div>\r\n                        // </link>\r\n//                     )\r\n//                 })\r\n//             }\r\n//         </div>\r\n//     )\r\n// }","// 這個是要抓演唱會的基礎資料 render 到首頁\r\nconst initState = {\r\n    // 所有演唱會的基礎資料\r\n    comingUpEventData:''\r\n}\r\n\r\nconst upComingEventReducer = ( state = initState , action ) =>{\r\n    switch(action.type){\r\n        // 可以加上很多case\r\n        case 'CREATE_UPCOMING_EVENT':\r\n            console.log('有抓到全部演唱會的資料!!!!',action.concertBasicListArray);\r\n            // action.dataArray是要傳遞的資料\r\n            return{\r\n                ...state,\r\n                comingUpEventData:action.concertBasicListArray\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n    // 這邊是實際在操控state的地方\r\n}\r\n\r\n\r\nexport default upComingEventReducer;\r\n\r\n\r\n","const initState = {\r\n    memberFormData:'',\r\n    deleteApply:'',\r\n    searchAgainData:'',\r\n    renderMatchListData_search:''\r\n}\r\n\r\nconst memberReducer = ( state = initState , action ) =>{\r\n    switch(action.type){\r\n        // 抓到 USER 全部的相關資料       \r\n        case 'CREATE_USER_PROFILE':\r\n            console.log('有抓到的資料',action.userApplyData);\r\n            // action.dataArray是要傳遞的資料\r\n            return{\r\n                ...state,\r\n                memberFormData:action.userApplyData\r\n            }\r\n\r\n        case 'DELETE_USER_APPLY_DATA_IN_MEMBERPAGE':\r\n            // 刪除 memberpage 裡面的最開始填表的資料\r\n            return{\r\n                ...state,\r\n                memberFormData:action.userApplyData,\r\n                deleteApply:action.deleteApply\r\n                // 加這行就可以同步刪除\r\n            }\r\n        \r\n        case 'SEARCH_AGAIN_BUTTON':\r\n        // 再次搜索的功能\r\n            return{\r\n                ...state,\r\n                searchAgainData:action.searchAgainData,\r\n                renderMatchListData_search:action.renderMatchListData_search\r\n            }\r\n\r\n        default:\r\n            return state\r\n \r\n    }\r\n    // 這邊是實際在操控state的地方\r\n}\r\n\r\n\r\nexport default memberReducer;","// 所有跟票券交換的過程有關的資料處理\r\n// 包含紀錄紀錄票券的申請人 申請文件ID  收到申請方的ID 還有文件ID 然後加到新的集合\r\n\r\nconst initState = {\r\n    apply: '',\r\n    DecideData: '',\r\n    // 回應申請者的資料\r\n    decideData:'',\r\n    responseResult:'',\r\n}\r\n\r\nconst ticketChangeReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'CREATE_APPLY_DATA_BOTH_USER':\r\n            console.log('成功加入申請單集合的資料', action.apply, action.DecideData);\r\n            // action.dataArray是要傳遞的資料\r\n            return {\r\n                ...state,\r\n                apply: action.apply,\r\n                DecideData: action.DecideData\r\n            }\r\n\r\n        case 'GET_USER_APPLICATION_DATA_WAIT_RESPONSE':\r\n            // getAllApplyDataToSpecificUser 對應的 function\r\n            return {\r\n                // ...state,\r\n                decideData: action.decideData\r\n            }\r\n\r\n        case 'RESPONSE_TO_THE_APPLICANTS':\r\n            return {\r\n                ...state,\r\n                responseResult:action.responseResult\r\n            }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n    // 這邊是實際在操控state的地方\r\n}\r\n\r\n\r\nexport default ticketChangeReducer;\r\n\r\n// 這裡都是寫在組件\r\n// Component 裡面 import { connect } from 'react-redux'\r\n// import { firestoreConnect } from 'react-redux-firebase'\r\n// import { compose } from 'redux'\r\n// import { link } from 'react-router-dom'\r\n\r\n// connect is a function\r\n// connect 是用來連結組件跟存放state的store，溝通的工具\r\n// const mapStateToProps = (state)=>{\r\n//     return {\r\n//         projects:state.firestore.ordered.project\r\n//     }\r\n// }\r\n\r\n// export default compose(connect(mapStateToProps),firestoreConnect([{collection:'projects'}]))(ComponentName)\r\n// 因為它的用意本來就是要連結組件跟store\r\n// firestoreConnect([{collection:'projects'}]) \r\n// 這段是為了要連結firebase的資料庫 如果有更新就會變成同步\r\n\r\n// render(){\r\n//     const { projects } = this.props;　// 只是要宣告 = this.props\r\n//     return(\r\n//     )\r\n// }\r\n\r\n// 要做list的話，可以參考這個：\r\n// const ProjectList =({projects})=>{\r\n//     return(\r\n//         <div>\r\n//             {\r\n                // 前面的projects是偵測有沒有抓到state或資料 \r\n//                 projects&&projects.map(project=>{\r\n//                     return(\r\n                        // <link to={'/project/'+ project.id}>\r\n                        //   <div>...</div>\r\n                        // </link>\r\n//                     )\r\n//                 })\r\n//             }\r\n//         </div>\r\n//     )\r\n// }","// 這個通常是最後要合併所有reducer的檔案\r\nimport { combineReducers } from 'redux'\r\nimport { firestoreReducer } from 'redux-firestore'\r\nimport { firebaseReducer } from 'react-redux-firebase'\r\nimport authReducer from './authReducer'\r\nimport formReducer from './formReducer'\r\nimport upComingEventReducer from './upComingEventReducer'\r\nimport memberReducer from './memberReducer'\r\nimport ticketChangeReducer from './ticketChangeReducer'\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n// inside combineReducers() is an object\r\n// 這裡面放想要合併的reducer 可以接其他的\r\n    auth:authReducer,\r\n    form:formReducer,\r\n    upComingEvent:upComingEventReducer,\r\n    // 會員相關的\r\n    memberDataBase:memberReducer,\r\n    // 交換相關的\r\n    ticketChange:ticketChangeReducer,\r\n    firestore:firestoreReducer,\r\n    firebase:firebaseReducer\r\n});\r\n\r\nexport default rootReducer;\r\n\r\n\r\n\r\n// redux 就很像state的倉庫\r\n// store是老闆  reducer是生產線員工\r\n// provider是仲介商（只出現一次的仲介商）\r\n// component是客戶\r\n// state就是 產品","// import * as firebase from 'firebase/app'\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\nimport 'firebase/storage'\r\n\r\n\r\nvar config={\r\n    apiKey: \"AIzaSyBGY94EkRWbXegBcxBiP7tGYWp5aFF5QZo\",\r\n    authDomain: \"fanconcert-af75c.firebaseapp.com\",\r\n    databaseURL: \"https://fanconcert-af75c.firebaseio.com\",\r\n    projectId: \"fanconcert-af75c\",\r\n    storageBucket: \"fanconcert-af75c.appspot.com\",\r\n    messagingSenderId: \"287058786354\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n// firebase.firestore().settings({timestampsInSnapshots:true})\r\n\r\nconst storage = firebase.storage();\r\nexport {storage,firebase as default} ;","// 連動選單的資料\r\nimport { connect } from \"redux\";\r\n\r\nexport const changeFormAction = (formdata,concerDataAll) => {\r\n    // dispatch 是一個 method 調用 action to the reducer\r\n    // return 會有兩個參數\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        // {getFirebase,getFirestore} 這是為了要跟database連結\r\n        // make async call to database\r\n        const firestore = getFirestore()\r\n        // 對資料庫作非同步的呼叫，完成之後才會執行下一行程式碼，三個action都不同\r\n        let concertArray = [];\r\n        let dataArray = [];\r\n\r\n        // 演唱會名稱跟地區（目前先不管場次）\r\n        firestore.collection('AllConcertBasicData').get()\r\n            .then(querySnapshot => {\r\n                // console.log('AllConcertBasicData', querySnapshot)\r\n                querySnapshot.forEach(doc => {\r\n                    let dataAllConcert_form = doc.data();\r\n                    // console.log(doc.data())\r\n                    // console.log(typeof (doc.data()))\r\n                    concertArray.push(dataAllConcert_form)\r\n                    // dispatch({type:'CREATE_OPTION_2',datachencheer})                 \r\n                })\r\n            })\r\n        // ---------------------------------------------------------\r\n        // 演唱會的表單座位資料\r\n        // exo\r\n        firestore.collection('exo').get()\r\n            .then(querySnapshot => {\r\n                // console.log('exo', querySnapshot)\r\n                querySnapshot.forEach(doc => {\r\n                    let dataEXO = doc.data();\r\n                    // console.log(doc.data())\r\n                    dataArray.push(dataEXO)\r\n                })\r\n            })\r\n        // fayuching\r\n        firestore.collection('fayuching').get()\r\n            .then(querySnapshot => {\r\n                // console.log('fayuching', querySnapshot)\r\n                querySnapshot.forEach(doc => {\r\n                    let datafayuching = doc.data();\r\n                    // console.log(doc.data())\r\n                    dataArray.push(datafayuching)\r\n                    // dispatch({type:'CREATE_OPTION_2',datachencheer})                 \r\n                })\r\n            })\r\n        // jj\r\n        // 這邊暫時不抓資料\r\n        // firestore.collection('jj').get()\r\n        //     .then(querySnapshot => {\r\n        //         // console.log('jj', querySnapshot)\r\n        //         querySnapshot.forEach(doc => {\r\n        //             let datajj = doc.data();\r\n        //             // console.log(doc.data())\r\n        //             dataArray.push(datajj)\r\n        //             // dispatch({type:'CREATE_OPTION_2',datachencheer})                 \r\n        //         })\r\n        //     })\r\n\r\n        // sharchingtung\r\n        // 這邊暫時不抓資料\r\n        // firestore.collection('sharchingtung').get()\r\n        //     .then(querySnapshot => {\r\n        //         // console.log('sharchingtung', querySnapshot)\r\n        //         querySnapshot.forEach(doc => {\r\n        //             let datasharchingtung = doc.data();\r\n        //             // console.log(doc.data())\r\n        //             dataArray.push(datasharchingtung)\r\n        //             // dispatch({type:'CREATE_OPTION_2',datachencheer})                 \r\n        //         })\r\n        //     })\r\n        \r\n        // chencheer\r\n        firestore.collection('chencheer').get()\r\n            .then(querySnapshot => {\r\n                // console.log('chencheer', querySnapshot)\r\n                querySnapshot.forEach(doc => {\r\n                    let datachencheer = doc.data();\r\n                    // console.log(doc.data())\r\n                    dataArray.push(datachencheer)\r\n                    // dispatch({type:'CREATE_OPTION_2',datachencheer})                 \r\n                })\r\n            }).then(() => {\r\n                dispatch({ type: 'CREATE_OPTION', dataArray,concertArray})\r\n            }).catch((err) => {\r\n                // dispatch({type:'CREATE_PROJECT_ERROR',err})\r\n            })\r\n    }\r\n}\r\n\r\n","export const createEXChangeFormData = (changeFormData) => {\r\n    // dispatch 是一個 method 調用 action to the reducer, return 會有兩個參數\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        // {getFirebase,getFirestore} 這是為了要跟database互動\r\n        // make async call to database 對資料庫作非同步的呼叫，完成之後才會執行下一行程式碼\r\n        const firestore = getFirestore();\r\n        // 這個是文件ID\r\n        let renderMatchListData = [];\r\n        // 宣告儲存要 render 資料的陣列\r\n        firestore.collection('exchange_form').add({\r\n            // 設定的collection名稱，add()裡面要放一個object 這裡面出現的會是單一的document\r\n            ...changeFormData,\r\n            createdAt: new Date()\r\n        }).then((docRef) => {\r\n            // 這份申請文件的ID\r\n            let applyDocumentID = docRef.id;\r\n            const { \r\n                queryConcertID: concertID, \r\n                exChangeSelectArea: exChangeArea, \r\n                exChangeSelectPrice: exChangePrice,\r\n                selectName:holdArea,\r\n                selectPrice:holdPrice,\r\n                user_id:dataUser            \r\n            } = changeFormData\r\n            // queryContcetID >>> concertID 這段可以這樣改寫\r\n            // let concertID = changeFormData.queryConcertID;\r\n            // let exChangeArea = changeFormData.exChangeSelectArea;\r\n\r\n            // 宣告儲存要 render 資料的陣列 orederby 處理最新的資料排序\r\n            // limit 可以控制資料量 大概就是排序 然後最新的100筆這樣\r\n            firestore.collection('exchange_form').where('queryConcertID', '==', `${concertID}`).where('selectName', '==', `${exChangeArea}`).where('selectPrice', '==', `${exChangePrice}`).where('exChangeSelectArea', '==', `${holdArea}`).where('exChangeSelectPrice', '==', `${holdPrice}`).get().then(querySnapshot => {\r\n                // console.log(querySnapshot.docs);\r\n                querySnapshot.forEach(doc => {\r\n                    let matchDocID = doc.id;\r\n                    let matchDocData = doc.data();\r\n                    if (doc.data().user_id !== `${dataUser}`) {\r\n                        matchDocData.docID = matchDocID;\r\n                        renderMatchListData.push(matchDocData);\r\n                    }\r\n                })\r\n                dispatch({\r\n                    type: 'CREATE_EXCHANGE_FORM_DATA_IN_DATABASE', applyDocumentID, changeFormData, renderMatchListData\r\n                })\r\n                if (renderMatchListData.length !== 0) {\r\n                    window.location.hash = '/renderMatch';\r\n                } else {\r\n                    window.location.hash = '/member_profile';\r\n                }\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// 使用者填表單組件\r\nimport React from 'react'\r\nimport ReactDOM from \"react-dom\"\r\nimport Popup from 'reactjs-popup'\r\nimport { connect } from 'react-redux'\r\n// import { firestoreConnect } from 'react-redux-firebase'\r\n// import { compose } from 'redux' \r\nimport { storage } from './config/firebaseConfig'\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\n// import action\r\nimport { changeFormAction } from './store/actions/ChangeFormAction'\r\nimport { createEXChangeFormData } from './store/actions/SubmitFormAction'\r\n\r\n\r\n\r\n// import image\r\nimport form_Illustration from './img/eastwood-page-under-construction.png'\r\n// css\r\nimport '../src/ChangeFormPopUp.css';\r\n\r\n// 可以const兩種不同的state 這樣抓到的資料就會不一樣\r\nclass ChangeFormPopUp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // 演唱會名稱與地點\r\n      ConcertName: '',\r\n      ConcertPlace: '',\r\n      // 選到的演唱會ID\r\n      queryConcertID: '',\r\n      // 持有的選取區域\r\n      selectName: '',\r\n      selectPrice: '',\r\n      // 交換的選取區域\r\n      exChangeSelectArea: '',\r\n      exChangeSelectPrice: '',\r\n      // 張數\r\n      ticketNum: '',\r\n      // 交換方式\r\n      changeWay: '',\r\n      // 電話\r\n      phoneNumber: '',\r\n      // 備註文字\r\n      reminderTxt: '',\r\n      // 檔案上傳\r\n      // 價差\r\n      priceSpread: '',\r\n      pricePlusTag: '',\r\n      // 圖片的網址\r\n      url: '',\r\n      // 這邊要再傳一個參數\r\n      user_name: '',\r\n      user_id: this.props.auth.uid,\r\n      email: this.props.auth.email,\r\n      // 表單初始的交換狀態state\r\n      // 0  初始 1 無回應 2 接受 3 拒絕 \r\n      initialChangeState: 0,\r\n      // 其他功能的state\r\n      open: false,\r\n      isChecked: false\r\n    };\r\n    this.openModal = this.openModal.bind(this)\r\n    this.closeModal = this.closeModal.bind(this)\r\n  }\r\n\r\n  componentDidMount(formdata, concerDataAll) {\r\n    this.props.changeFormAction(formdata, concerDataAll);\r\n    // 當我要在function裡面叫action的時候\r\n    // 這個是抓資料\r\n  }\r\n\r\n  openModal() {\r\n    this.setState({ open: true })\r\n  }\r\n\r\n  closeModal() {\r\n    this.setState({ open: false })\r\n  }\r\n\r\n\r\n  // 演唱會function\r\n  changeConcertName(e) {\r\n    this.setState({ ConcertName: e.target.value });\r\n    this.props.concerDataAll.map((item, index) => {\r\n      if (e.target.value === item.name) {\r\n        this.setState({ ConcertPlace: item.place });\r\n        this.setState({ queryConcertID: item.concert_id });\r\n      }\r\n      return false;\r\n      // true\r\n    });\r\n  }\r\n\r\n  changeConcertPlace(e) {\r\n    this.setState({ ConcertPlace: e.target.value });\r\n  }\r\n\r\n  // 持有票券區域function\r\n  changeName(e) {\r\n    this.setState({ selectName: e.target.value });\r\n    this.props.formdata.map((item, index) => {\r\n      if (e.target.value === item.name) {\r\n        // console.log(item.name,item.price[0])\r\n        this.setState({ selectPrice: item.price[0] });\r\n        // 非同步\r\n        // console.log(item.concert_id,this.state.open)\r\n      }\r\n      return false;\r\n      // true\r\n    });\r\n  }\r\n\r\n  changePrice(e) {\r\n    this.setState({ selectPrice: e.target.value },\r\n      function () {\r\n        let selectPrice_hold = Number((this.state.selectPrice).replace(/\\D/g, \"\"));\r\n        let selectPrice_change = Number((this.state.exChangeSelectPrice).replace(/\\D/g, \"\"));\r\n        // this.setState({priceSpread: selectPrice_hold-selectPrice_change})\r\n        if (selectPrice_hold > selectPrice_change) {\r\n          this.setState({\r\n            priceSpread: selectPrice_hold - selectPrice_change,\r\n            pricePlusTag: '對方需要補給您NT$'\r\n          })\r\n        } else if (selectPrice_hold < selectPrice_change) {\r\n          this.setState({\r\n            priceSpread: selectPrice_change - selectPrice_hold,\r\n            pricePlusTag: '您需要補給對方NT$'\r\n          })\r\n        } else {\r\n          this.setState({ \r\n            priceSpread: '',\r\n            pricePlusTag: '您不需要補差額'\r\n          })\r\n        }\r\n      }\r\n\r\n    );\r\n  }\r\n\r\n  // 欲交換票券的區域function\r\n  exChangeArea(e) {\r\n    this.setState({ exChangeSelectArea: e.target.value });\r\n    this.props.formdata.map((item, index) => {\r\n      // console.log(item.name,index)\r\n      if (e.target.value === item.name) {\r\n        this.setState({ exChangeSelectPrice: item.price[0] });\r\n      }\r\n      return false;\r\n      // true\r\n    });\r\n  }\r\n\r\n  exChangePrice(e) {\r\n    this.setState({ exChangeSelectPrice: e.target.value },\r\n      function () {\r\n        alert('Hello')\r\n        let selectPrice_hold = Number((this.state.selectPrice).replace(/\\D/g, \"\"));\r\n        let selectPrice_change = Number((this.state.exChangeSelectPrice).replace(/\\D/g, \"\"));\r\n        // this.setState({priceSpread: selectPrice_hold-selectPrice_change})\r\n        if (selectPrice_hold > selectPrice_change) {\r\n          this.setState({\r\n            priceSpread: selectPrice_hold - selectPrice_change,\r\n            pricePlusTag: '對方需要補給您NT$'\r\n          })\r\n        } else if (selectPrice_hold < selectPrice_change) {\r\n          this.setState({\r\n            priceSpread: selectPrice_change - selectPrice_hold,\r\n            pricePlusTag: '您需要補給對方NT$'\r\n          })\r\n        } else{\r\n          this.setState({ \r\n            priceSpread: '',\r\n            pricePlusTag: '您不需要補差額'\r\n          })\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  // 其他附加資訊的onChange function\r\n  handleChangeValue(e) {\r\n    this.setState({\r\n      [e.target.id]: e.target.value,\r\n      // 交換者的電話\r\n      phoneNumber: this.props.profile.phone_number,\r\n      user_name: this.props.profile.user_name\r\n    })\r\n  }\r\n\r\n\r\n  // 提交表單\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    // create提交表單資料的action\r\n    alert(\"表單已送出，感謝您的填寫！\");\r\n    this.props.createEXChangeFormData(this.state);\r\n  }\r\n\r\n  // checkbox\r\n  toggleChange = () => {\r\n    this.setState({\r\n      isChecked: !this.state.isChecked,\r\n    });\r\n  }\r\n\r\n  // imageUploader\r\n  handleImageUpload = (e) => {\r\n    e.preventDefault();\r\n    if (e.target.files[0]) {\r\n      const image = e.target.files[0];\r\n      const uploadTask = storage.ref(`formUploadImages/${image.name}`).put(image);\r\n      uploadTask.on('state_changed',\r\n        (snapshot) => {\r\n          // console.log(snapshot);\r\n        },\r\n        (error) => {\r\n          // console.log(error);\r\n          alert('上傳的圖檔請小於2MB，謝謝！')\r\n        },\r\n        () => {\r\n          storage.ref('formUploadImages').child(image.name).getDownloadURL().then(url => {\r\n            this.setState({ url });\r\n            // console.log(url);\r\n            alert(\"圖片已上傳完畢！\")\r\n          })\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const popUpStyle = {\r\n      padding: 0,\r\n      border: 'none',\r\n      background: 'rgba(0,0,0,0)',\r\n      boxShadow: 'none',\r\n      fontSize: '20px'\r\n    }\r\n\r\n    let concertAllBasicInfo_name = [];\r\n    let concertAllBasicInfo_place = [];\r\n\r\n    const concertDataBasic = this.props.concerDataAll;\r\n    // console.log(concertDataBasic.length)\r\n    // 這邊嘗試加上if條件句 看firebase的數據\r\n    if (concertDataBasic && concertDataBasic.length !== 0) {\r\n      for (let i = 0; i < concertDataBasic.length; i++) {\r\n        // console.log(concertDataBasic[i].concert_id,concertDataBasic[i].name,concertDataBasic[i].place);\r\n        concertAllBasicInfo_name.push(concertDataBasic[i].name);\r\n        concertAllBasicInfo_place.push(concertDataBasic[i].place);\r\n      }\r\n    }\r\n\r\n    // console.log(concertAllBasicInfo_name);\r\n    const concertName = concertAllBasicInfo_name.map((item, index) => {\r\n      return <option key={index} value={item} index={index}>{item}</option>;\r\n    });\r\n\r\n\r\n    const concertPlace = concertAllBasicInfo_place.map((item, index) => {\r\n      // console.log(item,index);\r\n      // console.log(concertAllBasicInfo_name.indexOf(this.state.ConcertName.toString()));\r\n      if (concertAllBasicInfo_name.indexOf(this.state.ConcertName.toString()) === index) {\r\n        return <option key={index}>{item}</option>\r\n      }\r\n      return false;\r\n      // true\r\n    });\r\n\r\n    // 區域與票價名稱\r\n    let dataAll = [];\r\n    let pricedataAll = []\r\n    const concertData = this.props.formdata;\r\n\r\n    if (concertData && concertData.length !== 0) {\r\n      for (let i = 0; i < concertData.length; i++) {\r\n        // console.log(concertData[i].concert_id,concertData[i].name);\r\n        if (concertData[i].concert_id === this.state.queryConcertID) {\r\n          dataAll.push(concertData[i].name);\r\n          pricedataAll.push(concertData[i].price);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    const names = dataAll.map((item, index) => {\r\n      return <option key={index} value={item} index={index}>{item}</option>;\r\n    });\r\n\r\n    // console.log(pricedataAll);\r\n    // console.log(dataAll,name);\r\n    // console.log(this.state.selectName);\r\n    // 選到的票區的index\r\n    // console.log(dataAll.indexOf(this.state.selectName.toString()))\r\n    const prices = pricedataAll.map((item, index) => {\r\n      // console.log(item,index)\r\n      if (dataAll.indexOf(this.state.selectName.toString()) === index) {\r\n        return item.map((item, index) => (\r\n          <option key={index}>{item}</option>\r\n        ));\r\n      }\r\n      // true\r\n      return false;\r\n    });\r\n\r\n    // 選到的票價（持有）\r\n    // console.log(this.state.selectPrice)\r\n\r\n    // 欲交換區域\r\n    const exChangeAreas = dataAll.map((item, index) => {\r\n      return <option key={index} value={item} index={index}>{item}</option>;\r\n    });\r\n\r\n    const exChangePrices = pricedataAll.map((item, index) => {\r\n      if (dataAll.indexOf(this.state.exChangeSelectArea.toString()) === index) {\r\n        return item.map((item, index) => (\r\n          <option key={index}>{item}</option>\r\n        ));\r\n      }\r\n      // true\r\n      return false;\r\n    });\r\n\r\n    console.log(this.props.profile.user_name)\r\n    return (\r\n      <div>\r\n        <div className=\"change_btn\" onClick={() => this.openModal()}>我要交換 <i className=\"fas fa-chevron-right\"></i></div>\r\n        <Popup\r\n          open={this.state.open}\r\n          closeOnDocumentClick\r\n          onClose={() => this.closeModal()}\r\n          contentStyle={popUpStyle}>\r\n          <div className=\"change_form_all\">\r\n            <p className=\"form_title\" >TICKET EX-CHANGE FORM</p>\r\n            <div className=\"change_form\">\r\n              <form onSubmit={this.handleSubmit.bind(this)}>\r\n                <p>{this.props.name}</p>\r\n                <div className=\"data_block\">\r\n                  <label htmlFor=\"inputform_concertName\" className=\"inputform_concertName\">\r\n                    <i className=\"fas fa-microphone\"></i> 演唱活動</label>\r\n                  <select className=\"concert_name_style\" value={this.state.ConcertName} onChange={this.changeConcertName.bind(this)}>\r\n                    <option value=\"\">請選擇表演名稱</option>\r\n                    {concertName}\r\n                  </select>\r\n                </div>\r\n                <div className=\"place_and_change\">\r\n                  <div className=\"hold_place_block\">\r\n                    <label htmlFor=\"hold_area\">\r\n                      <i className=\"fas fa-map-marker-alt\"></i> 舉行地點</label>\r\n                    <select value={this.state.ConcertPlace} onChange={this.changeConcertPlace.bind(this)}>\r\n                      <option value=\"\">請選擇</option>\r\n                      {concertPlace}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"change_way_block\">\r\n                    <label htmlFor=\"change_way\">\r\n                    <i className=\"fas fa-undo-alt\"></i> 交換方式</label>\r\n                    <select value={this.state.changeWay} id=\"changeWay\" onChange={this.handleChangeValue.bind(this)} required>\r\n                      <option value=\"\">請選擇</option>\r\n                      <option value=\"send_package\">郵寄</option>\r\n                      <option value=\"face_to_face\">面交</option>\r\n                      <option value=\"others_way\">其他</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"data_block\">\r\n                  <label htmlFor=\"hold_ticket_area\">持有區域 & 票價</label>\r\n                  <select value={this.state.selectName} onChange={this.changeName.bind(this)} required>\r\n                    <option value=\"\">請選擇區域</option>\r\n                    {names}\r\n                  </select>\r\n                  <select className=\"price_style\" value={this.state.selectPrice} onChange={this.changePrice.bind(this)} required>\r\n                    <option value=\"\">請選擇票價</option>\r\n                    {prices}\r\n                  </select>\r\n                </div>\r\n                <div className=\"data_block\">\r\n                  <label htmlFor=\"change_area\">交換區域 & 票價</label>\r\n                  <select value={this.state.exChangeSelectArea} onChange={this.exChangeArea.bind(this)} required>\r\n                    <option value=\"\">請選擇區域</option>\r\n                    {exChangeAreas}\r\n                  </select>\r\n                  <select  className=\"price_style\" value={this.state.exChangeSelectPrice} onChange={this.exChangePrice.bind(this)} required>\r\n                    <option value=\"\">請選擇票價</option>\r\n                    {exChangePrices}\r\n                  </select>\r\n                </div>\r\n                <div className=\"data_block\">\r\n                  <label htmlFor=\"price_spread\" className=\"price_spread\">\r\n                    <i className=\"fas fa-comments-dollar\"></i> 價差｜{this.state.pricePlusTag + this.state.priceSpread}</label>\r\n                </div>\r\n                <div className=\"data_block hide_contact\" onChange={this.handleChangeValue.bind(this)}>\r\n                  <p><i className=\"fas fa-address-card\"></i> 聯絡資訊｜</p>\r\n                  <p>{this.props.profile.user_name}／<span>{this.props.profile.phone_number}</span></p>\r\n                  <p>／{this.state.email}</p>\r\n                </div>\r\n                <div className=\"data_block\">\r\n                  <label htmlFor=\"ps_text\"><i className=\"fas fa-comment-dots\"></i> 備註</label>\r\n                  <textarea value={this.state.reminderTxt} id=\"reminderTxt\" onChange={this.handleChangeValue.bind(this)} required placeholder=\"說些什麼吧\"></textarea>\r\n                </div>\r\n                <label className=\"upload_block\">\r\n                  <input type=\"file\" className=\"file_upload\" url={this.state.url} id=\"filepath\" onChange={this.handleImageUpload.bind(this)} />\r\n                  <div className=\"select_file\">\r\n                    <p><i className=\"fa fa-download\" aria-hidden=\"true\"></i> 上傳票券照片</p>\r\n                    <span>上傳的圖檔請小於2MB，謝謝！</span>\r\n                  </div>\r\n\r\n                </label>\r\n                <p className=\"check_box_txt\">\r\n                  <input type=\"checkbox\" className=\"checkbox_style\" checked={this.state.isChecked} onChange={this.toggleChange} required />\r\n                  請再次確認填寫資訊，確認無誤後再送出。\r\n                      </p>\r\n                <button className=\"ChangeFormSubmit\">確認送出</button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </Popup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    formdata: state.form.formdata,\r\n    concerDataAll: state.form.concerDataAll,\r\n    auth: state.firebase.auth,\r\n    profile: state.firebase.profile,\r\n    renderMatchListDataID: state.form.renderMatchListDataID,\r\n    renderMatchListData: state.form.renderMatchListData\r\n\r\n    // 這個要透過父層傳到子層\r\n  }\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return ({\r\n    changeFormAction: () => dispatch(changeFormAction()),\r\n    createEXChangeFormData: (changeFormData) => dispatch(createEXChangeFormData(changeFormData))\r\n  })\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps, mapDispatchToProps\r\n)(ChangeFormPopUp);\r\n\r\n\r\n","export const searchBarAction = (searchInput) =>{\r\n    return (dispatch, getState,{getFirebase,getFirestore}) => {\r\n        // {getFirebase,getFirestore} 這是為了要跟database連結\r\n        // make async call to database\r\n        const firestore = getFirestore()\r\n        // 對資料庫作非同步的呼叫，完成之後才會執行下一行程式碼，三個action都不同\r\n\r\n        // let dataArray =[];\r\n        // 搜尋bar演唱會的資料\r\n        firestore.collection('AllConcertBasicData').get()\r\n        .then(querySnapshot=>{\r\n            console.log('AllConcertBasicData',querySnapshot)\r\n            querySnapshot.forEach(doc=>{\r\n                let datasharchingtung = doc.data();\r\n                console.log(doc.data())\r\n                console.log(typeof(doc.data()))\r\n                // dataArray.push(datasharchingtung)\r\n                // dispatch({type:'CREATE_OPTION_2',datachencheer})                 \r\n            })            \r\n        }).then(()=>{\r\n            // dispatch({type:'CREATE_CONCERT_NAME_PLACE',dataArray})\r\n        }).catch((err)=>{\r\n            // dispatch({type:'CREATE_PROJECT_ERROR',err})\r\n        })\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\nimport ChangeFormPopUp from './ChangeFormPopUp'\r\n// css part\r\nimport './SearchBar.css';\r\n\r\nimport { connect } from 'react-redux'\r\nimport {searchBarAction} from './store/actions/SearchBarAction'\r\n\r\nclass SearchBar extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\t\r\n\t\t// this.newGame = this.newGame.bind(this);\r\n\t}\r\n\t\r\n\trender() {\t\t\r\n\t\treturn (\r\n            <div>\r\n\t\t\t\t<div className=\"searchbar\">\r\n                \t<input type=\"text\" placeholder=\"想找誰的演唱會門票呢？\"/>\r\n                \t<i className=\"fas fa-search searchIcon\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ChangeFormPopUp/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t//   formdata:state.auth.formdata\r\n\t}\r\n  }\r\n  \r\n  \r\n  function mapDispatchToProps(dispatch) {\r\n\treturn ({\r\n\t\tsearchBarAction: () => dispatch(searchBarAction())\r\n\t})\r\n  }\r\n  \r\n   export default connect(\r\n\tmapStateToProps,mapDispatchToProps\r\n   )(SearchBar);\r\n  \r\n  ","// 抓所有演唱會的資料 render ，建立成 List\r\nexport const createupComingEvent = (comingUpEventData) =>{\r\n    return (dispatch, getState,{getFirebase,getFirestore}) => {\r\n        const firestore = getFirestore();\r\n        let concertBasicListArray = [];\r\n        firestore.collection('AllConcertBasicData').get()\r\n            .then(querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let AllConcertHome = doc.data();\r\n                    concertBasicListArray.push(AllConcertHome);\r\n                    // console.log(concertBasicListArray)               \r\n                })\r\n            }).then(()=>{\r\n            dispatch({type:'CREATE_UPCOMING_EVENT',concertBasicListArray})\r\n        }).catch((err)=>{\r\n            // dispatch({type:'CREATE_PROJECT_ERROR',err})\r\n        })\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router';\r\n\r\n// css part\r\nimport '../src/upComingEvents.css';\r\n// ...的套件\r\nimport LinesEllipsis from 'react-lines-ellipsis'\r\n\r\n// import action\r\nimport { createupComingEvent } from './store/actions/upComingEventAction'\r\n \r\n\r\n\r\nclass UpComingEvents extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\t\r\n\tcomponentDidMount(comingUpEventData){\r\n\t\tthis.props.createupComingEvent(comingUpEventData);\r\n\t\t// 當我要在function裡面叫action的時候      \r\n\t}\r\n\r\n\trender() {\r\n\t\t// console.log(this.props.comingUpEventData);\r\n\t\tconst {comingUpEventData} = this.props;\r\n\t\tconsole.log(comingUpEventData);\r\n\t\tconst items = comingUpEventData && comingUpEventData.map((item) => (\r\n\t\t<li className=\"eventBlock\" key={item.concert_id}>\r\n\t\t<img src={item.mainPic}/>\r\n\t\t<div className=\"activity_details\">\r\n\t\t\t<div className=\"hold_date\">\r\n\t\t\t{/* {console.log(\r\n\t\t\t\t'year'+`${item.date}`.split('/')[0],\r\n\t\t\t\t'month'+`${item.date}`.split('/')[1],\r\n\t\t\t\t'date'+0+`${item.date}`.split('/')[2]\r\n\t\t\t\t// 顯示結果 year 2019 month 8 date 017\r\n\t\t\t\t)} */}\r\n\r\n\t\t\t\t<p className=\"day\">\r\n\t\t\t\t\t{/* condition ? exprT : exprF */}\r\n\t\t\t\t\t{`${item.date}`.split('/')[2]}\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"month_year\">{item.month} {`${item.date}`.split('/')[0]}</p>\t\t\t\t\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div className=\"activityTitle\">{`${item.name}`.toString().slice(0,22).trim().concat('...')}\r\n\t\t\t{/* {console.log(`${item.name}`.toString().slice(0,50).trim().concat('...'))} */}\r\n\t\t\t</div>\t\t\t\t\t\t\r\n\t\t\t<div className=\"wrap_time_place\">\r\n\t\t\t\t<p className=\"time\"><i className=\"far fa-calendar-alt\"></i> {item.time}</p>\r\n\t\t\t\t<p className=\"place\"><i className=\"fas fa-map-marker-alt\"></i> {item.place}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div className=\"details_btn\">活動詳情 <i className=\"fas fa-chevron-right\"></i></div>\r\n\t\t{/* 這裡現在沒有id 要把li拆出來 連結要連結到新的畫面 */}\r\n\t</li>\r\n\t));\t\r\n\t\r\n\t\treturn (\r\n            <div className=\"upComing\">\r\n                <h3 className=\"upComingTitle\">UPCOMING EVENTS</h3>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{items}\r\n\t\t\t\t</ul>\r\n            </div>\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tcomingUpEventData:state.upComingEvent.comingUpEventData\r\n\t}\r\n  }\r\n  \r\n  \r\n  function mapDispatchToProps(dispatch) {\r\n\treturn ({\r\n\t\tcreateupComingEvent: () => dispatch(createupComingEvent())\r\n\t})\r\n  }\r\n  \r\n   export default connect(\r\n\tmapStateToProps,mapDispatchToProps\r\n   )(UpComingEvents);\r\n  \r\n\r\n\r\n\r\n// const ProjectList =({projects})=>{\r\n//     return(\r\n//         <div>\r\n//             {\r\n                // 前面的projects是偵測有沒有抓到state或資料 \r\n//                 projects&&projects.map(project=>{\r\n//                     return(\r\n                        // <link to={'/project/'+ project.id}>\r\n                        //   <div>...</div>\r\n                        // </link>\r\n//                     )\r\n//                 })\r\n//             }\r\n//         </div>\r\n//     )\r\n// }","// 首頁的全部申請表單 這邊還沒做完\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\n// css part\r\n\r\n// import action\r\n// import { createupComingEvent } from './store/actions/upComingEventAction'\r\n\r\nclass HomePageBoard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n\r\n    componentDidMount(comingUpEventData) {\r\n        // this.props.createupComingEvent(comingUpEventData);    \r\n    }\r\n\r\n    render() {\r\n        // const items = comingUpEventData && comingUpEventData.map((item) => (\r\n        //     <li className=\"eventBlock\" key={item.concert_id}>\r\n\r\n        //     </li>\r\n        // ));\r\n\r\n        return (\r\n            <div className=\"all_apply_data\">\r\n                <h3 className=\"\">All Apply Data測試</h3>\r\n                <ul>\r\n\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n// const mapStateToProps = (state) => {\r\n//     return {\r\n//         comingUpEventData:state.upComingEvent.comingUpEventData\r\n//     }\r\n// }\r\n\r\n\r\n// function mapDispatchToProps(dispatch) {\r\n//     return ({\r\n//         createupComingEvent: () => dispatch(createupComingEvent())\r\n//     })\r\n// }\r\n\r\nexport default connect(\r\n    // mapStateToProps, mapDispatchToProps\r\n)(HomePageBoard);\r\n\r\n\r\n\r\n\r\n","// 進去之後的首頁\r\nimport React from 'react';\r\n// 組件\r\n\r\nimport SearchBar from './SearchBar'\r\nimport UpComingEvents from './upComingEvents'\r\nimport HomePageBoard from './HomePageBoard'\r\n\r\n// css part\r\nimport '../src/Home.css';\r\n\r\nclass Home extends React.Component {\r\n\trender() {\t\t\r\n\t\treturn (\r\n\r\n\t\t\t\r\n\t\t\t<div>\r\n\t\t\t\t\r\n\t\t\t\t<div>   \r\n\t\t\t\t\t<div className=\"topContent\">\r\n\t\t\t\t\t\t<SearchBar/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<HomePageBoard/>\r\n\t\t\t\t\t<UpComingEvents/>\r\n\t\t\t\t</div>\r\n\t\t\t</div> \r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nexport default Home;","import React from 'react'\r\nimport firebase from \"./config/firebaseConfig\";\r\nimport { Link,Redirect } from 'react-router-dom';\r\n// 組件\r\n\r\n// css part\r\nimport './Menu.css';\r\nimport logout from './img/svg/logout.svg'\r\nimport member from './img/svg/member.svg'\r\nimport logo from './img/svg/LOGO.svg'\r\n\r\nclass Menu extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.toggleMenuActive=this.toggleMenuActive.bind(this);\r\n\t\tthis.state={\r\n\t\t\tactive:false\r\n\t\t}\r\n\t}\r\n\r\n\t// For Menu & mobile version menu\r\n\ttoggleMenuActive(){\r\n\t\tconst currentState = this.state.active;\r\n\t\tthis.setState({active:!currentState});\r\n\t}\r\n\r\n\trender() {\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"wrap_menuList\">\r\n\t\t\t\t<div className=\"menuList\">\r\n\t\t\t\t\t<Link to='/'>\r\n\t\t\t\t\t\t<div className=\"logo_no_light\">\r\n\t\t\t\t\t\t\t<img src={logo} alt=\"\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<div className=\"right_nav\">\r\n\t\t\t\t\t\t<Link to='/member_profile' className=\"member\"><div className=\"member_detail\"><img src={member} alt=\"\"/><p>會員資料</p></div></Link>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Link to=\"/entry\" className=\"signout\"><div className=\"sign_out\" onClick={ () => firebase.auth().signOut() }><img src={logout} alt=\"\"/><p>登出</p></div></Link>\r\n\t\t\t\t\t\t<a href=\"#\" className={this.state.active?'menu-trigger active':'menu-trigger'} onClick={this.toggleMenuActive}>\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\nexport default Menu;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n// 組件\r\n\r\nimport './Footer.css';\r\n\r\nclass Footer extends React.Component {\r\n\trender() {\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"footer_all\">    \r\n\t\t\t\t<ul className=\"footer_ul\">\r\n\t\t\t\t\t<Link to=''><li>關於我們</li></Link>\r\n\t\t\t\t\t<Link to=''><li>會員條款</li></Link>\r\n\t\t\t\t\t<Link to=''><li>購票須知</li></Link>\r\n\t\t\t\t\t<Link to=''><li>常見問答</li></Link>\r\n\t\t\t\t\t<Link to=''><li>聯絡我們</li></Link>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<p>Copyright © 2019 Find Ticket All rights reserved.</p>\r\n\t\t\t</div> \r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Footer;","// Back to top button\r\nimport React from 'react'\r\n// css\r\nimport './BackToTop.css'\r\n\r\nclass BackToTopButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            intervalId: 0,\r\n            nowPositionY: false\r\n        }\r\n    }\r\n\r\n    // 處理render top按鈕的觸發條件\r\n    componentDidMount() {\r\n        document.addEventListener('scroll', () => {\r\n            if (window.pageYOffset > 800) {\r\n                this.setState({ nowPositionY: true })\r\n            } else {\r\n                this.setState({ nowPositionY: false })\r\n            }\r\n        })\r\n    }\r\n\r\n    scrollStep() {\r\n        // window.pageYOffset === scrollY意思一樣\r\n        if (window.pageYOffset === 0) {\r\n            clearInterval(this.state.intervalId);\r\n        }\r\n        window.scroll(0, window.pageYOffset - this.props.scrollStepInPx);\r\n    }\r\n    // 幾秒回到最上面 \r\n    scrollToTop() {\r\n        let intervalId = setInterval(this.scrollStep.bind(this), this.props.delayInMs);\r\n        this.setState({ intervalId: intervalId });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        if(this.state.nowPositionY){\r\n            return (\r\n                <button className=\"back_to_top_button\" onClick={() => {\r\n                    this.scrollToTop();\r\n                }}>\r\n                    <i className=\"fas fa-chevron-up\"></i>\r\n                    <p>TOP</p>\r\n                </button>\r\n            );\r\n        }else{\r\n            return null;\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n\r\nexport default BackToTopButton;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport { signUp } from './store/actions/authAction'\r\nimport email from './img/svg/email.svg'\r\nimport password from './img/svg/password.svg'\r\nimport phone from './img/svg/phone.svg'\r\nimport user from './img/svg/user.svg'\r\n\r\n// 組件\r\n\r\nclass SignUp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      user_name: '',\r\n      phone_number: ''\r\n    };\r\n    this.handleSignUp = this.handleSignUp.bind(this);\r\n  }\r\n\r\n  handleSignUp(e) {\r\n    e.preventDefault();\r\n    console.log(this.state);\r\n    this.props.signUp(this.state);\r\n  }\r\n\r\n  render() {\r\n    const { auth, authError } = this.props;\r\n    if (auth.id) return <Redirect to='/home' />\r\n    return (\r\n      <form className=\"signup_form\" onSubmit={this.handleSignUp}>\r\n        <div>\r\n          <label htmlFor=\"user_name\" className=\"user_title\"><img src={user} alt=\"\" />姓名</label>\r\n          <input id=\"user_name\" value={this.state.user_name} placeholder=\"Name\" type=\"text\" onChange={(e) => this.setState({ user_name: e.target.value })} />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"phone_number\" className=\"phone_title\"><img src={phone} alt=\"\" />電話</label>\r\n          <input id=\"phone_number\" value={this.state.phone_number} placeholder=\"Phone Number\" type=\"text\" onChange={(e) => this.setState({ phone_number: e.target.value })} />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"email\" className=\"email_title\"><img src={email} alt=\"\" />信箱</label>\r\n          <input id=\"email\" value={this.state.email} placeholder=\"E-mail\" type=\"text\" onChange={(e) => this.setState({ email: e.target.value })} />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\" className=\"password_title\"><img src={password} alt=\"\" />密碼</label>\r\n          <input id=\"password\" value={this.state.password} placeholder=\"Password\" type=\"password\" onChange={(e) => this.setState({ password: e.target.value })} />\r\n        </div>\r\n        <button>註冊</button>\r\n        <div>{authError ? <p className=\"errorMsg\">{authError}</p> : null}</div>\r\n      </form>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signUp: (newUser) => dispatch(signUp(newUser))\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  console.log(state)\r\n  // 這邊可以看到firebase的預設功能\r\n  return {\r\n    auth: state.firebase.auth,\r\n    authError: state.auth.authError\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp)\r\n","import { getFirestore } from \"redux-firestore\";\r\n\r\nexport const signIn = (credentials) =>{\r\n    // 因為有 thunk 我們可以停止 dispatch 的過程\r\n    // 並且 return 一個 function\r\n    return (dispatch,getState,{getFirebase})=>{\r\n        const firebase = getFirebase();\r\n        firebase.auth().signInWithEmailAndPassword(\r\n            credentials.email,\r\n            credentials.password\r\n        ).then(()=>{\r\n            dispatch({type:'LOGIN_SUCCESS'})\r\n        }).catch((err)=>{\r\n            // 如果登入失敗的話\r\n            dispatch({type:'LOGIN_ERROR',err})\r\n        })\r\n        \r\n    }\r\n}\r\n\r\n\r\n// 登出\r\nexport const signOut = () => {\r\n    return(dispatch,getState,{getFirebase})=>{\r\n        const firebase = getFirebase();\r\n        // 因為是登出 所以不需要給參數\r\n        firebase.auth().signOut().then(()=>{\r\n            dispatch({type:'SIGNOUT_SUCCESS'})\r\n        }\r\n\r\n        )\r\n    }\r\n}\r\n\r\n// 註冊\r\nexport const signUp = (newUser) => {\r\n    return(dispatch,getState,{getFirebase})=>{\r\n        const firebase = getFirebase();\r\n        const firestore = getFirestore();\r\n        firebase.auth().createUserWithEmailAndPassword(\r\n            newUser.email,\r\n            newUser.password\r\n        ).then((resp)=>{\r\n            // 就有一個叫做users的資料會存起來\r\n            return firestore.collection('users').doc(resp.user.uid).set(\r\n                {\r\n                    // 我想要替使用者增加的'額外'屬性\r\n                    email:newUser.email,\r\n                    user_name:newUser.user_name,\r\n                    phone_number:newUser.phone_number\r\n                    // 這邊的document = uid\r\n                }\r\n            )\r\n        }).then(()=>{\r\n            dispatch({type:'SIGNUP_SUCCESS'})\r\n        }).catch(err=>{\r\n            dispatch({type:'SIGNUP_ERROR',err})\r\n        })\r\n        \r\n    }\r\n}","import React from 'react';\r\nimport { withRouter } from \"react-router\";\r\nimport * as firebase from 'firebase/app';\r\nimport { Link } from 'react-router-dom'\r\n// 組件\r\n\r\nimport { connect } from 'react-redux'\r\n// 影片做的\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n// actions\r\nimport { signIn } from './store/actions/authAction'\r\n\r\nimport email from './img/svg/email.svg'\r\nimport password from './img/svg/password.svg'\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { email: '', password: '' };\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n  }\r\n\r\n  handleLogin(e) {\r\n    e.preventDefault();\r\n    console.log(this.state);\r\n    this.props.signIn(this.state);\r\n    // action 才抓到資料\r\n  }\r\n\r\n  render() {\r\n    const { authError, auth } = this.props;\r\n    if (auth.id) return <Redirect to='/home' />\r\n    return (\r\n      <form className=\"login_form\" onSubmit={this.handleLogin}>\r\n        <div>\r\n          <label htmlFor=\"email\" className=\"email_title\"><img src={email} alt=\"\" />信箱</label>\r\n          <input id=\"email_login\" value={this.state.email} placeholder=\"E-mail\" type=\"text\" onChange={(e) => this.setState({ email: e.target.value })} />\r\n          <span className=\"input-border\"></span>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\" className=\"password_title\"><img src={password} alt=\"\" />密碼</label>\r\n          <input id=\"password_login\" value={this.state.password} placeholder=\"Password\" type=\"password\" onChange={(e) => this.setState({ password: e.target.value })} />\r\n        </div>\r\n        <button>登入</button>\r\n        <div className=\"some_reminder\">\r\n          {authError ? <p className=\"errorMsg\">{authError}</p> : null}\r\n          <p className=\"ps_txt\">Don't have an account? <Link to=\"\">Sign up here.</Link></p>\r\n        </div>\r\n      </form>\r\n\r\n    );\r\n  }\r\n};\r\n\r\n// mapDispatchToProps 是一個函數\r\n// 它可以傳入 dispatch, ownProps\r\n// 定義 UI 組件如何發出 action\r\n// 實際上就是要調用 dispatch 這個方法\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signIn: (creds) => dispatch(signIn(creds))\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    authError: state.auth.authError,\r\n    auth: state.firebase.auth\r\n    // 抓到UID耶\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\r\n// export default withRouter(Login);\r\n// 這個是原本的","// TabForSignUpAndLogin 這個為了登入註冊的切換 tab 按鈕\r\nimport React from 'react';\r\n\r\n// 父層 LoginAndSignUpPopup >> 父層 TabsAll >> TabForSignUpAndLogin\r\n\r\nclass TabForSignUpAndLogin extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onTabClick = this.onTabClick.bind(this);\r\n  }\r\n\r\n  onTabClick(){\r\n      this.props.handleClickTab(this.props.tabIndex);\r\n  }\r\n  \r\n\r\n  render() {\r\n    const { isActive,label } = this.props;\r\n    return (\r\n        <button className=\"tab_template\" onClick={this.onTabClick}>\r\n            {label}\r\n        </button>         \r\n    );\r\n  }\r\n};\r\n\r\n// const mapDispatchToProps = (dispatch)=>{\r\n//   return{\r\n//     // signUp:(newUser)=>dispatch(signUp(newUser))\r\n//   }\r\n// }\r\n\r\n// const mapStateToProps = (state) =>{\r\n//   return{\r\n//     auth:state.firebase.auth,\r\n//     authError:state.auth.authError\r\n//   }\r\n// }\r\n\r\n\r\n// export default connect(mapStateToProps,mapDispatchToProps)(TabForSignUpAndLogin)\r\n\r\n\r\nexport default TabForSignUpAndLogin;","import React from 'react';\r\n// 父層 LoginAndSignUpPopup >> 父層 TabsAll >> TabForSignUpAndLogin\r\n// 組件\r\nimport TabForSignUpAndLogin from './TabForSignUpAndLogin'\r\n\r\n\r\n\r\nconst TabsAll = ({ activeTabIndex, handleClickTab,tabIndex }) => {\r\n    const isActive = activeTabIndex === tabIndex;\r\n    return(\r\n    <div className=\"switch_button\">\r\n        <TabForSignUpAndLogin\r\n            tabIndex=\"0\" label=\"登入\"\r\n            isActive={isActive}\r\n            handleClickTab={handleClickTab} />\r\n        <TabForSignUpAndLogin\r\n            tabIndex=\"1\" label=\"註冊\"\r\n            isActive={isActive}\r\n            handleClickTab={handleClickTab} />\r\n    </div>)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// class TabsAll extends React.Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//   }\r\n\r\n//   render() {\r\n//     return (\r\n//         <div>\r\n//             <TabForSignUpAndLogin/>\r\n//         </div>         \r\n//     );\r\n//   }\r\n// };\r\n\r\nexport default TabsAll;","import React from 'react'\r\nimport Popup from 'reactjs-popup'\r\nimport { link } from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport SignUp from './SignUp'\r\nimport Login from './Login'\r\nimport TabsAll from './TabsAll'\r\n\r\nimport './LoginAndSignUpPopup.css'\r\n\r\n\r\nclass LoginAndSignUpPopup extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      open: false,\r\n      activeTabIndex: 0\r\n    }\r\n    this.openModal = this.openModal.bind(this)\r\n    this.closeModal = this.closeModal.bind(this)\r\n    this.handleClickTab = this.handleClickTab.bind(this)\r\n  }\r\n  openModal() {\r\n    this.setState({ open: true })\r\n  }\r\n  closeModal() {\r\n    this.setState({ open: false })\r\n  }\r\n\r\n  // 最上層 view 的 click 控制事件\r\n  handleClickTab(tabIndex) {\r\n    this.setState({\r\n      activeTabIndex: tabIndex\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { activeTabIndex } = this.state;\r\n    return (\r\n      <div className=\"topBNContainer\">\r\n        <div className=\"joinRightNow\" onClick={this.openModal}>\r\n          <p>Joi<span className=\"break_point\">n</span> No<span className=\"break_point\">w ></span></p>\r\n        </div>\r\n        <Popup\r\n          open={this.state.open}\r\n          closeOnDocumentClick\r\n          onClose={this.closeModal}\r\n\r\n        >\r\n          <div className=\"login_and_signup_wrap_popup\">\r\n            <TabsAll handleClickTab={this.handleClickTab} activeTabIndex={activeTabIndex} />\r\n            {activeTabIndex==0 ? (\r\n               <Login />\r\n            ) : (\r\n              <SignUp />\r\n              )}\r\n          </div>\r\n        </Popup>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {}\r\n}\r\n\r\n\r\n// 這個是 redux 的 connect\r\nexport default connect(mapStateToProps)(LoginAndSignUpPopup);","import React from 'react'\r\nimport Popup from 'reactjs-popup'\r\nimport LoginAndSignUpPopup from './LoginAndSignUpPopup'\r\n\r\n\r\n\r\n\r\n// css part\r\nimport './Logo.css';\r\n// import ConcertBg from '../img/Concert_bg.jpg'\r\n\r\n\r\n// 進平台的Logo，要求先加入會員\r\nclass Logo extends React.Component {\r\n\trender() {\t\t\r\n\t\treturn (\r\n            <div className=\"logo_container\">\r\n\t\t\t\t<div className=\"logo\">\r\n\t\t\t\t\t<b><i className=\"fas fa-ticket-alt\"></i>  F<span>in</span>d<span> Tic</span>ket</b>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h3 className=\"viceTitle\">加入會員，有票馬上通知你！</h3>\r\n\t\t\t\t<LoginAndSignUpPopup/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Logo;","// 在會員頁面上點選申請交換Action\r\n// exChangeApplyBtn 填完表單 > 搜索 > render表單的交換按鈕\r\n// 抓到彼此的 UID (user_id) + DOC ID + 該文件的交換狀態 initialChangeState\r\n// 傳到 firestore (因為確定都是存在的 所以不用判斷是否存在)\r\n// 因為每一張票都會有申請人 票券DOC ID = 集合裡面的DOC ID\r\n// 裡面放陣列抓到提出申請的人的ID 還有 DOC ID \r\n\r\nexport const exChangeApplyBtn = (applyData, DecideData) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firebase = getFirebase();\r\n        const firestore = getFirestore();\r\n        if (applyData.applySearch_docID) {\r\n            let apply = [];\r\n            let applyuserID = applyData.applySearch_userID;\r\n            let applydocID = applyData.applySearch_docID;\r\n            let deciderDocID = DecideData.deciderDocID;\r\n            // 申請的文件，把狀態改成 1\r\n            firestore.collection('exchange_form').doc(`${applydocID}`).update({ initialChangeState: 1 })\r\n            firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).get().then(docSnapshot => {\r\n                // 先試試看擺在這裡\r\n                if (docSnapshot.exists) {\r\n                    firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).update({\r\n                        apply: firestore.FieldValue.arrayUnion({ Apply_userID: applyuserID, Apply_docID: applydocID })\r\n                    }).then(() => {\r\n                        dispatch({ type: 'CREATE_APPLY_DATA_BOTH_USER', apply, DecideData })\r\n                    })\r\n                } else {\r\n                    // apply.push(applyData)\r\n                    firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).set({\r\n                        apply: `${apply.push(applyData)}`,\r\n                        ...DecideData\r\n                    }).then(() => {\r\n                        dispatch({ type: 'CREATE_APPLY_DATA_BOTH_USER', apply, DecideData })\r\n                    })\r\n\r\n                }\r\n            })\r\n        } else {\r\n            let apply = [];\r\n            let applyuserID = applyData.Apply_userID;\r\n            let applydocID = applyData.Apply_docID;\r\n            let deciderDocID = DecideData.deciderDocID;\r\n            firestore.collection('exchange_form').doc(`${applydocID}`).update({ initialChangeState: 1 })\r\n            // 如果 ApplicationForm_context 裡面的 找的到對應的 doc 就update array [] \r\n            firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).get().then(docSnapshot => {\r\n                if (docSnapshot.exists) {\r\n                    firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).update({\r\n                        apply: firestore.FieldValue.arrayUnion({ Apply_userID: applyuserID, Apply_docID: applydocID })\r\n                    }).then(() => {\r\n                        dispatch({ type: 'CREATE_APPLY_DATA_BOTH_USER', apply, DecideData })\r\n                    })\r\n                } else {\r\n                    apply.push(applyData);\r\n                    firestore.collection('ApplicationForm_context').doc(`${deciderDocID}`).set({\r\n                        apply,\r\n                        ...DecideData\r\n                    }).then(() => {\r\n                        dispatch({ type: 'CREATE_APPLY_DATA_BOTH_USER', apply, DecideData })\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n// 收到申請的那方會看到的所有資料-----------------------------------------------------------------\r\nexport const getAllApplyDataToSpecificUser = (getAllApplyData) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firebase = getFirebase();\r\n        const firestore = getFirestore();\r\n        const currentWho = getState().firebase.auth.uid;\r\n        // 全部的資訊\r\n        let applyArray = [];\r\n        let decideData = [];\r\n\r\n        console.log(currentWho, '現在的使用者ID');\r\n        // 現在的使用者是誰\r\n\r\n        firestore.collection('ApplicationForm_context').where('deciderUserID', '==', `${currentWho}`).get().then(\r\n            querySnapshot => {\r\n                querySnapshot.forEach(doc => {\r\n                    let matchApplyDocID = doc.id;\r\n                    let matchApplyDocData = doc.data();\r\n\r\n                    firestore.collection('exchange_form').doc(`${matchApplyDocID}`).get().then(\r\n                        querySnapshot => {\r\n                            let data = querySnapshot.data();\r\n                            data.docID = matchApplyDocID;\r\n                            matchApplyDocData.apply.map((items) => {\r\n                                firestore.collection('exchange_form').doc(`${items.Apply_docID}`).get().then(\r\n                                    querySnapshot => {\r\n                                        if (querySnapshot.data()!==undefined) {\r\n                                            let applydocID = querySnapshot.id;\r\n                                            let applydocData = querySnapshot.data();\r\n                                            applydocData.docID = applydocID;\r\n                                            decideData.push({ data, apply: [applydocData] })\r\n                                            dispatch({ type: 'GET_USER_APPLICATION_DATA_WAIT_RESPONSE', decideData })\r\n                                            console.log(decideData)\r\n                                        }\r\n                                    }\r\n                                )\r\n                            })\r\n                        }\r\n                    )\r\n                })\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\n\r\n// 接受或拒絕的按鈕-----------------------------------------------------------------\r\n// 一次可以更改全部的狀態,只要按鈕被按了就要觸發\r\nexport const AgreeOrRefuseBtn = (responseResult) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        // console.log(responseResult, '回傳的資料');\r\n        // console.log(responseResult.decideDocID, '要決定的那個文件ID');\r\n        // console.log(responseResult.DocID, '被接受或拒絕的文件ID');\r\n        // console.log(responseResult.Email, '被接受或拒絕的email');\r\n        // console.log(responseResult.State, '被接受或拒絕的文件資料狀態');\r\n        // console.log(responseResult.acceptOrRefuse, 'F 拒絕 T 同意');\r\n        // console.log(responseResult.Reminder, '被接受或拒絕的提示文字');\r\n        // console.log(responseResult.UserName, '被接受或拒絕的名字');\r\n\r\n        let decideDocID = responseResult.decideDocID;\r\n        let DocID = responseResult.DocID;\r\n        let result = responseResult.acceptOrRefuse;\r\n\r\n        if (result === true) {\r\n            firestore.collection('exchange_form').doc(`${DocID}`).update({ initialChangeState: 2 })\r\n            firestore.collection('exchange_form').doc(`${decideDocID}`).update({ initialChangeState: 2 })\r\n        } else {\r\n            firestore.collection('exchange_form').doc(`${DocID}`).update({ initialChangeState: 3 })\r\n            firestore.collection('exchange_form').doc(`${decideDocID}`).update({ initialChangeState: 3 })\r\n        }\r\n        dispatch({ type: 'RESPONSE_TO_THE_APPLICANTS', responseResult })\r\n    }\r\n}","// 把符合搜索條件的資料 render 出來\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\n// css part\r\nimport './RenderMatch.css'\r\n\r\n// import action\r\nimport { exChangeApplyBtn } from './store/actions/sendRequestToTicketAction'\r\n\r\n\r\nclass RenderMatch extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t// 讓申請者只能點一次\r\n\t\t\tletButtonDisabled: false,\r\n\t\t\t// 填寫表單的人的文件資料\r\n\t\t\tApply_docID: '',\r\n\t\t\tApply_userID: '',\r\n\t\t\t// 這是另外一個要傳遞的資料\r\n\t\t\tapplySearch_docID:'',\r\n\t\t\tapplySearch_userID:''\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\t// 我這邊應該會有一個action 放在這裡的是用來抓資料的\r\n\t\t// 確保所有的資料都會抓到\r\n\t\tthis.setState({\r\n\t\t\tApply_docID: this.props.applyDocumentID,\r\n\t\t\tApply_userID: this.props.changeFormData.user_id,\r\n\t\t\tapplySearch_docID:this.props.searchAgainData.docID,\r\n\t\t\tapplySearch_userID:this.props.searchAgainData.userID\r\n\t\t})\r\n\t}\r\n\r\n\r\n\t// 點到render出來之後的結果的交換按鈕\r\n\texChangeApplyBtn(e) {\r\n\t\te.preventDefault();\r\n\t\tlet deciderDocID = e.currentTarget.getAttribute(\"data-docid\");\r\n\t\tlet deciderUserID = e.currentTarget.getAttribute(\"data-userid\");\r\n\t\tthis.setState({\r\n\t\t\t// 讓使用者不能按  我這邊有處理嗎 \r\n\t\t\tletButtonDisabled: true\r\n\t\t});\r\n\t\talert('已提出申請交換！請靜候佳音');\r\n\t\t// console.log(e.currentTarget.getAttribute(\"data-initstate\"));\r\n\t\t// 送出去的資料\r\n\t\tthis.props.exChangeApplyBtn(this.state, { deciderDocID: deciderDocID, deciderUserID: deciderUserID });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(this.props.searchAgainData.userID, 'LOOK AT ME')\r\n\t\tconst { renderMatchListData, renderMatchListData_search } = this.props;\r\n\r\n\t\t// renderMatchListData\r\n\t\tconst DocumentItems = renderMatchListData && renderMatchListData.map((item, index) => (\r\n\t\t\t<li className=\"renderMatch_block\" key={item.user_id}>\r\n\t\t\t\t<div className=\"imgbox\">\r\n\t\t\t\t\t<img src={item.url} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"renderMatch_concert_name\">{item.ConcertName}</p>\r\n\t\t\t\t\t<span className='renderMatch_docID'>{item.docID}</span>\r\n\t\t\t\t\t<p className=\"renderMatch_change\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titem.changeWay === 'send_package' && '郵寄' || item.changeWay === 'face_to_face' && '面交' || item.changeWay === 'others_way' && '其他'\r\n\t\t\t\t\t\t}｜{\r\n\t\t\t\t\t\t\titem.initialChangeState === 0 && '等待有緣人交換' || item.initialChangeState === 1 && '等待回應' || item.initialChangeState === 2 && '已結案' || item.initialChangeState === 3 && '拒絕'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"match_change_ticket\">交換｜{item.exChangeSelectArea + ' ' + item.exChangeSelectPrice}</p>\r\n\t\t\t\t\t<p className=\"match_hold_ticket\">持有｜{item.selectName + ' ' + item.selectPrice}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className=\"match_reminder\"><i className=\"fas fa-comment-dots\"></i>　{item.reminderTxt}</p>\r\n\t\t\t\t<div className=\"bottom_buttons\">\t\t\t\t{\r\n\t\t\t\t\titem.initialChangeState === 2 && <p>Sorry！已結案，無法申請交換</p> || item.initialChangeState !== 2 &&\r\n\t\t\t\t\t<button data-userid={item.user_id} data-docid={item.docID} data-initstate={item.initialChangeState} data-docid={item.docID} className=\"send_ExChange_Request_btn\" disabled={this.state.letButtonDisabled} onClick={this.exChangeApplyBtn.bind(this)}>發送交換請求</button>\r\n\t\t\t\t}</div>\r\n\t\t\t</li>\r\n\t\t)\r\n\t\t)\r\n\r\n\r\n\t\t// 改成 renderMatchListData_search\r\n\t\tconst DocumentItems_Search = renderMatchListData_search && renderMatchListData_search.map((item, index) => (\r\n\t\t\t<li className=\"renderMatch_block\" key={item.user_id}>\r\n\t\t\t\t<div className=\"imgbox\">\r\n\t\t\t\t\t<img src={item.url} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"renderMatch_concert_name\">{item.ConcertName}</p>\r\n\t\t\t\t\t<span className='renderMatch_docID'>{item.docID}</span>\r\n\t\t\t\t\t<p className=\"renderMatch_change\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titem.changeWay === 'send_package' && '郵寄' || item.changeWay === 'face_to_face' && '面交' || item.changeWay === 'others_way' && '其他'\r\n\t\t\t\t\t\t}｜{\r\n\t\t\t\t\t\t\titem.initialChangeState === 0 && '等待有緣人交換' || item.initialChangeState === 1 && '等待回應' || item.initialChangeState === 2 && '已結案' || item.initialChangeState === 3 && '拒絕'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"match_change_ticket\">交換｜{item.exChangeSelectArea + ' ' + item.exChangeSelectPrice}</p>\r\n\t\t\t\t\t<p className=\"match_hold_ticket\">持有｜{item.selectName + ' ' + item.selectPrice}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className=\"match_reminder\"><i className=\"fas fa-comment-dots\"></i>　{item.reminderTxt}</p>\r\n\t\t\t\t<div className=\"bottom_buttons\">\t\t\t\t{\r\n\t\t\t\t\titem.initialChangeState === 2 && <p>Sorry！已結案，無法申請交換</p> || item.initialChangeState !== 2 &&\r\n\t\t\t\t\t<button data-userid={item.user_id} data-docid={item.docID} data-initstate={item.initialChangeState} data-docid={item.docID} className=\"send_ExChange_Request_btn\" disabled={this.state.letButtonDisabled} onClick={this.exChangeApplyBtn.bind(this)}>發送交換請求</button>\r\n\t\t\t\t}</div>\r\n\t\t\t</li>\r\n\t\t)\r\n\t\t)\r\n\r\n\r\n\t\tif (renderMatchListData && renderMatchListData) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"rendermatch_wrap\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{DocumentItems}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else if (renderMatchListData_search && renderMatchListData_search) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"rendermatch_wrap\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{DocumentItems_Search}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\t// console.log(state); console看資料有沒有送出來\r\n\treturn {\r\n\t\trenderMatchListData: state.form.renderMatchListData,\r\n\t\t// 再次搜索的抓到的資料\r\n\t\trenderMatchListData_search: state.memberDataBase.renderMatchListData_search,\r\n\t\t// 下面這個是要提出交換申請的人\r\n\t\tapplyDocumentID: state.form.applyDocumentID,\r\n\t\tchangeFormData: state.form.changeFormData,\r\n\t\tsearchAgainData:state.memberDataBase.searchAgainData\r\n\t}\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn ({\r\n\t\t// 傳出去的資料是要加到申請單的那個集合裡面\r\n\t\texChangeApplyBtn: (applyData, DecideData) => dispatch(exChangeApplyBtn(applyData, DecideData))\r\n\t})\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RenderMatch);","// 抓使用者填的表單資料 in 會員頁面 memberReducer\r\n// exchange_form 所以要抓這個集合的 符合相對應的會員ID\r\nexport const getUserApplyFormData = (memberFormData) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firebase = getFirebase();\r\n        const firestore = getFirestore();\r\n        const applyWho = getState().firebase.auth.uid;\r\n        // console.log(`${applyWho}`, '目前的會員，要查詢該會員的申請紀錄');\r\n        let userApplyData = [];\r\n        // 使用者填寫過的交換需求表單\r\n        firestore.collection('exchange_form').where('user_id', '==', `${applyWho}`).get().then(querySnapshot => {\r\n            // console.log(querySnapshot.docs);\r\n            querySnapshot.forEach(doc => {\r\n                let match_User_DocID = doc.id;\r\n                let match_User_DocData = doc.data();\r\n                userApplyData.push({ match_User_DocID, match_User_DocData });\r\n            })\r\n        }).then(() => {\r\n            dispatch({ type: 'CREATE_USER_PROFILE', userApplyData })\r\n        }).catch((err) => {\r\n            // dispatch({type:'CREATE_PROJECT_ERROR',err})\r\n        })\r\n    }\r\n}\r\n\r\n\r\n// 會員頁面刪除申請交換的功能 MemberProfileApplyData的刪除功能\r\nexport const deleteUserApplyData = (deleteApply) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        // 找到對應資料之後 刪除document\r\n        firestore.collection('exchange_form').doc(`${deleteApply}`).delete().then(() => {\r\n            console.log(\"文件已經成功刪除\");\r\n        }).then(() => {\r\n            dispatch({ type: 'DELETE_USER_APPLY_DATA_IN_MEMBERPAGE', deleteApply });\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n// 會員頁面再次搜索功能\r\nexport const searchDataAgainBtn = (searchAgainData) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        // 這個是搜尋對應的\r\n        const {\r\n            docID: docID,\r\n            exChangeSelectArea: exChangeSelectArea,\r\n            exChangeSelectPrice: exChangeSelectPrice,\r\n            queryConcertID: queryConcertID,\r\n            selectName: selectName,\r\n            selectPrice: selectPrice,\r\n            userID: userID\r\n        } = searchAgainData;\r\n        const firestore = getFirestore();\r\n        // 這邊重複地宣告\r\n        let renderMatchListData_search = [];\r\n        firestore.collection('exchange_form').where('queryConcertID', '==', `${queryConcertID}`).where('selectName', '==', `${exChangeSelectArea}`).where('selectPrice', '==', `${exChangeSelectPrice}`).where('exChangeSelectArea', '==', `${selectName}`).where('exChangeSelectPrice', '==', `${selectPrice}`).get().then(\r\n            querySnapshot => {\r\n                // console.log(querySnapshot.docs);\r\n                querySnapshot.forEach(\r\n                    doc => {\r\n                        // 有重複的宣告\r\n                        let matchDocID = doc.id;\r\n                        let matchDocData = doc.data();\r\n                        if (doc.data().user_id !== `${userID}`) {\r\n                            matchDocData.docID = matchDocID;\r\n                            renderMatchListData_search.push(matchDocData);\r\n                        }\r\n                    }\r\n                )\r\n                dispatch({\r\n                    type: 'SEARCH_AGAIN_BUTTON',\r\n                    renderMatchListData_search, searchAgainData\r\n                })\r\n                if (renderMatchListData_search.length !== 0) {\r\n                    window.location.hash = '/renderMatch';\r\n                } else {\r\n                    window.location.hash = '/member_profile';\r\n                }\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\n","// 會員曾經填寫過的資料\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\n// 組件\r\n\r\n// action\r\nimport { deleteUserApplyData } from './store/actions/GetUserFormDataAction'\r\nimport { searchDataAgainBtn } from './store/actions/GetUserFormDataAction'\r\n\r\n// css part\r\nimport './MemberProfileApplyData.css'\r\n\r\nclass MemberProfileApplyData extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    // 刪除交換文件的功能\r\n    handleDelete(e) {\r\n        e.preventDefault();\r\n        let deleteApply = e.currentTarget.getAttribute(\"data-docid\");\r\n        alert('申請文件已刪除');\r\n        this.props.deleteUserApplyData(deleteApply);\r\n    }\r\n\r\n    // 重新搜索的功能\r\n    handleSearch(e) {\r\n        e.preventDefault();\r\n        // 把資料提交回去\r\n        let docID = e.currentTarget.getAttribute(\"data-docid\");\r\n        let userID = e.currentTarget.getAttribute(\"data-userid\");\r\n        let selectName = e.currentTarget.getAttribute(\"data-select-name\");\r\n        let selectPrice = e.currentTarget.getAttribute(\"data-select-price\");\r\n        let exChangeSelectArea = e.currentTarget.getAttribute(\"data-exchange-name\");\r\n        let exChangeSelectPrice = e.currentTarget.getAttribute(\"data-exchange-price\");\r\n        let queryConcertID = e.currentTarget.getAttribute(\"data-queryconcert\");\r\n\r\n        let searchAgainData = { docID: docID, userID: userID, selectName: selectName, selectPrice: selectPrice, exChangeSelectArea: exChangeSelectArea, exChangeSelectPrice: exChangeSelectPrice, queryConcertID: queryConcertID }\r\n        this.props.searchDataAgainBtn(searchAgainData);\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        // 可以抓到父層的資料 在父層插入的子組件要記得寫data={this.props} const宣告必寫\r\n        const { data } = this.props;\r\n        console.log(typeof (data.memberFormData));\r\n        const info = data.memberFormData && data.memberFormData.map((item, index) => {\r\n            let itemData = item.match_User_DocData;\r\n            let itemDocID = item.match_User_DocID;\r\n            // 交換狀態的資料顯示 \r\n            let exChangeStatus = itemData.initialChangeState;\r\n            if (exChangeStatus === 0) { exChangeStatus = '等待有緣人交換' }\r\n            else if (exChangeStatus === 1) {\r\n                exChangeStatus = '等待回應'\r\n            } else if (exChangeStatus === 2) {\r\n                exChangeStatus = '已結案'\r\n            } else {\r\n                exChangeStatus = '拒絕'\r\n            }\r\n            let exChangeWay = itemData.changeWay;\r\n            if (exChangeWay === 'send_package') { exChangeWay = '郵寄' }\r\n            else if (exChangeWay === 'face_to_face') {\r\n                exChangeWay = '面交'\r\n            } else {\r\n                exChangeWay = '其他'\r\n            }\r\n\r\n            return (\r\n                <li key={itemDocID} className=\"user_apply_data_block\">\r\n                    <div className=\"apply_image\">\r\n                        <img src={itemData.url} />\r\n                    </div>\r\n                    <div className=\"concert_place_exchange_info\">\r\n                        <h4>{itemData.ConcertName}</h4>\r\n                        <p className=\"exchangeWay\">\r\n                            {exChangeWay}｜{exChangeStatus}\r\n                        </p>\r\n                        <p className=\"\">交換 {itemData.exChangeSelectArea + ' ' + itemData.exChangeSelectPrice}</p>\r\n                        <p className=\"\">持有 {itemData.selectName + ' ' + itemData.selectPrice}</p>\r\n                    </div>\r\n                    <p className=\"reminder_txt\">\r\n                        <i className=\"fas fa-comment-dots\"></i> {itemData.reminderTxt}\r\n                    </p>\r\n                    {\r\n                        itemData.initialChangeState !== 2 &&\r\n                        <div className=\"bottom_buttons\">\r\n                            <button className=\"deleteThisApply\"\r\n                                onClick={this.handleDelete.bind(this)}\r\n                                data-docid={itemDocID}>\r\n                                <i className=\"fas fa-times\"></i> 刪除\r\n                            </button>\r\n                            <button className=\"searchAgain\"\r\n                                onClick={this.handleSearch.bind(this)}\r\n                                data-docid={itemDocID}\r\n                                data-userid={itemData.user_id}\r\n                                data-select-name={itemData.selectName}\r\n                                data-select-price={itemData.selectPrice}\r\n                                data-exchange-name={itemData.exChangeSelectArea}\r\n                                data-exchange-price={itemData.exChangeSelectPrice}\r\n                                data-queryconcert={itemData.queryConcertID}\r\n                            >\r\n                                <i className=\"fas fa-search\"></i> 搜尋\r\n                            </button>\r\n                        </div>\r\n                        || itemData.initialChangeState === 2 &&\r\n                        <div className=\"bottom_buttons\">\r\n                            <p>已結案</p>\r\n                        </div>\r\n                    }\r\n                </li>\r\n            )\r\n        })\r\n        return (\r\n            <div className=\"apply_data_all\">\r\n                <h3 className=\"profile_title\">填寫交換申請紀錄</h3>\r\n                <div className=\"border_decoration\"></div>\r\n                <div className=\"member_apply_data_block\">\r\n                    <ul>\r\n                        {info}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return ({\r\n        deleteUserApplyData: (deleteApply) => dispatch(deleteUserApplyData(deleteApply)), searchDataAgainBtn: (searchAgainData) => dispatch(searchDataAgainBtn(searchAgainData))\r\n    })\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    mapDispatchToProps)(MemberProfileApplyData);\r\n\r\n","// 接受或拒絕的那個組件\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\n// import action\r\nimport { AgreeOrRefuseBtn } from './store/actions/sendRequestToTicketAction'\r\n// css\r\n\r\n// 可以const兩種不同的state 這樣抓到的資料就會不一樣\r\nclass DealResponseDashBoard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // 回應的結果是 true / false\r\n            applyResponse: false\r\n        };\r\n\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    // 同意交換的按鈕\r\n    acceptApplyBtn(e) {\r\n        e.preventDefault();\r\n        alert('已接受交換申請，請自行連絡對方');\r\n        let DocID = e.currentTarget.getAttribute(\"data-docid\");\r\n        let State = e.currentTarget.getAttribute(\"data-state\");\r\n        let UserName = e.currentTarget.getAttribute(\"data-user-name\");\r\n        let Reminder = e.currentTarget.getAttribute(\"data-reminder-txt\");\r\n        let Email = e.currentTarget.getAttribute(\"data-email\");\r\n        let decideDocID = e.currentTarget.getAttribute(\"data-decide-doc-id\");\r\n        this.setState({\r\n            applyResponse: true\r\n        }, (() => {\r\n            this.props.AgreeOrRefuseBtn(\r\n                {\r\n                    acceptOrRefuse: this.state.applyResponse,\r\n                    DocID: DocID,\r\n                    State: State,\r\n                    UserName: UserName,\r\n                    Reminder: Reminder,\r\n                    Email: Email,\r\n                    decideDocID: decideDocID\r\n                }\r\n            )\r\n        })\r\n        );\r\n\r\n    }\r\n\r\n\r\n    // 拒絕交換的按鈕\r\n    refuseApplyBtn(e) {\r\n        e.preventDefault();\r\n        alert('已拒絕交換申請');\r\n        let DocID = e.currentTarget.getAttribute(\"data-docid\");\r\n        let State = e.currentTarget.getAttribute(\"data-state\");\r\n        let UserName = e.currentTarget.getAttribute(\"data-user-name\");\r\n        let Reminder = e.currentTarget.getAttribute(\"data-reminder-txt\");\r\n        let Email = e.currentTarget.getAttribute(\"data-email\");\r\n        let decideDocID = e.currentTarget.getAttribute(\"data-decide-doc-id\");\r\n        this.setState({\r\n            applyResponse: false\r\n        }, (() => {\r\n            this.props.AgreeOrRefuseBtn(\r\n                {\r\n                    acceptOrRefuse: this.state.applyResponse,\r\n                    DocID: DocID,\r\n                    State: State,\r\n                    UserName: UserName,\r\n                    Reminder: Reminder,\r\n                    Email: Email,\r\n                    decideDocID: decideDocID\r\n                }\r\n            )\r\n        })\r\n        );\r\n\r\n    }\r\n\r\n    render() {\r\n        const { data } = this.props;\r\n        console.log(data.ticketChange)\r\n        let allData = data.ticketChange.decideData;\r\n        let listItems = allData && allData.map((listItem, index) => {\r\n            console.log(listItem.data.ConcertName)\r\n            console.log(listItem.apply)\r\n\r\n            // 交換狀態的資料顯示\r\n            let exChangeStatus = listItem.data.initialChangeState;\r\n\r\n            if (exChangeStatus === 0) { exChangeStatus = '等待有緣人交換' }\r\n            else if (exChangeStatus === 1) {\r\n                exChangeStatus = '等待回應'\r\n            } else if (exChangeStatus === 2) {\r\n                exChangeStatus = '已結案'\r\n            } else {\r\n                exChangeStatus = '拒絕'\r\n            }\r\n\r\n            // 交換方式要轉換成中文\r\n            let exChangeWay = listItem.data.changeWay;\r\n            if (exChangeWay === 'send_package') { exChangeWay = '郵寄' }\r\n            else if (exChangeWay === 'face_to_face') {\r\n                exChangeWay = '面交'\r\n            } else {\r\n                exChangeWay = '其他'\r\n            }\r\n            console.log()\r\n            return (\r\n                <div key={index + listItem.data.docID} className=\"apply_block_decide\">\r\n                    <div className=\"be_applied_document\">\r\n                        <div className=\"apply_title\"><p>\r\n                            <i className=\"fas fa-signature\"></i> 持有票券\r\n                            <span className=\"docid_small\">{listItem.data.docID}</span>\r\n                        </p></div>\r\n                        <div className=\"imgbox\">\r\n                            <img src={listItem.data.url} />\r\n                            \r\n                        </div>\r\n                        <div>\r\n                            <p>{listItem.data.ConcertName}</p>\r\n                            <p>{exChangeWay}｜{exChangeStatus}</p>\r\n                            <p>{listItem.data.selectName + ' ' + listItem.data.selectPrice}</p>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    {listItem.apply&&listItem.apply.map((item, index) => {\r\n                        let exChangeStatus_applied = item.initialChangeState;\r\n                        if (exChangeStatus_applied === 0) { exChangeStatus_applied = '等待有緣人交換' }\r\n                        else if (exChangeStatus_applied === 1) {\r\n                            exChangeStatus_applied = '等待回應'\r\n                        } else if (exChangeStatus_applied === 2) {\r\n                            exChangeStatus_applied = '已結案'\r\n                        } else {\r\n                            exChangeStatus_applied = '拒絕'\r\n                        }\r\n\r\n                        // 交換方式要轉換成中文\r\n                        let exChangeWay_applied = item.changeWay;\r\n                        if (exChangeWay_applied === 'send_package') { exChangeWay_applied = '郵寄' }\r\n                        else if (exChangeWay_applied === 'face_to_face') {\r\n                            exChangeWay_applied = '面交'\r\n                        } else {\r\n                            exChangeWay_applied = '其他'\r\n                        }\r\n\r\n                        return (\r\n                            <div className=\"applicant_list\" key={index+'apply'+item.docID}>\r\n                                <div className=\"apply_title\">\r\n                                    <p>\r\n                                        <i className=\"far fa-sticky-note\"></i> 申請交換細節\r\n                                        <span className=\"docid_small\">{item.docID}</span>\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"imgbox\">\r\n                                    <img src={item.url} />\r\n                                </div>\r\n                                <div className=\"info_block\">\r\n                                    <p>{item.user_name} <span className=\"docid_small\">{item.email}</span></p>\r\n                                    <p>{exChangeWay_applied}｜{exChangeStatus_applied}</p>\r\n                                    <p>持有{item.selectName + ' ' + item.selectPrice}</p>\r\n                                    <p><i className=\"fas fa-comment-dots\"></i> {item.reminderTxt}</p>\r\n                                </div>\r\n                                \r\n                                <div className=\"bottom_buttons\">\r\n                                    <button\r\n                                        onClick={this.acceptApplyBtn.bind(this)}\r\n                                        data-docid={item.docID}\r\n                                        data-decide-doc-id={listItem.data.docID}\r\n                                        data-state={item.initialChangeState}\r\n                                        data-user-name={item.user_name}\r\n                                        data-reminder-txt={item.reminderTxt}\r\n                                        data-email={item.email}>\r\n                                        <i className=\"fas fa-check\"></i> 接受\r\n                                        </button>\r\n                                    <button\r\n                                        onClick={this.refuseApplyBtn.bind(this)}\r\n                                        data-docid={item.docID}\r\n                                        data-decide-doc-id={listItem.data.docID}\r\n                                        data-state={item.initialChangeState}\r\n                                        data-user-name={item.user_name}\r\n                                        data-reminder-txt={item.reminderTxt}\r\n                                        data-email={item.email}>\r\n                                        <i className=\"fas fa-times\"></i> 拒絕\r\n                                        </button>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    )}\r\n\r\n                </div>\r\n            )\r\n        })\r\n\r\n        return (\r\n\r\n            <div>\r\n                <h3 className=\"profile_title\">待處理交換申請</h3>\r\n                <div className=\"border_decoration\"></div>\r\n                <div>\r\n                    {listItems}\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return ({\r\n        AgreeOrRefuseBtn: (responseResult) => dispatch(AgreeOrRefuseBtn(responseResult))\r\n    })\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    mapDispatchToProps)(DealResponseDashBoard);","// 會員頁面 基礎資料\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport '../src/MemberProfile.css'\r\n\r\n// import action\r\nimport { getUserApplyFormData } from './store/actions/GetUserFormDataAction'\r\nimport { getAllApplyDataToSpecificUser } from './store/actions/sendRequestToTicketAction'\r\n\r\n// 組件\r\n\r\n// 會員的填寫資料組件\r\nimport MemberProfileApplyData from './MemberProfileApplyData'\r\n\r\nimport DealResponseDashBoard from './DealResponseDashBoard'\r\n\r\n// 會員的交換申請紀錄組件\r\n\r\n// css part\r\nclass MemberProfile extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t// active:false\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount(memberFormData, getAllApplyData) {\r\n\t\tthis.props.getAllApplyDataToSpecificUser(getAllApplyData);\r\n\t\tthis.props.getUserApplyFormData(memberFormData);\r\n\t\t// 在function裡面叫action的時候\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\t// console.log(this.props.renderFulldocData[0])\r\n\t\t// console.log(this.props.renderFulldocData[1])\r\n\t\t// 第二筆資料真的是抓不到耶\r\n\r\n\t\treturn (\r\n\t\t\t// 會員資訊\r\n\t\t\t<div className=\"profile_basic\">\r\n\t\t\t\t<h3 className=\"profile_title\">會員基本資訊</h3>\r\n\t\t\t\t<div className=\"border_decoration\"></div>\r\n\t\t\t\t<div className=\"profile\">\r\n\t\t\t\t\t<div className=\"picture\">\r\n\t\t\t\t\t\t<img className=\"profile_picture\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"details\">\r\n\t\t\t\t\t\t<p>姓名｜{this.props.profile.user_name}　<span>{this.props.auth.uid}</span></p>\r\n\t\t\t\t\t\t<p>E-mail｜{this.props.auth.email}</p>\r\n\t\t\t\t\t\t<p>電話號碼｜{this.props.profile.phone_number}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<MemberProfileApplyData data={this.props} />\r\n\t\t\t\t<DealResponseDashBoard data={this.props} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\t// console.log(state.ticketChange.renderFulldocData[0])\r\n\t// console.log(state.ticketChange.renderFulldocData[1])\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tprofile: state.firebase.profile,\r\n\t\tmemberFormData: state.memberDataBase.memberFormData,\r\n\t\tticketChange: state.ticketChange,\r\n\t\t// 不要這樣寫↓\r\n\t\t// ticketChange: state.ticketChange.matchApplyDocData,\r\n\t\t// renderFulldocData: state.ticketChange.renderFulldocData,\r\n\t\t// decideFulldocData: state.ticketChange.decideFulldocData\r\n\t}\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\treturn ({\r\n\t\tgetAllApplyDataToSpecificUser: (getAllApplyData) => dispatch(getAllApplyDataToSpecificUser(getAllApplyData)),\r\n\t\tgetUserApplyFormData: (memberFormData) => dispatch(getUserApplyFormData(memberFormData))\r\n\r\n\t})\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps, mapDispatchToProps\r\n)(MemberProfile);\r\n\r\n\r\n","import React from 'react'\r\nimport { Route, Redirect, Switch, Link } from \"react-router-dom\";\r\nimport firebase from \"./config/firebaseConfig\";\r\n\r\n// 組件們\r\n\r\nimport Home from './Home'\r\nimport Menu from './Menu'\r\nimport Footer from './Footer'\r\nimport BackToTop from './BackToTop'\r\n\r\n\r\n\r\n// css part\r\nimport './style.css';\r\nimport Logo from './Logo';\r\nimport RenderMatch from './RenderMatch';\r\nimport MemberProfile from './MemberProfile';\r\n\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tauthenticated: false,\r\n\t\t\tuser: null\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tfirebase.auth().onAuthStateChanged(user => {\r\n\t\t\tif (user) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tauthenticated: true,\r\n\t\t\t\t\tcurrentUser: user,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tauthenticated: false,\r\n\t\t\t\t\tcurrentUser: null,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst { authenticated, entry } = this.state;\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t\r\n\t\t\t\t<Route path=\"/entry\" render={() => !authenticated ? (<Logo />) : (<Redirect to=\"/\" />)} />\r\n\t\t\t\t<Route exact path=\"/\" render={() => authenticated ? (<Home />) : (<Redirect to=\"/entry\" />)} />\r\n\t\t\t\t<Route path={['/renderMatch', '/member_profile','/']} render={() => !authenticated ? null : (<Menu/>)}  />\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/renderMatch\" component={RenderMatch} />\r\n\t\t\t\t\t<Route path=\"/member_profile\" render={() => authenticated ? (<MemberProfile />) : null} />\r\n\t\t\t\t</Switch>\r\n\t\t\t\t<Route path={['/renderMatch', '/member_profile','/']} render={() => !authenticated ? null : (<BackToTop scrollStepInPx=\"50\" delayInMs=\"16.66\" />)}  />\r\n\t\t\t\t<Route path={['/renderMatch', '/member_profile','/']} render={() => !authenticated ? null : (<Footer/>)}  />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from \"react-router-dom\";\nimport { createStore, applyMiddleware } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\n//reducers集線器\nimport rootReducer from '../src/store/reducers/rootReducer'\n// this is the binding layer 可以幫助我們綁定redux\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\nimport { reduxFirestore, getFirestore } from 'redux-firestore'\nimport { reactReduxFirebase, getFirebase } from 'react-redux-firebase'\nimport firebase from './config/firebaseConfig'\n// 這邊的firebase可以理解成綁定的firebase project\n\n\nimport logger from 'redux-logger';\n\n\n\n// 組件\nimport App from './App';\n\n// 這是import react thunk 這邊還可以放其他的middleware\nconst store = createStore(rootReducer,\n    composeWithDevTools(\n        applyMiddleware(thunk.withExtraArgument({getFirebase,getFirestore})),\n        applyMiddleware(logger),\n        reduxFirestore(firebase),\n        reactReduxFirebase(firebase,\n            {useFirestoreForProfile:true,\n                userProfile:'users',\n                attachAuthIsReady:true}\n            )\n        // 偵測登入的狀態\n    ));\n\n\n\n\n// inside the function need to put a route reducer.\n// 還是可以有不同的reducer\n\n// withExtraArgument 他可以讓我們在action\n// return (dispatch, getState, 'another parameter must be an object')  這段code裡面多一個參數\n\n// 用這行包住的話 就是會等到狀態 ready 才開始 render \n\nstore.firebaseAuthIsReady.then(() => { // state is ready here\n    ReactDOM.render(<Provider store={store}><HashRouter><App /></HashRouter></Provider>, document.getElementById(\"root\"));\n})"],"sourceRoot":""}